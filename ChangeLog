2006-08-15  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py: fix for bug 350213 - defensive
	programming for combo box braille generator.

2006-08-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/bugs.html:
          Added an entry for Evolution bug #351516:
          [a11y] Evolution does not issue "focus:" events when the last 
          message in the message header summary list is deleted.

2006-08-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/bugs.html:
          Added an entry for Evolution bug #351358:
          [a11y] Evolution crashes after trying to navigate new message 
          after deleting an old one.

2006-08-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/bugs.html:
          Added an entry for gnome-screensaver bug #350716:
          [a11y] Gnome Screen saver password dialog not accessible.

2006-08-11  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: OOPS!  Fix loop logic mistake I made
	when making the change to allow us to see what would be output
	even if speechServerFactory is None.  This had the bad effect
	of making the output of many things be repeated many times.
	
2006-08-11  Oana Serb <os@baum.ro>

	* src/orca/util.py, src/orca/J2SE-access-bridge.py,
	src/orca/default.py: fix for bug 350739 to improve list navigation
	for the Java platform.  This also adds the isSameObject method to
	util.py to check for accessible object equivalence and uses it in
	default.py.
	
2006-08-11  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix for bug 350854 - handle
	object:state-changed:focused events so Orca will recognize when
	GEdit's edit area has focus again after a maximize/unmaxmize of
	GEdit's window on GNOME 2.15/16.
	
	* src/orca/speech.py: for regression testing purposes, allow us to
	get what would have been spoken even if settings.speechServerFactory 
	is None.
	
2006-08-10  Willie Walker <william.walker@sun.com>

	* src/orca/flat_review.py: fix for bug 349465 - take some
	defensive actions in the event that the AT-SPI implementation
	has implemented getTextAtOffset incorrectly (i.e., it gives
	back garbage for offsets).
	
2006-08-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Fixed bug #350218. GtkDemo Editable cells tree demo seems to 
          be speaking both cells in a row

        * bugs/bugs.html:
          Added an entry for gtk+ bug #350215:
          [a11y] GtkDemo expander button - cannot navigate or flat review
          to stuff that has been expanded.

2006-08-10  Oana Serb <os@baum.ro>

	* src/orca/util.py: Fix bug 350724 - improve handling of
	LABEL_FOR and LABELLED_BY objects.

2006-08-10  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: initialize
	self._activeScript to None in __init__ to make sure the
	field is defined before being used.
	
2006-08-09  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html, bugs/bug_350623.py: gnome-terminal 2.15.4 
	regression that breaks getTextAtOffset.

	* bugs/bugs.html, bugs/bug_350624.py: metacity 2.15.13 regression
	that causes status bar to no longer emit name change events.
	
	* orca.desktop.in: gnome-i81n and gnome-doc-list suggested and
	approved string change: "_Comment=Present on-screen information as
	speech or braille, or magnify the screen"
	
2006-08-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py:
          src/orca/orca_state.py:
          Fixed bug #350294. _initGUIState in GUI prefs can issue a 
          TypeError (orca).

        * src/orca/default.py:
          Fixed bug #350212. Spin Buttons only announce one change.

2006-08-07  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: fix typo made during the orca_state.py
	refactor: instead of orca_state.lastInputEvent, make it
	orca_state.lastInputEventTimestamp.  Thanks, Rich.
	
2006-08-07  Mike Pedersen <michael.pedersen@sun.com> 

        * test/keystrokes/gtk-demo/buttonboxes.keys
        * test/keystrokes/gtk-demo/comboboxes.keys
        * test/keystrokes/gtk-demo/dialogs.keys

          added new gtk-demo  tests.

2006-08-06  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.8.

	* po/POTFILES.in: add orca.desktop.in.
	
	* Makefile.am: put orca.desktop.in, not orca.desktop in EXTRA_DIST.

2006-08-04  Joanmarie Diggs <via william.walker@sun.com>

	* src/orca/dectalk.py: better ACSS support for DECtalk through
	emacspeak: added parameters for additional voices.  (Thanks
	Joanie!!!)
	
2006-08-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          With much guidance from Will (thanks!), we've reworked the 
          way that "object:selection-changed events are handled. This 
          fixes bug #347691. The rework also fixes bug #345462 and 
          bug #341371 in a much cleaner manner.

          This is a relatively big change. It needs to be fully tested.

        * bugs/bugs.html:
          Added an entry for Evolution bug #347228:
          [a11y] Evolution not always firing "object:state-changed:expanded" 
          events when tree table entries are collapsed/expanded.

2006-08-03  Willie Walker <william.walker@sun.com>

	* configure.in, po/LINGUAS: work to meet GNOME GOAL #2.0: LINGUAS
	(http://live.gnome.org/GnomeGoals/PoLinguas)
	
	* configure.in, Makefile.am, .cvsignore, m4, m4/.cvsignore,
	orca.desktop.in, orca.png, orca.spec.in: add orca.desktop.
	
2006-08-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Fix for bug #345462. Change to processObjectEvent(). If we are 
          in a menu, and we are focused and there are no selected children,
          the set the locus of focus and notify the presentation manager 
          of the change.

        * src/orca/default.py:
          Slight adjustment in onActiveDescendantChanged() for the fix
          for bug #341371, to call orca.setLocusOfFocus() to set the
          focus to None, rather that set it via orca_state.locusOfFocus
          directly.

2006-08-02  Willie Walker <william.walker@sun.com>

	* src/orca/orca_prefs.py: add lines to ~/.orca/user-settings.py
	that make it more convenient to turn on/off various debugging and
	testing utilities.
	
	* src/orca/atspi.py: use '%f' instead of '%d' to output
	configuration information for gilSleepTime.
	
2006-08-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Fix for bug #341371. Adjusted the onActiveDescendantChanged()
          routine to set orca_state.locusOfFocus to None before calling
          orca.setLocusOfFocus(), if the event.source was the same as the
          parent of orca_state.locusOfFocus.

2006-08-01  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Added an entry for balsa bug #326305:
          "[a11y] balsa crashes when opening Inbox when orca is running."

        * src/orca/atspi.py:
          Fixed bug #319738. The child routine() needs to be more careful 
          about indices out of bounds.

2006-08-01  Oana Serb <os@baum.ro>

	* src/orca/braillegenerator.py: adjust where the role is displayed
	when outputting text for pushbuttons.

2006-07-31  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Added an entry for gnome-panel bug #337059:
          "[a11y] "Volume Control" embedded component in gnome-panel 
          doesn't set it's accessible name."

          Added an entry for rhythmbox bug #331042: 
          "[a11y] Rhythmbox crashes when entering flat review mode in Orca"

2006-07-31  Willie Walker <william.walker@sun.com>

	* src/orca/orca.in: more "shellification", making sure command
	line arguments are passed to the python process.

	* src/orca/dectalk.py, src/orca/outloud.c: convert floating point
	ACSS values to integer values to better comply with what is
	expected by the emacspeak support
	(thanks Joanmarie Diggs!).
	
2006-07-30  Willie Walker <william.walker@sun.com>

	* src/orca/util.py: defensive programming in the case of a
	top level window disappearing when looking for the active
	window in findActiveWindow.  Also fix misleading typo in
	getKnownApplications (it used to say orca._buildAppList when
	it should say util.getKnownApplications).
	
2006-07-28  Willie Walker <william.walker@sun.com>

	* src/orca/util.py: send traceit output to debug log file using
	debug.LEVEL_ALL.
	
	* src/orca/util.py: add traceit utility to help with debugging.
	
	* src/orca/settings.py, src/orca/atspi.py, 
	src/orca/gnomespeechfactory.py, src/orca/focus_tracking_presenter.py:
	add gilSleepTime setting to allow one to customize whether we use
	time.sleep or not to try to unlock/free/sidestep Python's global
	interpreter lock (GIL).  The default value is 0.00001, but if you
	set it to 0 in ~/.orca/user-settings.py, you can experiment with
	hang behavior and how time.sleep helps or hinders hangs.
	
	* docs/pydoc/Makefile.am: change PYTHONPATH so this will actually
	create pydocs again.
	
2006-07-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          src/orca/keybinding.py:
          src/orca/orca.py:
          Fixed bug #319660 - exiting learn mode should display current 
          locus of focus.

2006-07-28  Willie Walker <william.walker@sun.com>

	* docs/pydoc/Makefile.am, src/orca/Makefile.am, src/orca/atspi.py,
	src/orca/braillegenerator.py, src/orca/default.py,
	src/orca/focus_tracking_presenter.py, src/orca/gnomespeechfactory.py,
	src/orca/httpserver.py, src/orca/input_event.py, src/orca/mag.py,
	src/orca/orca.py, src/orca/orca_gui_prefs.py, src/orca/settings.py,
	src/orca/speech.py, src/orca/speechgenerator.py, src/orca/util.py,
	src/orca/scripts/Evolution.py, src/orca/scripts/Mozilla.py,
	src/orca/scripts/StarOffice.py, src/orca/scripts/gaim.py,
	src/orca/scripts/gcalctool.py, src/orca/scripts/gedit.py,
	src/orca/scripts/gnome-terminal.py: pychecker fixes and circular
	import removal.

2006-07-28  Remus Draica <rd@baum.ro>

	* src/orca/default.py: only update braille using the text specialization
	if we're sure the text specialization exists.
	
2006-07-28  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: abort if two speech resets are
	detected in a short period of time.  This helps prevent an infinite
	loop of speech resets, which results in hangs.
	
	* src/orca/braille.py: fix bug 348980 - get braille cursor routing
	keys working again.
	
2006-07-27  Remus Draica <rd@baum.ro>

	* src/orca/orca.py, src/orca/default.py: handle case where we can
	get window activated/deactivated events out of order.
	
2006-07-27  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: defensive programming to verify we can actually
	get to the various specializations of an object (added try/except
	statements around calls to _narrow).
	
	* src/orca/scripts/Mozilla.py: do not perform special menu handling
	logic in onFocus - it has been deemed to getting in the way by 
	Lynn Monsanto (thanks Lynn!).
	
	* src/orca/orca.in: a new script for starting Orca.  This script
	is still early in development and is currently configured to just
	clean up stray processes and then run Orca once.  However, if you
	comment out the line that sets RUNONCE (note that you need to
	comment it out - setting the value to something else will not work),
	the script will attempt to do this:

	    1) Clean up stray processes before starting Orca

	    2) Put a watchdog process in the background to monitor the 
	       state of Orca.  The watchdog will cleanup stray processes 
	       (including orca itself) if it detects something has gone
	       awry.
	
	    3) Keep rerunning Orca on a non-zero exit status from Orca.

	Regardless of the RUNONCE configuration, the script also sets/uses 
	PYTHONPATH to tell python where to find the Orca modules.  This
	is helpful for people who have installed Orca in a non-standard
	location by running autogen/configure with a prefix other than
	/usr.

	I need help from people on this script.  For example, I cannot
	figure out how to make the watchdog die when I Ctrl+C the script -
	the watchdog seems to be running in nohup mode.  In addition, we
	need to work more on the exit values from Orca.
	
	* src/orca/orca.py, src/orca/atspi.py, src/orca/braille.py,
	src/orca/settings.py: use SIGALRM instead of timeouts - we get
	better stack traces from signals.
	
	* src/tools/repeat_play: add script to repeatedly play a 
	keystrokes file while Orca is running.  This helps stress
	test Orca.
	
2006-07-26  Mike Pedersen <michael.pedersen@sun.com> 

        * test/keystrokes/gedit/gedit-test.keys
        * test/keystrokes/gnome-terminal/gnome-terminal.keys
          added new gedit test and gnome terminal test.

2006-07-26  Willie Walker <william.walker@sun.com>

	* src/orca/httpserver.py: override log_request to avoid annoying
	log message sent to stdout for each GET, POST, etc. request.
	
2006-07-26  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Moved the entry for bug #348466 to gail (from Evolution).

          Added an entry for gnome-panel bug #341409:
          "[a11y] Orca - In the "Add to Panel" window the items in 
           the table are not read."

          Added an entry for Nautilus bug #338353 
          "[a11y]: Rename file in nautilus not spoken properly by 
           screen reader."

          Added an entry for gconf-editor bug #342420
          "[a11y]: Orca not correctly reporting key values in gconf-editor."

2006-07-25  Willie Walker <william.walker@sun.com>

	* src/orca/settings.py, src/orca/focus_tracking_presenter.py,
	src/orca/braille.py, src/orca/atspi.py, src/orca/orca.py: add hang
	detection handlers.  These are managed via the
	settings.timeoutTime and settings.timeoutCallback properties.
	Before doing an operation that might hang, Orca will put a timer
	in place.  This timer will call settings.timeoutCallback if the
	timer expires after settings.timeoutTime seconds.  The current
	timeout callback merely aborts Orca, and the timeout is currently
	set to a pretty long time period (10 seconds).  The next step here
	is to create a script that will detect these aborts and restart
	Orca if appropriate.
	
        * src/orca/orca.py: add a debug.LEVEL_ALL stack dump on the
	signal handling routines to help us better understand where
	Orca is when we send it signals.
	
2006-07-25  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Added an entry for Evolution bug #348466:
          [a11y] When in the 'subject' and 'to' lines of evolution, 
          backspaced characters are not announced.

        * src/orca/scripts/gaim.py:
          After doing a Conversation->Clear Scrollback in a chat room, 
          it was possible that we would receive a zero length message. 
          Added some bullet-proofing to prevent a tracback when looking 
          for a newline in the first character position of the 
          onTextInserted() message.

2006-07-25  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: remove ominmous looking
	Traceback on ImportError for a script.  The specs at
	http://pydoc.org/2.4.1/exceptions.html#ImportError say it is
	issued when a module cannot be found. We don't consider this an
	error since we fallback to default.  In addition, we have an
	additional except clause to catch other errors
	(e.g., syntax and such) on import, and that clause will output a
	stack trace.  The net effect of this is that it makes debug logs
	easier to search for Tracebacks that are "real" issues we care
	about.
	
	* src/orca/mag.py: provide better handling of the crosswires 
	and cursor in the magnifier when tracking the mouse.
	
2006-07-24  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.7.

2006-07-24  Raivis Dejus  <orvils@gmail.com>

        * configure.in: Added "lv" (Latvian) to ALL_LINGUAS.
        * po/lv.po: Added Latvian Translation.

2006-07-23  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: ignore defunct objects
	when processing object events.  They seem to be a source of 
	hangs.  Many thanks to Joanmarie Diggs for coming up with a 
	test case to help find this.  The test case is to repeatedly
	show/hide a message in Evolution using Enter in the message
	list to show it and Escape on the message window to hide it.

	NOTE: I'm still not confident that this is the final fix.  The
	problem is that an object can go defunct at any time, including
	the entire time we are processing an object event.  So...we might
	try doing some magic in atspi.py to check for the defunct state
	each time any field of an accessible is referenced and throw an
	exception if we see a COMM_FAILURE or a defunct state.  The rest
	of our code should handle the exception.  If this seems like the
	right thing to do, we can brush up on our Python chops and figure
	out how to do it.
	
2006-07-21  Willie Walker <william.walker@sun.com>

        * src/orca/gaim.py: I think we finally skinned this cat.  The
	problem seems to be that the chat area would not send events
	to us unless we tickled it by examining the hierarchy.  So,
	we tickle away, but try to be efficient about it as well.
	
2006-07-21  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Added an entry for Evolution bug #347964:
          "[a11y] When deleting messages in Evolution, Orca initially speaks
          the wrong tree item".

        * src/orca/gaim.py:
          Applied a suggestion from Will (thanks). In the onTextInserted()
          routine, look to see if the text field is editable or not, and only
          do the chat room message check if the text field is not editable.
          This is a performance improvement as it will no longer do bogus
          chat room checking as the user is typing in text.

        * src/orca/default.py:
          Backed out the fix to bug #341371 in onSelectionChanged(). It
          has side-effects on other things. Reopened bug #341371 and bug
          #347691.

        * src/orca/default.py:
          Per Wills request, backed out getRowHeader() and getColumnHeader()
          changes in locusOfFocusChanged().

2006-07-21  Willie Walker <william.walker@sun.com>

	* src/orca/util.py: fix LABELED_BY/LABELLED_BY typo.  :-(

	* src/orca/speechgenerator.py: make sure _getSpeechForObjectRole 
	returns a list even if the role of an object is unknown.

	* bugs/bugs.html: reconcile with latest releases of external projects.

	* src/orca/speech.py, src/orca/orca_gui_prefs.py: fix bug 348084 -
	fail gracefully if speech is not available.
	
2006-07-20  Oana Serb <os@baum.ro>

	* src/orca/util.py: More handling of situations where the
	the label for a FILLER or PANEL is done by placing an
	unbound label as the first child of the FILLER/PANEL and
	the content of the FILLER/PANEL is the second child.
	
2006-07-20  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/Evolution.py: fix bug 348131 - make SayAll
	perform properly in Evolution.  The main fix is to call
	speech.sayAll once with a custom textLines context generator that
	wraps util.textLines rather than calling it repeatedly with the
	util.textLines generator.
	
2006-07-19  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          src/orca/orca.py:
          Moved the Orca specific keybindings out of the init() routine in
          orca.py, over to the setupInputEventHandlers and getKeyBindings() 
          routines in default.py. 

          _keyBindings in orca.py is currently empty, but the logic is 
          retained there, just in case we wish to reinstate those (or
          other) Orca specific key bindings in the future.

        * src/orca/default.py:
          src/orca/focus_tracking_presenter.py:
          src/orca/orca.py:
          src/orca/settings.py:
          Reworked how Orca handles "No focus", based on a suggested
          approach from Will (thanks).

        * src/orca/speechgenerator.py:
          Reinstating the "and (not already_focused)" test in
          _getSpeechForTableCell(). This is needed to prevent the
          name being repeated when it's the same table that has focus.
          There are still problems will table cells though (see bug #347228).

2006-07-19  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: more debug output
	when settings.debugEventQueue is enabled.
	
2006-07-19  Oana Serb <os@baum.ro>

	* src/orca/keynames.py: add new keynames:
	  keynames["Meta_L"]      = _("left meta")
	  keynames["Meta_R"]      = _("right meta")
	  keynames["Num_Lock"]    = _("num lock")
	  keynames["Caps_Lock"]   = _("caps lock")
	  keynames["Scroll_Lock"] = _("scroll lock")
	  keynames["Page_Up"]     = _("page up")
	  keynames["Page_Down"]   = _("page down")

	* src/orca/orca.py: delay appending " on" and " off" to key echo
	until after we've looked up the keyname.  Also make " on" and
	" off" internationalized strings.
	
2006-07-18  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/settings.py:
	add code to allow us to debug the event queue.  It might be
	the source of our hangs.  To enable this, set 
	settings.debugEventQueue to True and set your debug level to
	ALL.
	
2006-07-18  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py:
          Fixed bug #347228. Orca now correctly identifies state of top
          level item in some tree tables.

2006-07-18  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: oops - import 'time' so SayAll
	will work again.
	
	* src/orca/atspi.py, src/orca/settings.py: add experimental "home
	grown" main loop that attempts to side step the GIL some more.  It
	is only enabled if you set settings.useBonoboMain to False (the
	default value is True, which means to use the real bonobo main
	loop).
	
	* src/orca/focus_tracking_presenter.py: add more logic to allow
	"PROCESS OBJECT EVENT" lines to be output if there is not a 
	filter in place.
	
2006-07-17  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py, src/orca/focus_tracking_presenter.py,
	src/orca/gnomespeechfactory.py: use calls to time.sleep as a means
	to sidestep the global interpreter lock (GIL).  This hopefully
	eliminates a large number of hangs. See the following URLs for
	more information:

        http://mail.python.org/pipermail/python-list/2002-October/126632.html
        http://twistedmatrix.com/pipermail/twisted-python/2005-July/011052.html
        http://www.pyzine.com/Issue001/Section_Articles/article_ThreadingGlobalInterpreter.html"""
        	
2006-07-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gaim.py:
          Adjusted the setting of the text field index in onTextInserted()
          that points to the current chat room.

        * src/orca/default.py:
          Adjusted use of the event parameter in locusOfFocusChanged(), 
          to allow it to work correct if event=None.

          Fixed bug #341371 and bug #347691. Orca will now report the 
          file name in file picker when there is only one file existing 
          in current folder.

2006-07-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py:
          Couple of changes to the speakSetupAssistantLabel() routine:
          - Only speak the screen label if we haven't already done so.
          - If the locus of focus is a push button that's insensitive,
            speak/braille about it. (The Identity screen has such a
            component).

          Adjusted occurances of speech.speak() when used in
          speakSetupAssistantLabel() to supply a second parameter of
          None and a third parameter of False so that they won't interrupt
          previous utterances.

2006-07-14  Oana Serb <os@baum.ro>

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py:
	fallback to the description for buttons if no other text exists.
	This is primarily to handle some situations for the Java platform.

2006-07-14  Willie Walker <william.walker@sun.com>

	* src/orca/util.py: further refinement to FILLER label logic:
	don't use the label if it has been specifically set up to 
	label something.

2006-07-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gaim.py:
          Adjust the "Don't" string to be a complete string in its own
          right ("Do not speak chat room name.") rather than something
          that gets prepended onto another string. Reduces translation
          problems.

          Simplified getting the text field index to just one occurance of:
          index = len(allTextFields-2)

        * src/orca/focus_tracking_presenter.py:
          Adjusted the way that noFocus is set in the _dequeueEvent()
          routine. It no longer checks whether the component that has
          focus is not sensitive.

2006-07-13  Oana Serb <os@baum.ro>

	* src/orca/J2SE-access-bridge.py: work on menus and tree nodes.
	
2006-07-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gaim.py:
          Added in gaim script specific support for Insert-h, which 
          toggles whether we prefix chat room messages with the name 
          of the chat room (default is not to).

        * src/orca/scripts/gaim.py:
          Added in gaim script specific support for Insert-[<n>] where
          <n> is 1-9, which will speak/braille the previous <n>th message.

        * src/orca/scripts/gaim.py:
          Refinements on how we detect we have received a new message in
          the chat room message areas.

2006-07-13  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py,
	src/orca/gnomespeechfactory.py: use locks when mucking around with
	the gidle handling.  We were running into race conditions where we
	were killing the gidle handler when we shouldn't have been doing
	so.  The impact of this was that Orca would sometimes not present
	changes to the display until another event was received.
	
	* src/orca/braillegenerator.py: apply similar FILLER logic 
	provided Oana Serb at Baum (thanks!) to braille.
	
2006-07-13  Oana Serb <os@baum.ro>

	* src/orca/speechgenerator.py, src/orca/util.py: handle case
	where a FILLER object is actually a labeled container that 
	groups a set of children.  An example of this is the GEdit
	preferences dialog.
	
	* src/orca/rolenames.py: make braille string for radio menu item
	consistent with what is being displayed for check menu item.
	
	* src/orca/braillegenerator.py: add rolename for radio menu items.
	
	* src/orca/atspi.py: turn radio buttons and check boxes in
	menu items into their associated menu-like roles (e.g.,
	radio button menu item and check menu item) to better handle
	what we're getting from the Java access bridge.

2006-07-12  Willie Walker <william.walker@sun.com>
	
	* src/orca/gnomespeechfactory.py: move processing of speech 
	callbacks for SayAll handling to gidle thread.

2006-07-12  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html:
          Filed Evolution bug #347347, that we need to track, that 
          prevents the text selection state ("selected/unselected") 
          being properly reported by Orca.

          [a11y] Moving the caret around in the message arrow doesn't 
          generate "object:text-caret-moved" events.

        * src/orca/focus_tracking_presenter.py:
          Slight tweak to only braille/speak "No focus" if the braille/speech 
          verbosity level is set to settings.VERBOSITY_LEVEL_VERBOSE.

2006-07-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          src/orca/focus_tracking_presenter.py:
          src/orca/settings.py:
          Fixed bug #334892. Reduced the number of times that Orca
          brailles/speaks "No Focus" by moving this logic to the GTK
          idle thread handler and also remembering when "No Focus"
          was last uttered, and not uttering it again if it's within
          a certain time period (settings.noFocusWaitTime - default is
          4 seconds).

2006-07-11  Mike Pedersen <michael.pedersen@sun.com> 

        *  docs/doc-set/ue_input_style.sgml
        *  docs/doc-set/ue_output_style.sgml
          Updates to both the input and output guides.

2006-07-11  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: do not print out 
	"PROCESS OBJECT EVENT" debug lines if the event debug is
	to be filtered by the debug.eventDebugFilter.
	
	* orca.spec.in: fix "pyborit" typo.

2006-07-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gaim.py:
          Fixed bug #347163. Adjustment to the gaim script to hopefully
          speak/braille all incoming messages to chat rooms.

        * src/orca/default.py:
          Fixed bug #347165. Added in support for numeric keypad 8 
          double-clicking, which spells the current line.

        * src/orca/default.py:
          src/orca/util.py:
          Various tweaks to improve the code for the numeric keypad 5
          double-clicking functionality.

2006-07-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          src/orca/util.py:
          Added in support for numeric keypad 5 double-clicking, which
          spells the current flat review item.

2006-07-10  Willie Walker <william.walker@sun.com>

	* src/orca/orca_gui_prefs.py: make sure that the GUI correctly
	reflects the current state of the verbosity level for braille
	and speech (it was saving it correctly, but reading it back in
	incorrectly).
	
2006-07-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Fixed bug #346031. For the purpose of speaking the text 
          indentation, replace occurances of '\302\240' (non breaking 
          space) with spaces.

2006-07-09  Mike Pedersen <michael.pedersen@sun.com> 

        *  src/orca/keynames.py
          Corrected the speech output for the right shift key.  

2006-07-09  Willie Walker <william.walker@sun.com>

	* docs/pydoc/Makefile.am: add missing files.
	
2006-07-09  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.6.

2006-07-09  Willie Walker  <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: handle verbalized punctuation a
	little differently to provide better behavior for both DECtalk and
	festival.  The main thing was to determine when/where to add
	spaces and when to replace a punctuation mark even if the action
	was insert.  In general, spaces are added before the verbalization
	if there is no whitespace before the punctuation mark and added
	after the verbalization if there is no whitespace after the
	puncutation mark.  

	In addition, if there is no whitespace after a puncutation mark,
	we replace it even if the action is insert.  The rational for this
	is that we do the insert for special puncutation marks to preserve
	some sense of prosody (e.g., pauses created by periods,
	semi-colons, etc.).  If the punctuation mark is embedded in text,
	it's generally there for semantic purposes other than prosody, so
	we just replace it with its verbalized form (if the verbalized
	puncutation level is appropriate, of course).
	
	* src/orca/orca_gui_prefs.py: fix for bug 347054 - allow
	readTableCellRow and speechVerbosityLevel to be set.
	
2006-07-09  Alexander Shopov  <ash@contact.bg>

	* configure.in: Added "bg" (Bulgarian) to ALL_LINGUAS

2006-07-03  Runa Bhattacharjee <runabh@gmail.com>

	* configure.in: Added Bengali India (bn_IN) to ALL_LINGUAS.

2006-07-02  Willie Walker  <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: set "punctuation mode" parameter
	to none (0.0) for any speaker that has been created.  This allows
	Orca to handle the speaking of punctuation rather than rely upon
	the relatively inconsistent way it is spoken across various engines.
	
2006-07-02  Ilkka Tuohela  <hile@iki.fi>

	* configure.in: Added 'fi' to ALL_LINGUAS.

2006-06-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/flat_review.py:
          Added bullet-proofing to getZonesFromAccessible() to just return
          an empty list if accessible.component is None.

2006-06-29  Guntupalli Karunakar  <karunakar@indlinux.org>

	* configure.in: Added 'dz' (Dzongkha) to ALL_LINGUAS.

2006-06-29  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py:
          Refinement to the fix for bug #343897. I now use the timestamp 
          from the last AT-SPI device event as the parameter to 
          set_user_time().

2006-06-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py:
          Fixed bug #343897. Sets the current time on the Configuration 
          GUI window so that it'll get focus. set_user_time is a new call 
          in pygtk 2.9.2 or later. It's surronded by a try/except block 
          here so that if it's not found, then we can fail gracefully.

          Couple of refinements suggested by Gustavo. See bug #343897
          for more details.

        * src/orca/default.py:
          Fixed bug #341388. Small change in the processObjectEvent() 
          routine. If we receive a "window:deactivate" event for the 
          object that currently has focus, then stop the current speech 
          output. This is very useful for terminating long speech output 
          from commands running in gnome-terminal.

2006-06-27  Mike Pedersen <michael.pedersen@sun.com> 

        *  src/orca/speechgenerator.py
          Slight change to brief verbosity to speak buttons and combo boxes.

2006-06-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py:
          Added in support for speech indentation in the mail message
          areas. See also bug #346031, for a current limitation.

        * src/orca/scripts/gnome-terminal.py:
          Adjusted the onTextInserted() method to just return if
          orca.lastInputEvent was None or if this wasn't a keyboard
          event.

2006-06-27  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/flat_review.py: more fixing for
	bug 343133 where Orca would hang when going into flat review of a
	man page in gnome-terminal.  The problem is that the AT-SPI
	implementation of text in gnome-terminal appears to produce
	inaccurate and wild results.  We need to handle this defensively.
	

2006-06-27  Runa Bhattacharjee <runa@bengalinux.org>

	* configure.in: Added Bengali (bn) to ALL_LINGUAS.

2006-06-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/gnomespeechfactory.py:
          Slight change to the __addVerbalizedPunctuation() routine:
          If we are moving around by single characters, then always speak
          the punctuation. We try to detect this by looking for just a
          single character being spoken.

          Another slight change to the __addVerbalizedPunctuation( ) routine:
          For each of the characters in the text to be spoken, if it's
          not a punctuation character, we still want to see if that
          character is in the chnames dictionary, and if so, speak that
          entry instead.

          Another slight change to the __addVerbalizedPunctuation( ) routine:
          Special case for periods in text like filenames or URL's:
          If this is a period and there is a non-space character on either 
          side of it, then always speak it.

          Added a " " after each verbalized punctuation word to prevent
          word concatenation.

        * bugs/bugs.html:
          Added in an entry for a new Evolution bug #345923:
          "[A11y] Unable to keyboard navigate to month view "day" 
          entries, when no initial events."

          Added in an entry for a new Evolution bug #345969:
          "[A11y] Evolution crashes when trying to creat a calendar event
          when Orca screen reader is running."

2006-06-22  Rhys Jones  <rhys@sucs.org>

	* configure.in: Added "cy" (Welsh) to ALL_LINGUAS.

2006-06-22  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py:
          Default setting for verbalized punctuation is now
          settings.PUNCTUATION_STYLE_MOST.

        * src/orca/gnomespeechfactory.py:
          In __addVerbalizedPunctuation(), if the user has style
          settings.PUNCTUATION_STYLE_NONE, just return the old text.

          In __addVerbalizedPunctuation(), add a space after the spoken
          equivalent of the punctuation, so that DECtalk doesn't speak 
          it twice.

2006-06-22  Rich Burridge <rich.burridge@sun.com>

        * src/orca/Makefile.am:
          src/orca/chnames.py:
          src/orca/gnomespeechfactory.py:
          src/orca/punctuation_settings.py:
          src/orca/settings.py:
          Added in verbalized punctuation support. See comments at the
          beginning of punctuation_settings.py for more details.

          NOTE: This is only currently implemented in gnomespeechfactory.py

2006-06-22  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
          src/orca/orca_gui_prefs.py:
          src/orca/orca_prefs.py
          src/orca/settings.py:
          Added in a new radio button "Most" to the punctuation verbosity
          group on the speech pane in the configuration GUI. Adjusted the
          callback and initialisation routines to handle this properly.

        * src/orca/orca_gui_prefs.py:
          The checks against various widget labels on the configuration GUI
          was not taking into consideration the underline characters used
          as accelerators.

2006-06-21  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/J2SE-access-bridge.py: check in
	initial Java toolkit script from Lynn Monsanto.  He's still
	waiting for a GNOME account, but I want to get this stuff in prior
	to going to GUADEC.
	
2006-06-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
          src/orca/orca_gui_prefs.py:
          src/orca/settings.py:
          Added in a new radio button group to the configuration GUI on
          the speech pane, that can be used to set "Table Row Speech" to
          either: "Speak current cell" or "Speak current row".

        * bugs/bugs.html:
          Added in another StarOffice Writer bug:
          137437: [A11y] Incorrect char in any_data.value() field of 
          event when text is deleted.

2006-06-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Adjustment to the onSelectionChanged() routine to get "has
          formula" working again.

2006-06-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Further adjustment of the handling of speaking a row of a Calc 
          spread sheet. Only speak the row if the user has moved focus up 
          or down a row, not when the focus has just moved left or right in
          the same row (unless this is on the first or last row of the table).

2006-06-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/braillegenerator.py:
          src/orca/default.py:
          src/orca/settings.py:
          src/orca/speechgenerator.py
          src/orca/scripts/Evolution.py:
          Changed all occurances of readTreeTableCellRow to
          readTableCellRow, as we now handle both tables and 
          tree tables.

        * src/orca/scripts/StarOffice.py:
          Adjusted the handling of speaking a row of a Calc spread sheet.
          It will only braille/speak each cell if that cell is showing.

2006-06-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/braillegenerator.py:
          src/orca/speechgenerator.py:
          Adjusted the _getBrailleRegionsForTableCell and
          _getSpeechForTableCell() routines so that Insert-F11 works
          with table cells inside both tables and tree tables.

          Don't set the last table row and column in these routines
          This is now done in locusOfFocusChanged (see entry for 
          default.py below).

        * src/orca/default.py:
          In locusOfFocusChanged(), if this focus change is for a table
          cell, save the table row and column in the table (as lastRow and
          lastColumn), so that they can be used by the speech and braille
          table cell generators.

          In locusOfFocusChanged(), replaced calls to getRowDescription()
          and getColumnDescription() with calls to getRowHeader() and
          getColumnHeader() and then called getDisplayedText on their
          accessible objects.

2006-06-20  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in the following two StarOffice bugs:
          #137415 [A11y] Control-Shift-Left/Right can select whitespace
          #137416 [A11y] No way to get at indentation information in Writer.

2006-06-20  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/gnome-terminal.py: fix bug 345472 - don't
	assume the last input event was a KeyboardEvent.
	
	* src/orca/scripts/gcalctool.py: fix bug caused by my refactor
	of moving things to util.py (forgot to import orca.util).
	
2006-06-20  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Changes to the sayPhrase() routine to better handle StarOffice
          Writer cases where there is a start or end offset of -1.

        * src/orca/scripts/StarOffice.py:
          Further change to the StarOffice text indentation handling.
          Removed the percentage routine and just called the "default"
          speakTextIndentation() routine. This seems to work okay for
          lines indented by tabs and spaces. 

          NOTE: Lines indented via the "Increase line indentation" in 
                the StarOffice Writer toolbar are not handled. There 
                doesn't seem to be a way to get at this information.

2006-06-20  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Change to the speakTextIndentation() routine:
          StarOffice Writer documents typically have a margin around the
          actual text. This margin width is removed (both the left and right
          margins), before the percentage calculation is performed.

2006-06-19  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: handle issue where toolkit name and version
	might be unknown when printing out script information using
	Insert+F3.
	
2006-06-19  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          src/orca/default.py:
          Moved the speakTextIndentation() routines into default.py so
          that it can be subclassed.

          On Mike's advice, removed the word "indented" from the text 
          spoken for text indentation (too verbose).

        * src/orca/scripts/StarOffice.py:
          Subclassed the speakTextIndentation() routine and adjusted it to
          speak an indication of the percentage of whitespace (spaces and
          tabs at the beginning of the line.

          NOTE: This percentage value seems to be incorrect when there are
                no spaces or tabs at the beginning of the line. Still 
                investigating this.

2006-06-19  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          Added in a speakTextIndentation() routine that will speak a 
          summary of the number of spaces and/or tabs at the beginning
          of the given line.

        * src/orca/default.py:
          Added a chunk of code to the start of the sayPhrase() routine,
          to swap the startOffset and endOffset values if they are in the
          wrong order. StarOffice can't cope with them otherwise.

          Adjusted the sayLine() routine to call util.speakTextIndentation()
          if we have speech indentation enabled.

        * src/orca/orca-setup.glade
          Added in a checkbox to the Speech page of the Configuration GUI,
          for speech indentation and justification (default is unchecked).

        * src/orca/orca_gui_prefs.py:
          Added a speechIndentationChecked() signal handler for speaking
          indentation.

        * src/orca/settings.py:
          Added in support for the new 'enableSpeechIndentation" setting.

2006-06-16  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/Evolution.py: check for windows that end with
	the name "Assistant" when handling the setup wizards.  The reason
	for this is that both the initial setup and the new account
	wizards need this special scripting, and we're lucky that they end
	in the name Assistant.  A risk here is that the l10n of the window
	names might put Assistant somewhere else in the title (e.g.,
	Assistante de Setup).  If we run into this, we should do a check
	on the exact names.
	
2006-06-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py:
          Adjusted section #3 in the locusOfFocusChanged() method.
          Unfortunately the default read table cell row handling won't
          just work with Evolution (see bogusity comment later in the 
          script). We quickly solve this by setting readTreeTableCellRow 
          to False for the duration of this code section, then resetting 
          it to True at the end.

        * src/orca/scripts/StarOffice.py:
          Changed to provide useful feedback for the StarOffice Setup
          wizard screens. See the comments in the StarOffice script
          for more details.

2006-06-16  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/script.py:
	more work on bug 319652.  Move much of the processing of
	input events to the gidle thread handler in an effort to 
	reduce hangs.

2006-06-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py:
          Changed to provide useful feedback for the Evolution Setup 
          Assistant screens. See the comments in the Evolution script 
          for more details.

        * src/orca/scripts/StarOffice.py:
          Fixup for the "has formula" check for spread sheet cells.
          This should only be spoken if the input line starts with "="
          (thanks Will!)

        * src/orca/braillegenerator.py:
          src/orca/speechgenerator.py:
          Adjusted the speaking and brailling of table cells to not
          speak the whole row again, if the user just moved left or
          right (rather than up or down).

        * src/orca/braillegenerator.py:
          src/orca/default.py:
          src/orca/speechgenerator.py:
          src/orca/settings.py:
          src/orca/scripts/Evolution.py:
          Changed all occurances of readTableCellRow to readTreeTableCellRow.
          Changed the default values of readTreeTableCellRow to True.
          Adjusted the speaking and brailling of table cells to only
          potentially speak the whole role if the parent is a tree table
          rather than just a table.

2006-06-14  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/orca.py, src/orca/settings.py,
	src/orca/speech.py, src/orca/httpserver.py: make the HTTP server a
	separate module.  This reduces complexity in the speech module and
	also gives us room to extend the command set that Orca can handle.

	NOTE: this represents a change in settings - speechServerPort is
	now defunct and has been replace by httpServerPort.
	
2006-06-14  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: fix bug 344880 - process command line
	arguments even if a11y is not enabled.
	
2006-06-12  Mike Pedersen <michael.pedersen@sun.com>

	* added updates to style guide.
	
2006-06-11  Willie Walker <william.walker@sun.com>

	* MAINTAINERS, RELEASE_HOWTO: final prep for 0.2.5
	
2006-06-09  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.5.

	* src/orca/*.py, src/orca/scripts/*.py: add pydocs and other
	information (CVS version, date, id, copyright, etc.) to each
	python module.
	
2006-06-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          src/orca/scripts/Evolution.py:
          Adjust so that we use settings.readTableCellRow now, rather than
          Script.readTableCellRow.

        * src/orca/default.py:
          Better handle the situation where the user types Control-Shift-Left
          or Control-Shift-Right and the text cursor position was in the 
          middle of a word.

        * src/orca/speechgenerator.py:
          Support for speech for generic readTableCellRow (Insert+F11).

        * src/orca/braillegenerator.py
          Support for speech for generic readTableCellRow (Insert+F11).

2006-06-09  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html: add Thunderbird broken table bug 340978.
	
	* src/orca/settings.py, src/orca/atspi.py: provide a setting
	(settings.cacheAccessibles) to determine whether to cache
	accessibles locally or not.
	
	* src/orca/scripts/metacity.py: fix exception that was being
	silently swallowed by focus_tracking_presenter.py.
	
	* src/orca/focus_tracking_presenter.py: do not silently swallow
	exceptions when processing object events.  Needed to catch this
	in a couple spots.

2006-06-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          Slight adjustment to the speakTextSelectionState() routine 
          to save away the last text cursor position. This will be used
          in the _presentTextAtNewCaretPosition() routine in default.py.

          Further adjustments to the speakTextSelectionState() routine
          to handle special cases:

            Shift-Page-Down:    speak "page selected from cursor position".
            Shift-Page-Up:      speak "page selected to cursor position".
            Control-Shift-Down: speak "line selected down from cursor position".
            Control-Shift-Up:   speak "line selected up from cursor position".
            Control-Shift-Home: speak "document selected to cursor position".
            Control-Shift-End:  speak "document selected from cursor position".

        * src/orca/default.py:
          Now handles the following cases:
            Shift-Up:
            Shift-Down:
            Shift-Home:
            Shift-End:
            Control-Shift-Page-Down:
            Control-Shift-Page-Up:
          We speak the text that's been selected (followed by "selected").
          If there was text selected it speaks that previously selected 
          text, followed by "unselected".

          Added in a section to handle Control-A (entire document selected).

2006-06-08  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py, src/orca/settings.py: fix bug
	344307 - add new setting, enableBrailleGrouping, to determine
	whether items such as menu items and page tabs should be grouped
	with their siblings on the braille display.  Disable this by
	default to provide better runtime performance.  NOTE: this
	represents a change in the UI for Orca - the behavior to date has
	been to always group menu items.  The user responsiveness was bad
	for large menus, however, so we decided to make this an optional
	feature.
	
	* bugs/bugs.html: update to include various bugs we need to track
	
2006-06-07  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: fix for bug 344218 - handle the case where
	the gnome-terminal terminal's role changes from unknown to
	terminal.  We do this by not caching roles that are ROLE_UNKNOWN.
	The main problem here appears to be that the terminal issues
	events prior to its role being set up properly, and the atk
	(atkobject.c:927) has specific code to prevent notification for
	when the role changes from ROLE_UNKNOWN to seomthing else.

2006-06-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          Adjustments to the speakTextSelectionState() routine to handle
          [un]selecting by word (Control-Shift-[Left, Right]). 

          Still need to handle [Control]-Shift-[Up, Down, Home, End,
          Page-Up, Page-Down].

          This is how we are proposing to handle these twelve cases:

          Shift-Up:
          Shift-Down:
          Shift-Home:
          Shift-End:
          Control-Shift-Page-Down:
          Control-Shift-Page-Up:
          Speak the text that's been selected (followed by "selected").
          If there was text selected it should speak that previously
          selected text, followed by "unselected".

          Shift-Page-Down:
          Control-Shift-Down:
          Speak the last selected line then say "page selected from
          cursor position".

          Shift-Page-Up:
          Control-Shift-Up:
          Speak the first selected line then say "page selected to 
          cursor position".

          Control-Shift-Home:
          Speak the first selected line then say "document selected to 
          cursor position".

          Control-Shift-End:
          Speak the last selected line then say "document selected from
          cursor position".

2006-06-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          Added a new speakTextSelectionState() that will speak "selected" 
          if the text was just selected, "unselected" if it was just 
          unselected.

          Slight adjustments to the isTextSelected() routine to pass in a
          start and end offset for the text.

        * src/orca/default.py:
          Adjustments to the sayCharacter(), sayWord() and sayLine() routines
          to call speakTextSelectionState()

2006-06-06  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py, src/orca/speechserver.py,
	src/orca/gnomespeechfactory.py: add support for isSpeaking and
	allow this to also be something that can be queried via the HTTP
	support.
	
2006-06-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py:
          Added a new isTextSelected() routine that returns True if the 
          text caret associated with the given Accessible object, is 
          located within a selected region of text.

        * src/orca/default.py:
          Updates to the sayCharacter(), sayWord() and sayLine() routines
          to speak "selected", if the user navigated around holding the
          Shift key down.

2006-06-03  Willie Walker <william.walker@sun.com>

	* src/brl/brlmodule.c: fix for bug 343666: use PyGILState calls to
	call into Python to prevent thread deadlock.
	
2006-06-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/espeechfactory.py:
          src/orca/gnomespeechfactory.py:
          src/orca/orca.py:
          src/orca/settings.py:
          src/orca/speech.py:
          src/orca/speechserver.py:
          Added in keyboard bindings for:
          Insert-Up     (Increase speech pitch).
          Insert-Down   (Decrease speech pitch).

2006-06-02  Rich Burridge <rich.burridge@sun.com>

        * docs/pydoc/.cvsignore
          Added in all the generated HTML files.

        * src/orca/scripts/gedit.py:
          Reinserted missing "#" character at the beginning of line 1
          that was causing a SyntaxError: invalid syntax when running gedit.

        * src/orca/orca.py:
          Various changes to keyboard bindings:
          F12 or SunF37 ==> Insert-q         (Quits Orca).
          Control-Insert-F5 ==> Insert-F4    (Cycles debug level).
          Control-Insert-F7 ==> Insert-F8    (Prints debug information about 
                                              the application with focus).
          Insert-F8 ==> Insert-F10           (Switches to the next 
                                              presentation manager.

        * src/orca/default.py:
          Insert-i ==> Insert-F3   (Reports information on current script).

          Speak either "Speak row" or "Speak cell" in 
          toggleTableCellReadMode() depending upon the new setting of 
          self.readTableCellRow.

2006-06-01  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py, src/orca/braille.py,
	src/orca/braillegenerator.py, src/orca/default.py,
	src/orca/espeechfactory.py, src/orca/focus_tracking_presenter.py,
	src/orca/hierarchical_presenter.py, src/orca/orca.py,
	src/orca/orca_console_prefs.py, src/orca/speechgenerator.py,
	src/orca/util.py, src/orca/scripts/Evolution.py,
	src/orca/scripts/StarOffice.py, src/orca/scripts/gcalctool.py,
	src/orca/scripts/gedit.py, src/orca/scripts/metacity.py,
	src/orca/scripts/planner.py: refactor to pull spurious utilities
	out of orca.py and atspi.py and put them in util.py.

	* src/orca/util.py: when looking into hierarchies for objects, do
	not pursue hiearchies under objects that are not showing.

2006-05-31  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py:
          Readjusted _getSpeechForFrame() to just get the default speech 
          instead of treating the frame like an alert and speaking all 
          unrelated labels. We'll need to see if this has any adverse 
          effects and adjust accordingly.

        * src/orca/scripts/StarOffice.py:
          Even better handling of the "has formula" situation for spread sheet
          table cells. This is now done in the onSelectionChanged() method
          when the Name Box combo box gets an "object:selection-changed"
          event.

2006-05-31  Willie Walker <william.walker@sun.com>

        * src/orca/focus_tracking_presenter.py: possible fix for bug
	342022.  It appears as though the desktop would get a little flaky
	as synaptic was popping up windows and then destroying them as it
	was showing progress.  This provides yet another defensive
	mechanism to handle this.  Note that synaptic in general needs a
	bit of scripting to make it truly usable.
	
	* src/orca/flat_review.py: fix for bug 343133 where Orca would
	reliably hang when attempting to do a flat review of gnome-terminal
	when the user was viewing a man page.  This seems to be caused by
	a bug in gnome-terminal returning nonsensical offsets from
	getTextAtOffset.  We needed to do a little defensive programming 
	here.
	
2006-05-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Better handling of the "has formula" situation for spread sheet
          table cells. Because the updating of the input line might not
          have happened when the table cell gets focus, this is now done
          in the onTextInserted method.

2006-05-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Added in a speakInputLine handler (triggered by typing Insert-a),
          that will speak the contents of the spread sheet input line,
          assuming the current locus of focus is a table cell.

          Created a global isSpreadSheetCell() routine, that is used (in 
          three places) to determine if the given object is a table cell.

2006-05-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py:
          Fix for bug #343013.
          http://bugzilla.gnome.org/show_bug.cgi?id=343013
          The command line option strings should not be translatable.

        * src/orca/scripts/StarOffice.py:
          Adjusted the braille/speech out for StarOffice spread sheet
          table cells to append "has formula" if the input line contents
          for the spread sheet did not match what is being displayed in
          the table cell.

        * bugs/bugs.html
          Added Evolution bug #343035 to the list of bugs to track.

2006-05-25  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Added in BrailleGenerator:_getBrailleRegionsForTableCell and
          SpeechGenerator:_getSpeechForTableCell in order to better
          braille/speak the contents of a spread sheet table cell.

2006-05-24  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: call gobject.threads_init() in an attempt to
	help further address bug 319652.
	
2006-05-24  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in a specific sayAll() method for Evolution. We have to
          do this because Evolution does now implement the FLOWS_TO 
          relationship and all the text are in an HTML panel which 
          contains multiple panels, each containing a single text object.

          Needed to subclass the setupInputEventHandlers() method so that
          we could add in an input event handler that pointed at our sayAll()
          method.

2006-05-23  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: pass "orbit-io-thread" to initialize the ORB
	in threaded mode.  This should hopefully help address bug 319652:

	http://bugzilla.gnome.org/show_bug.cgi?id=319652

	See also:

	http://bugzilla.gnome.org/show_bug.cgi?id=342614 
	http://mail.gnome.org/archives/orbit-list/2005-December/msg00001.html

	* src/orca/speech.py: add GET support to HTTP server as a means
	to check Orca version number.

2006-05-23  Rich Burridge <rich.burridge@sun.com>

      * src/orca/scripts/gedit.py:
        - Changed all occurances of onFocus() to locusOfFocusChanged().
        - Adjustment so that a single line change will "fire off" all
          the debug messages in the gedit script.
        - Removed the call to orca.setLocusOfFocus() in readMisspeltWord().

      * src/orca/scripts/Evolution.py:
        - Changed all occurances of onFocus() to locusOfFocusChanged().
        - Removed various calls to orca.setLocusOfFocus()

      * src/orca/util.py:
        Adjusted the textLines() routine to look for FLOWS_TO relationships
        and follow them to get further potential text objects to speak.

2006-05-22  Rich Burridge <rich.burridge@sun.com>

      * src/orca/gnome/speechfactory.py:
        Adjusted the speakUtterances() method to not speak zero length
        lines of text. This has hopefully improved some speech interruption
        problems.

        * bugs/bugs.html:
          Added in new Star Office bug #136221.

2006-05-21
      *  /docs/doc-set/testing.sgml: added more tests	
2006-05-20  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: do not attempt to restart the http speech
	server when settings are reloaded.  I'm not quite sure how to 
	kill the server once it starts, but we may need to figure this
	out at some point if we want to dynamically change the speech
	server port at run time.  For now, if that is what people really
	want to do, they can just stop and restart orca.

	* src/orca/default.py: minor tweaking to script info output.
	
2006-05-19  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/default.py: fix for bug 342303 - stop
	speech when the user presses the mouse button.  This also moved the
	handling of the lastInputEvent for the mouse from default.py to 
	orca.py, which is in line with where it is being set for keyboard
	and braille events.
	
2006-05-19  Rich Burridge <rich.burridge@sun.com>

        * .cvsignore:
          docs/.cvsignore:
          docs/pydoc/.cvsignore:
          Added several more files that should be ignored.

        * src/orca/atspi.py:
          In the getAcceleratorAndShortcut() method, if the accelerator 
          string includes a Space, make sure we speak it.

          In the __init__ method, self.toolkitName and self.version are
          now correctly initialized.

        * src/orca/default.py:
          Added a new reportScriptInfo() method that is called when the
          user types Insert-i. It provides useful information on the
          script for the application that currently has focus; output 
          being in speech, braille and debug println formats.

        * src/orca/scripts/StarOffice.py:
          Changed occurances of onFocus to locusOfFocusChanged and now
          no longer call orca.setLocusOfFocus().

        * bugs/bugs.html:
          Added in new Star Office bug #136117.

2006-05-19  Willie Walker <william.walker@sun.com>

	* src/orca/util.py: fix for bug 342122 - use all labels when
	presenting an object.
	
	* src/orca/scripts/Mozilla.py: fix for bug 342132 - make YELP
	speak the text for an object when a link is selected.
	
2006-05-18  Rich Burridge <rich.burridge@sun.com>

        * src/orca/braillegenerator.py
          Adjusted the _getBrailleRegionsForPushButton() method to no
          longer call self._getDefaultBrailleRegions(obj), but instead to
          do everything that's in that rourine except:

            text = util.appendString(text, self._getTextForValue(obj))

          This gets rid of the spurious "0.00" value from Star Office 
          buttons, that was showing up in the braille display.

2006-05-18  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/Makefile.am,
	src/orca/scripts/gnome-window-properties.py: fix for bug 342133 -
	do not automatically read labels in the dialog window when it
	appears.  Also need to refile this bug against
	gnome-window-properties so they do the appropriate bindings for
	labels.
	
	* src/orca/scripts/metacity.py: fix bug 341415 - eliminate 
	redundant output of Workspace and also make sure new Workspaces
	are announced.
	
	* src/orca/scripts/Makefile.am, src/orca/scripts/self_voicing.py:
	add a script that does nothing.  One can map an application to 
	this script (self_voicing) via orca.settings.setScriptMapping,
	and it can be used to tell Orca to be quiet for self-voicing
	applications.
	
2006-05-18  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in four StarOffice bugs (plus SO bug filing information).
          Updated the status of the OpenOffice bugs.

2006-05-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Adjusted the call to speech.speak() in scenerio #1 in the
          onFocus() method so that it doesn't interrupt speech. This
          means that when Star Office Writer is first coming up, it
          speaks the details about the document that it is displaying.

2006-05-17  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: remove text.replace("[", "[ ")
	now that gnome-speech-0.4.0 tells DECtalk to do a [:phon off].

	* bugs/bugs.html, bugs/bug_338233.py, bugs/bug_338234.py,
	bugs/bug_338272.py: add Firefox bugs.
	
	* src/orca/speech.py: change speech server support to an HTTP
	server looking for POST data of "speak:text" or "stop" commands.
	
2006-05-16  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py, src/orca/settings.py: first pass at allowing
	Orca to act as a speech server for self-voicing applications.
	Orca will listen on the port defined by settings.speechServerPort
	and will respond to simple single line "speak:text" and "stop"
	commands.  The motivation for this is to allow FestVox to use Orca
	as its speech service, and to have the user's default voice for
	Orca to be used for speaking.
	
2006-05-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Adjustment so that a single line change will "fire off" all
          the debug messages in the StarOffice script.

          Adjusted the readMisspeltWord() routine to no longer call
          orca.setLocusOfFocus. This now means that when you Tab around
          the various components on the Spell Checking dialogs, they are
          properly spoken.

2006-05-15  Willie Walker <william.walker@sun.com>

	* README, NEWS: Prep for 0.2.4 release.
	* configure.in, orca.spec.in: more dependency tweaking
	
2006-05-13  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/gnome-terminal.py: add an onTextDeleted
	method to handle the bizarro behavior we get when we backspace
	in a terminal and there is still text to the right.

	NOTE TO ALL: terminal is screwy.  When you press "BackSpace", it
	pads out the rest of the line to the right with spaces.  Then,
	whenever you press space, it will no longer issue text inserted
	events for the space if you are typing at what looks like the end
	of the line.  Instead, it only issues caret moved events.  To top
	that off, if you've done a backspace and have then arrowed in a
	little bit from the end of what looks like the end of the line,
	you get a text inserted event for the remainder of the line.  We
	end up speaking this.  So, hey, type perfectly in terminal, never
	hit backspace, and things will work fine. :-P
	
2006-05-13  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix bug where modifier bit positions 
	were being used as bits (i.e., didn't do a '1 <<' prior to
	using the bit position).

	* src/orca/orca.py, src/orca/input_event.py: refactor the way
	event_string's containing control characters are converted.  
	This moves the logic to input_event.py:KeyboardEvent.

	* src/orca/scripts/gnome-terminal.py: try to better handle
	what to do in the case of command line completion ("Tab") 
	as well as Delete and ctrl+d.

	NOTE TO ALL: it looks as though there's a bug somewhere in the way
	gtk/gail/atk handles text deletion events.  Instead of the event
	containing the text that's been deleted, it contains the text at
	the current caret position.  This will be apparent when you
	BackSpace in a GTK text widget - if the caret is at the end of the
	text, you will hear nothing; if the caret is in the middle of the
	text, you will hear the character at the caret.  Note that GEdit
	and the mail composer widget (but not the to/cc/subject lines) of
	Evolution seem to get it right.
	
2006-05-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Adjusted to the onTextInserted() routine to check to see if
          the event.role is rolenames.ROLE_PASSWORD_TEXT (i.e. a 
          password field), in which case the text is spoken (which will 
          be the stars used to hide the users real password input).

2006-05-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Added a check at the top of the _keyEcho() method to see if 
          this is a keyboard event for a component with a role name of
          rolenames.ROLE_PASSWORD_TEXT (such as a password field). 
          If it is, then the key is not echoed.

2006-05-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py:
          Adjustments to the onTextDeleted method:
          - to speak the deleted character when the user presses Backspace 
            as opposed to the previous remaining character.
          - if it's not a Backspace or Delete character, then just return.
          - now do voice check on text.caretOffset.

2006-05-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/atspi.py:
          Added some bullet-proofing to the __init__ method to check
          that self.source is not None.

2006-05-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjustment so that a single line change will "fire off" all
          the debug messages in the Evolution script.

2006-05-12  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/gnome-terminal.py: add onTextInserted to 
	handle terminal-ish behavior.
	
	* src/orca/orca.py, src/orca/orca_prefs.py,
	src/orca/orca_console_prefs.py: do not let user run Orca if a11y
	has been enabled.  Instead, dump them into the text setup and then
	tell them to log out and log back in.
	
	* configure.in, acinclude.m4: add configure-time dependency 
	checking for needed libraries and python modules.

	* orca.spec.in: yet another try to get these right.
	
	* src/orca/orca.py: if learn mode is enabled, let it do key
	echo.
	
	* src/orca/focus_tracking_presenter.py: create the fallback
	default script on initialization.  This will register the
	appropriate events so we can detect metacity activity in
	the case where orca starts up and no accessible apps have
	any active windows.  Hopefully a fix for bug 341415.
	
2006-05-11  Willie Walker <william.walker@sun.com>

	* src/orca/orca_gui_prefs.py: figure out how to use debug.println
	to output debug info.
	
	* src/orca/default.py: work on preventing echo "bleed through"
	when typing quickly and echo is not turned on.  The main problem
	causing this was the toolkit apparently doing compression of 
	multiple keystrokes, causing us to get a longer string in a 
	single text inserted event instead of individual inserted events
	for each keystroke.  I'm wondering if there might be a better
	way to skin this cat, such as handling input events immediately
	for controlling orca, but then adding them to the queue for 
	post-processing of stuff like key echo.  I'm not sure...
	
	* src/orca/focus_tracking_presenter.py: remove errant speech.stop
	that gets called when a window is activated.  The resulting calls
	to speech.speak from the associated script for the window should
	do the appropriate stop as needed.  This helps with not interrupting
	a key echo in progress when a new window appears.
	
	* src/orca/orca.py, src/orca/speech.py: do not interrupt a key
	echo in progress.
	
2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          In _keyEcho(), moved the control key logic to the top, so that
          it works correctly with sequences such as "Control-O' in gedit.

2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          In _isPrintableKey(), had to explicitly look for an event_string
          of "space" and return True if found.

2006-05-11  Willie Walker <william.walker@sun.com>

	* src/orca/util.py, src/orca/default.py: work on word echo.  
	It should be working much better now (I HOPE!).
	
2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
          Removed the LABELLED_BY relationships for the radio buttons 
          on the speech and braille panes. These are no longer needed 
          as these radio button groups are inside GtkFrame widgets which 
          have that label as their title.

2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Removed "space", "Left", "Right", "Up" and "Down" from the 
          list of action keys.

2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Adjusted the onTextDeleted() method so that the previous/next 
          character is always spoken when the user presses Backspace/Delete, 
          irrespective of whether user has "enableKeyEcho" set.

2006-05-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added in a dialog that will be used via GUI configuration,
          to ask the question on whether the user wants to logout now. 
          See bug 340849 for more details.

2006-05-11  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/metacity.py: don't call workspaces
	"inaccessible" when using Ctrl+Alt+arrow to move between
	workspaces.
	
2006-05-10  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py, src/orca/orca.py,
	src/orca/focus_tracking_presenter.py, src/orca/settings.py:
	refactor the way we communicate with Orca.  The Java platform's
	CORBA implementation seems to do two things we don't like:
	1) Give us CORBA::Object's instead of Bonobo::Unknown's or better.
	We solve this by making sure we _narrow all objects to types that
	we expect.  This is a rather pervasive change.
	2) Glitch out often in communication, causing COMM_FAILURE's.
	We solve this problem by retrying the same thing a few times 
	before we give up.  More often than not, the COMM_FAILURE was
	a temporary glitch and communication is re-established by the
	2nd or 3rd try.
	
2006-05-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Adjusted the sayLine() routine to ignore zero length lines.
          This has the side-effect of not interrupting speaking of
          the "Page Down" key when the last line in the document is 
          empty.

2006-05-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Added code to _keyEcho() to try to detect the state (on or off)
          of the Caps Lock and Num Lock keys and to speak their state. 
          This seems to be working fine for Caps Lock, but Num Lock is 
          always returning a state of "on".

2006-05-10  Willie Walker <william.walker@sun.com>

	* src/orca/settings.py: fix bug where a None app name would
	cause problems with getScriptModuleName.
	
	* src/orca/scripts/planner.py: apply patch to fix bug 338097.
	Supplied by community member Javier (thanks!)
	
2006-05-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Added "Home" and "End" to the list of action keys recognized by
          Orca in the _isActionKey() method.

2006-05-09  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: a little more work with the keyecho stuff. 
	Don't interrupt speech when speaking information regarding the
	backspace and delete keys - something else related to them is
	typically already going on; if we interrupt it, we might not be
	hearing everything we want to hear.
	
2006-05-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Slight adjustment to the onTextDeleted() method. The offset
          value (for both the "Delete" and "Backspace" cases) was off by one.

2006-05-09  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: work for bug 338890.  Introduces use
	of getopt to parse options, introduces a "usage" option,
	and adds command line options to get help and version 
	information.
	
2006-05-08  Willie Walker <william.walker@sun.com>

	* src/orca/mag.py: set crosshair color with cursor color.
	
2006-05-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added in an else: clause to handle calls to onTextDeleted()
          which weren't triggered by typing Delete or Backspace, so that
          the offset variable can be correctly set.

2006-05-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Changes to the onTextDeleted() method to make Delete and
          Backspace do the correct thing in gedit w.r.t. the new 
          key echo requirements. 

          Note that Terminal and Star Office Writer still need to 
          be fixed up. This might have to be done by over-ridding 
          the onTextDeleted() methods in the scripts for those 
          applications.

2006-05-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
        Adjusted several duplicate mnemonics to try to generate
        uniqueless. There is only one control (the "Color:" label for
        the color button on the magnifier pane) which does not have a
        mnemonic, because there are no unique letters available.

2006-05-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
        Adjusted the magnifier pane to use GtkFrames to enclose four
        areas: Cursor Settings, Cross-hair Settings, Zoomer Settings
        and Zoomer Position.

2006-05-08  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/gnomespeechfactory.py,
	src/orca/espeechfactory.py, src/orca/speechserver.py,
	src/orca/speech.py: fix for bug 340773.  When autoreading the
	labels in a newly appeared dialog box, do not let an immediate
	focus event interrupt the labels being spoken.
	
2006-05-06  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: enable accessibility if it has not
	been enabled and issue a message.  Partially addresses 
	bug 340849, but I need some help from Rich on this.  :-)
	
	* src/orca/gnomespeechfactory.py: provide fallbacks in
	the event of starting up with no speech parameters set
	(e.g., first time run).
	
	* src/orca/mag.py: add try/except around import of gtk
	so orca can be setup without requiring the DISPLAY to
	be set.

	* src/orca/orca.py: automatically run setup if user
	settings are not available.  Also allow automatic setup
	to be overridden via the "--no-setup" option to allow
	for things such as accessible login to work.
	
	* src/orca/orca.py: reduce debug level of import error
	message that's issued if user-settings cannot be found.
	It's OK for this file to not exist - Orca is designed
	to run without it, but the message was confusing users.
	
2006-05-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade:
          Incorporate GUI rework from Calum Benson, which makes it
          more HIG compliant.

        * src/orca/orca_gui_prefs.py:
          Adjustments to match the new Glade file layout.
          Changed the print specification in magCursorColorSet() to
          print leading zeroes instead of spaces.

        * src/orca/settings.py:
          src/orca/orca_prefs.py:
          src/orca/orca_gui_prefs.py:
          src/orca/orca-setup.glade:
          Added in two new mouse tracking modes: None and Proportional.

2006-05-05  Willie Walker <william.walker@sun.com>

	* src/orca/orca_gui_prefs.py: fix setting of tracking mode

	* src/orca/mag.py: support the color preferences string better

	* src/orca/mag.py: add proportional mouse tracking mode.

	* src/orca/mag.py: add push mouse tracking mode.

	* src/orca/mag.py: add smoothing type.

	* src/orca/mag.py, src/orca/default.py: add zoomer placement
	support to magnification and also repaint dirty regions when
	we get a visual appearance changed notification.

2006-05-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py:
          Adjusted the bogus "screenWidth = 480" to "screenHeight = 480"
          in the except: clause of the import for gtk.gdk. This now
          allows "orca --text-setup" to work from the console (again).

2006-05-05  Willie Walker <william.walker@sun.com>

	* src/orca/mag.py, src/orca/default.py: work on hooking up the
	settings to the magnifier.  Still need to support:
	   - enableMagCursor
	   - magZoomer{Left,Right,Top,Bottom} (only uses default)
	   - magSmoothingMode (only uses default)
	   - magMouseTrackingMode (only supports center)
	
	* docs/doc-set/orca.sgml, docs/doc-set/ue_requirements.sgml,
	docs/doc-set/orca.html, docs/doc-set/orca.pdf: Add links from
	requirements to tests.

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Changed "Speech server:" to "Speech synthesizer:"
          Changed "Family:" to "Person:"

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Implemented:
            magCursorColorSet(self, widget):

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Re-enabled grouping of the two sets of radio buttons on the
          speech notebook pane.

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Implemented:
            magSmoothingChanged(self, widget):
            magMouseTrackingChanged(self, widget):

          Fixed up the the reading of the "enableSpeech" and 
          "enableMagnifier" preferences in _initGUIState().

          Fixed up the setting of the initial values for the smoothing 
          mode and mouse tracking mode combo boxes in _initGUIState().

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Adjusted the magCursorExplicitSizeChecked() method so that
          it [un]sensitizes the cursor size spin button and label 
          depending upon whether the explicit cursor size checkbox 
          is checked.

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py
          Fixed bug 340662 (http://bugzilla.gnome.org/show_bug.cgi?id=340662)
          Added a try/except clause arround the "import gtk.gdk", so that
          if it fails, we are still able to set screenWidth and screenHeight 
          to something sensible.

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/mag.py
          src/orca/settings.py
          src/orca/orca_gui_prefs.py
          Changed occurances of "magScaleFactor" to "magZoomFactor"

        * src/orca/orca_gui_prefs.py
          Implemented:
            magCursorOnOffChecked(self, widget):
            magCursorExplicitSizeChecked(self, widget):
            magCursorSizeValueChanged(self, widget):
            magCrossHairOnOffChecked(self, widget):
            magCrossHairClipOnOffChecked(self, widget):
            magCrossHairSizeValueChanged(self, widget):
            magZoomerTopValueChanged(self, widget):
            magZoomerBottomValueChanged(self, widget):
            magZoomerLeftValueChanged(self, widget):
            magZoomerRightValueChanged(self, widget):
            magZoomFactorValueChanged(self, widget):
            magInvertColorsChecked(self, widget):

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/mag.py 
          src/orca/orca_gui_prefs.py
          src/orca/settings.py
          Changed magXScaleFactor and magYScaleFactor to a single 
          magScaleFactor. This means that you currently can't magnify 
          different amounts for X and Y.  If this functionality is 
          needed, we can implement it in a future release.

        * src/orca/orca_prefs.py
          Added _getMagCursorColorString(), _getMagSmoothingModeString() 
          and _getMagMouseTrackingModeString() that return strings 
          representing the magnification cursor color, the magnification 
          smoothing mode and the magnification mouse tracking mode 
          respectively, and adjusted the writePreferences() method to 
          use them.

        * src/orca/settings.py
          Changed magCursorColor from 0xFFFFFF to '#000000' (white to black
          and in the correct format for gtk.gdk.color_parse().

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added in an "Enable Speech" checkbox at the top of the speech
          notebook pane.
          Added in an "Enable Magnification" checkbox at the top of the
          magnification notebook pane.
          Refactor of the speech and magnifier panes to make it easier
          to [un]sensitize the various components depending upon whether 
          the user has speech and/or magnification enabled.

        * src/orca/orca_gui_prefs.py
          Added in a speechSupportChecked signal handler for the "Enable
          Speech" checkbox. The sensitivity of all the rest of the items 
          on the speech pane is dependent upon this setting.

          Added in a magnificationSupportChecked signal handler for the 
          "Enable Magnification" checkbox. The sensitivity of all the rest 
          of the items on the magnification pane is dependent upon this 
          setting.

          [Un]sensitize speech and magnification components depending
          upon whether speech and/or magnification is enabled.

          Setup the initial state of the magnifier pane from the users
          magnification settings.

        * src/orca/setting.py
          Changed "magSmoothingModee" to "magSmoothingMode".
          Added in a setting for "magCursorColor".

2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/mag.py src/orca/settings.py
          Changed settings magX and magY to magXScaleFactor and 
          magYScaleFactor to clarify meaning and avoid name confusion 
          with zoomer placement.

        * src/orca/settings.py
          Added in settings (plus default values) for all the items 
          that can be configured via the Magnification notebook pane 
          in the Preferences GUI.

2006-05-04  Willie Walker <william.walker@sun.com>

	* configure.in, orca.spec.in: another pass at the dependencies.
	
	* src/orca/util.py, src/orca/default.py,
	src/orca/braillegenerator.py, src/orca/speechgenerator.py: more
	fixing for bug 340635.  Move the notion of handling the "real"
	active descendant to the speech and braille generators.  This
	allows us to better handle expanded and collapsed states of cells.
	
	* src/orca/default.py: fix for bug 340635.  Cache the active
	descendant of an object.  Also keep track of the "real" active
	descendant and use this in the case where a parent that manages
	its descendants gets focus (i.e., the real locus of focus is the
	active descendant and not the parent).
	
2006-05-04  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Removed the Focus tracking mode setting. Moved the "Invert
          Colors" checkbox up near the Zoom factor setting, and created
          a "Zoomer settings:" area.

        * src/orca/orca_gui_prefs.py
          Removed the signal handler that handled the value being changed 
          in the focus tracking mode combo box.

2006-05-03  Willie Walker <william.walker@sun.com>

	* src/bugs/bugs.html: Add GEdit bug 340577 regarding inability
	to get to statusbar information from at-poke.

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py,
	src/orca/default.py: fix for bug 340559, handle sliders with
	text values a little better.

	* src/orca/atspi.py, src/orca/braillegenerator.py,
	src/orca/default.py, src/orca/flat_review.py,
	src/orca/focus_tracking_presenter.py, src/orca/mag.py,
	src/orca/speechgenerator.py, src/orca/speechserver.py,
	src/orca/util.py, src/orca/scripts/Evolution.py,
	src/orca/scripts/Mozilla.py: move ".label" logic from atspi to
	speech and braille generators to address bug 319732.  Fixed a few
	other bugs in the process: bug 337371 (voluminous output of
	sliders), 340481 (combo box in gaim), and bug 340556 (radio button
	group names not being announced).

	* src/orca/mag.py, src/orca/settings.py: some experimentation with
	property bags as well as setting magnification scales.
	
2006-05-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Added in commented out code to _initGUIState() to set the
          initial state of the various components on the Magnifier
          notebook page. When the names of the various magnifier
          preferences are known, then this code can be uncommented.

          Added in a _getComboBoxIndex() method that will return the 
          index of the first entry in a given combobox with a given label.
          This will be needed by the new code in _initGUIState().

2006-05-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added in the GUI for the Magnification notebook page in
          the configuration window.

        * src/orca/orca_gui_prefs.py
          Added in stub signal handlers for all the values that 
          can change in the components on the Magnification notebook 
          page in the configuration GUI.

2006-05-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          The showing of the Orca configuration GUI (if invoked at
          startup time via --setup or --gui-setup), needed to happen
          after the users current orca settings had been read.

        * src/orca/orca_gui_prefs.py
          In the speechSystemChanged() method, the existing entries 
          in the voices combo box needed to be removed before 
          _setupVoices() was called.

2006-05-02  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: per request of Mike, make Insert+s be a
	toggle for disabling/enabling speech.  Fixes bug 338839.

	* src/orca/default.py: generalize fix for 340305.
	
2006-05-01  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: ultimate fix for 340305.  The underlying
	problem is that the selection notification event from the AT-SPI
	Registry can keep giving us a different object for the same combo
	box as you arrow up and down in the combo box items.  This seems
	to happen each time you run the test case in the bug report except
	for the very first time.  The fix is more general in that it 
	adds an additional check in visualAppearanceChanged to see if
	the given object is the locusOfFocus *or* if it has the FOCUSED
	state set.

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py,
	src/orca/default.py, src/orca/util.py: partial fix for 340305.
	Changes the way labels and displayed text for combo boxes are
	obtained.  Also handles selection events to better react when
	the selection in a combo box changes.
	
2006-05-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Added comments to each method in the file.

2006-05-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          All methods in orca_gui_prefs.py that are just used internally
          have had an underscore prepended to their names.

2006-04-30  Willie Walker <william.walker@sun.com>

	* po/POTFILES.in: add orca_gui_prefs and orca_console_prefs.

	* src/orca/orca.py, src/orca/gnomespeechfactory.py,
	src/orca/settings.py, src/orca/speech.py,
	src/orca/speechserver.py: Add "Insert+s" to temporarily disable
	speech and "Insert+q" to re-enable speech.

	* src/orca/dectalk.py, src/orca/espeechfactory.py, 
	src/orca/gnomespeechfactory.py,src/orca/orca.py,
	src/orca/orca_console_prefs.py, src/orca/orca_gui_prefs.py,
	src/orca/speech.py, src/orca/speechserver.py: refactor
	speech server factory to remove the "Infos" stuff and
	give you back working servers insteaed.

	* src/orca/orca.py: fix for bug 339932 to shutdown speech
	better and also force exit (use os._exit instead of sys.exit).

2006-04-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Changed all occurances of GtkComboBoxEntry for GtkComboBox.

          Added LABEL_FOR and LABELLED relationships for the speech
          punctuation level and speech verbosity label/radio buttons.

        * src/orca/orca_gui_prefs.py
          Adjusted the code handling the GtkComboEntry components to now
          use GtkComboBoxes instead.

2006-04-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added LABEL_FOR and LABELLED_BY relationships for the 
          label/scales for rate, pitch and volume.

2006-04-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          If the user now dismisses the Orca configuration GUI via the
          Close "X" glyph on the window titlebar, the GUI will now be
          correctly redisplayed the next time they hit Insert-Space.

2006-04-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Fixed up the setting of family, rate, pitch and volume for each
          of the three voice types (default, uppercase, hyperlink). The
          correct values are now read and written from the users 
          ~/.orca/user-settings.py file.

2006-04-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py
          Added in support for speech punctuation style.
          Keyword is "verbalizePunctuationStyle". There are three
          new definitions:
            PUNCTUATION_STYLE_NONE = 0
            PUNCTUATION_STYLE_SOME = 1
            PUNCTUATION_STYLE_ALL  = 2

         * src/orca/orca_prefs.py
           Added in a new routine:
             _getVerbalizePunctuationStyleString(punctuationStyle):
           that returns a string that represents the punctuation 
           style passed in. 

           Adjusted the writePreferences() routine to use it.

         * src/orca/orca_gui_prefs.py
           Added in support for reading and writing the speech 
           punctuation style preference.

2006-04-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Moved the voice family down into the Voice Settings area.

        * src/orca/orca_gui_prefs.py
          Implemented voiceTypeChanged(), rateValueChanged(),
          pitchValueChanged() and volumeValueChanged()

2006-04-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Hooked up the callbacks for:
          - Speech Verbosity Level
          - Braille Abbreviated Rolenames
          - Braille Verbosity Level

2006-04-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Further changes to the Orca Configuration GUI.
          - Three GtkTreeView lists removed.
          - Scrolling window in the Speech Notebook pane has been removed.

        * src/orca/orca_gui_prefs.py
          Adjusted code to use GtkComboBox's instead of GtkTreeView lists.

2006-04-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Further changes to the Orca Configuration GUI.
          - Step increment for volume scale is now .1
          - Added in controls for:
            > Speech Punctuation Level
            > Speech Verbosity
            > Braille Abbreviated Rolenames 
            > Braille Verbosity Level.
          - Added a scrollwindow for the Speech notebook pane and reduced
            the initial height of the configuration window.
          - Reduced padding from 5 to 3 pixels in most cases.
          - Added some horizontal separators.
          - Changed the window title to "Orca Preferences".

        * src/orca/orca_gui_prefs.py
          Added stub callbacks for the new controls in the Glade GUI.

2006-04-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          From Will: code in setupServers() to handle the situation where 
          there are two or more speech systems installed.

2006-04-27  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: fix for bug 339927: force
	floating point values on rate, gain, pitch, etc. to prevent
	integer arithmetic from getting in the way.	

	* src/orca/focus_tracking_presenter.py: print the ImportException
	out at a debug level of ALL when attempting to find script
	modules.  The reason for this is that the script module itself
	might have import problems and we want to know what they are.
	
2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Adjusted the scale increment for the pitch scale from 1 to .1.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added in the GUI for setting the rate, pitch and volume for
          the three types of voice (default, uppercase and hyperlink).

        * src/orca/orca_gui_prefs.py
          Needed to adjust the recently added debug messages to _init(), 
          setupServers() and setupVoices(), so that they are only output
          if debugLevel is <= debug.LEVEL_FINEST not >= debug.LEVEL_FINEST.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Changed "Select desired voice" to "Select desired voice family"
          for the label of the third list in the Speech tab pane.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          Added in debug to the _init(), setupServers() and setupVoices()
          methods to help debug cases where the GUI speech lists aren't
          being setup correctly.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Added LABEL_FOR relationships (to the appropriate lists) for
          the three speech related labels in the Speech Tab pane.
          Added mnemonics to the Help, Apply and Cancel buttons.
          Made the Apply button the default.

        * src/orca/orca_gui_prefs.py
          The printing of the stack trace in the three places where 
          speech is not available has been set to debug.LEVEL_FINEST.

2006-04-26  Willie Walker <william.walker@sun.com>

	* src/orca/orca_console_prefs.py: i18n-ize the message
	regarding needing to log out and back in again if a11y
	was just enabled.
	
2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca_gui_prefs.py
          The initial selections in the the three lists on the Speech
          tab GUI are now correctly set.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Adjusted _loadUserSettings() to loadUserSettings() so that it
          can be used in the Orca GUI configuration.

        * src/orca/orca_gui_prefs.py
          Call orca.loadUserSettings() to dynamically load the new user
          settings when they click on the Apply button.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Set Help button insensitive until callback has been implemented.

        * src/orca/orca_gui_prefs.py
          Replaced most uses of the say() routine with calls to debug
          routines.

          Added gettext wrappers around several strings.

2006-04-26  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Changed alphaPunctCheckButton to printableCheckButton for a
          consistent naming scheme with the variables in orca_gui_prefs.py

        * src/orca/orca_gui_prefs.py
          Initial version of the GUI embedded in Orca, using the common
          routines in orca_prefs.py. See the TODO comments at the start
          of this file for a list of the things that still need to be 
          completed.

2006-04-25  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: use Insert+space instead of Insert+s for 
	settings.  Insert+s is reserved for the stop speaking functionality.

	* src/orca/orca.py: add "--setup" as a synonym for "--gui-setup".
	Note that this will fallback to "--text-setup" if the desktop is
	not running.  Also do Insert+control+space for doing a forced
	reloading of the settings.

	* src/orca/orca_console_prefs.py, src/orca/orca_prefs.py: allow
	writing of things besides strings.  Also add ability to preload
	a preferences dictionary based upon the current settings.

	* src/orca/settings.py: add "userCustomizableSettings" field to 
	specify what is user customizable.

	* orca.spec.in, configure.in, src/orca/.cvsignore,
	src/orca/orca-setup.in (DELETE), src/orca/orca.py,
	src/orca/orca_gui_prefs.py (GUI stuff from orca-setup.in),
	src/orca/orca_console_prefs.py (console stuff from orca-setup.in),
	src/orca/orca_prefs.py (common stuff from orca-setup.in):
	Refactor of preferences setting mechanisms.  These are now
	invoked via command line options to the "orca" command.  
	"--gui-setup" will run the GUI setup tool (also available via
	Insert+s when Orca is running) and "--text-setup" will run the
	console based tool.  orca-seutp.in no longer exists.
	
2006-04-24  Willie Walker <william.walker@sun.com>

	* configure.in, src/orca/platform.py.in: create a new module 
	to hold platform settings used when ./autogen.sh or ./configure
	was run.  This will hold the prefix, datadirname, package name,
	orca version, etc.  The goal here is to get rid of the various
	*.py.in files and use this one as the single point of reference
	for the various settings on the platform.

	* src/orca/orca.py, src/orca/settings.py: support to load the
	configUIModule and call showConfigUI if "--configure" is passed to
	the orca command line and also do the same if the user presses
	Insert+s.  This will only work once Rich checks in the
	orca-config.py module, so don't bother trying it yet. :-)
	
2006-04-24  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Adjusted one of the labels on the Speech tab pane from 
          "Selected..." to "Select ..."

2006-04-24  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Hopefully the real fix to the systemsSelectionChanged() method.
          Was not passing in a proper gnome speech factory parameter to 
          the setupServers() routine.

2006-04-24  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Removed the line that says "Welcome to Orca setup."
          This will automatically be spoken as one of the static labels
          in the Orca configuration window.

          Removed the lines of code that set the speech list panes 
          insensitive if they only had one item in them.

          Added in a check to the systemsSelectionChanged() method to see
          if there was only one speech system. If so, then just return.
          This is just a hack to make it useful for the common situation.
          The real fix is to work out how to change/reinstall a factory.

2006-04-24  Rich Burridge <rich.burridge@sun.com>

        * po/POTFILES.in
          Added src/orca/orca-setup.glade to the list of files that 
          should be checked for translatable strings.

2006-04-22  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.3.

	* po/POTFILES.in: remove Gecko.py.

	* configure.in: get the ORCA_SETUP_GLADE_DIR working better.

	* src/orca/mag.py: minor attempt to follow the caret when it
	moves.

2006-04-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.glade
          Removed three unwanted "label-for" relationships from the
          orca-setup Glade file.

2006-04-21  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Adjusted the nonGui() side of orca-setup to ask the question:
          "Enable Braille?  Enter y or n: ", rather than always set it
          to True. Removed the now redundant seupBraille() routine.

2006-04-21  Rich Burridge <rich.burridge@sun.com>

        * configure.in 
          src/orca/Makefile.am
          src/orca/orca-setup.glade
          src/orca/orca-setup.in
          Created an initial version of a GUI for Orca configuration.
          At the moment, if you run "orca-setup", it will default to
          the command line version and will ask you a series of questions.
          If you start it with "orca-setup -gui", then it will bring up
          a GUI equivalent. 

          There is still work to do on this before it can be announced 
          on the Orca mailing list. When it's ready, the plan is to swap 
          the default behaviour (i.e. no command line options) to be the 
          GUI version. The command line version would still be available 
          via a "-nogui" command line option.

2006-04-20  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html, bugs/bug_312093.py (new): update based upon 
	Firefox 2.0a1 nightly from 2006-04-20.
	
2006-04-17  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix for bug 338687 - no longer
	automatically speaks unbound text in panels that suddenly appear.
	NOTE that Orca will still automatically speak dialogs and such.
	NOTE ALSO that this fix probably breaks wizard dialogs, but wizards
	are so broken, anyway, that I think they need to be handled a little
	differently.

	* src/orca/atspi.py, src/orca/settings.py: fix for bug 334924 to
	keep the cache in better sync.  Also use settings.cacheValues 
	setting instead of atspi.CACHE_VALUES to allow easier setting
	and unsetting of whether to cache or not.

	* src/orca/default.py: more work for bug 319643. Magnification is
	working again, though it does indeed need a bit of work to make it
	usable.  See also http://bugzilla.gnome.org/show_bug.cgi?id=323032.

	* src/orca/orca.py, src/orca/mag.py: patch for bug 319643 - recover
	gracefully from failures when attempting to load the magnifier.
	This allows Orca to work if gnome-mag had not been installed.

	* src/orca/rolenames.py, src/orca/atspi.py,
	src/orca/scripts/gedit.py, src/orca/scripts/gaim.py: fix for bug
	319789 - fallback to localized rolename if it exists.	

	* src/orca/orca-setup.in: fix for bug 330631 - put rate, gain,
	and pitch in user-settings.py.

	* src/orca/orca.py: fix for bug 319651 - issue a message and abort
	orca if accessibility has not been enabled for the session.

	* src/orca/debug.py: update documentation to reflect new way to
	set debugLevel.

	* test/harness/user-settings.py.in: update to reflect new settings
	and new method for setting settings.
	
2006-04-16  Willie Walker <william.walker@sun.com>

	* src/orca/orca_i18n.py.in: fix for bug 338690: orca_i18n was not
	working as expected.	

	* src/orca/default.py, src/orca/util.py,
	src/orca/scripts/Mozilla.py, src/orca/scripts/StarOffice.py: make
	sayLine, sayWord, and sayCharacter be object methods as opposed to
	top level module methods.  Also move textLines and getLinkIndex
	methods from default.py to util.py. These changes merely reflect a
	small cleanup of the object-oriented nature of the code and should
	not have any impact on the end user experience.
	
2006-04-15  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: provide some delimiter
	output to make it easier to identify the various processing
	steps that are done when an event is processed.

	* src/orca/speechgenerator.py, src/orca/scripts/gnome-terminal.py:
	remove some speech output.  This seems to eliminate hearing 
	"terminal" 6 times, but it does not address the repetitive stuff
	that's going on when you go through the profile editing tabs.

	* src/orca/orca.py: delay registration of keyboard listeners until
	after the user preferences have been loaded.  This prevents
	exceptions from occurring if the user types on the keyboard in
	between the time the user starts orca and the time orca is fully
	initialized.

	* src/orca/orca-setup.in: remove an errant ")" at the end of a
	commented out debug line.
 	
2006-04-14  Willie Walker <william.walker@sun.com>

	* src/orca/*.py, src/orca/scripts/*.py: general pass at
	removing trailing whitespace from source code, removing
	tabs, and making sure copyrights are up to date.
	
	* src/orca/default.py, src/orca/orca.py, src/orca/script.py,
	src/orca/scripts/Evolution.py, src/orca/scripts/Mozilla.py,
	src/orca/scripts/StarOffice.py, src/orca/scripts/gcalctool.py,
	src/orca/scripts/gdmlogin.py, src/orca/scripts/gedit.py,
	src/orca/scripts/gnome-terminal.py, src/orca/scripts/metacity.py,
	src/orca/scripts/planner.py: break HUGE default.py:__init__
	method up and provide 4 new methods to script.py:

        setupInputEventHandlers: sets up input event handlers for a script
	getListeners: returns dictionary of AT-SPI event listeners 
        getKeyBindings: returns keybindings that define which keystrokes
	                call which input event handlers
        getBrailleBindings: returns braillebindings that define which
	                braille input events call which input event
	                handlers

	This change allows subclasses to more easily define and override
	the various features.
	
2006-04-13  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/atspi.py: pass
	one at bug 334893.  This patch adds the knowledge of the toolkit
	name and version to an Accessible's application.  In the event
	that a custom script cannot be found for an application, this
	patch also attempts to load a script module based upon the toolkit
	name before falling back to the default script.  The main
	restriction of this patch is that it does not allow one to
	override the toolkit module (i.e., settings.scriptPackages is not
	used) and the toolkit module must be in the "orca" package.  This
	probably should be relaxed at some point, but I'm not comfortable
	with mixing toolkit scripts and application scripts in the same
	packages because of potential Python namespace conflicts (e.g., an
	application written in Java named "GAIL" and an application
	written using the GAIL toolkit might accidentally both end up
	using the GAIL script).
	
	* src/orca/braille.py, src/orca/braillegenerator.py,
	src/orca/debug.py, src/orca/default.py,
	src/orca/focus_tracking_presenter.py,
	src/orca/gnomespeechfactory.py, src/orca/input_event.py,
	src/orca/orca-setup.in, src/orca/orca.py, src/orca/rolenames.py,
	src/orca/script.py, src/orca/settings.py, src/orca/speech.py,
	src/orca/speechgenerator.py, src/orca/scripts/Evolution.py,
	src/orca/scripts/StarOffice.py: fix for bug 338240 to refactor the
	way user-settings are managed.  This new method removes the
	two-tier approach and has user-settings.py set values in
	settings.py.  It also isolates the default values to settings.py
	and removes a fair amount of complexity.  Furthermore, this
	includes nascent support (Insert+Ctrl+s) to allow the user to
	dynamically reload user-settings.py should they edit it while Orca
	is running.  The reload will also restart speech and braille.
	
2006-04-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          src/orca/orca.py
          In the _keyEcho() routine in orca.py, no longer do anything
          special if this is a printable character and a "special" 
          component ("special" is an editable component or a terminal).

          In the onTextInserted() routine in default.py, check if the 
          last input event was a keyboard event, check to see if the 
          text for this event matches what the user typed. If it does,
          then don't speak it.
        
           Note that we have to special case the space character as it 
           comes across as "space" in the keyboard event and " " in the
           text event.

2006-04-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added code to the onTextInserted() method to say the last word
          when "echo by word" is enabled. Note that it's not speaking the
          punctuation or whitespace after the word at the moment. That 
          will require some changes to the sayWord() method.

2006-04-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/settings.py  
          src/orca/orca.py
          src/orca/default.py
          src/orca/orca-setup.in
          Changes to the way key echo work per the key and word echo
          requirements spec.

          Key echo applies to the entire keyboard and is for echoing 
          keys as they are pressed. The keys are broken into the following 
          groups that the user can optionally enable for echoing:

          o Alphanumeric and punctuation keys

          o Modifier keys: CTRL, ALT, Shift, Insert, and "Fn" on laptops.

          o Locking keys: Caps Lock, Num Lock, Scroll Lock, etc.

          o Function keys: The keys at the top of the keyboard.

          o Action keys: space, enter, escape, tab, backspace, delete, arrow
            keys, page up, page down, etc.

          When a key from any enabled group is pressed, the key will 
          be spoken.

          The onTextInserted() method only speaks the text associated
          with the "object:text-change:insert" event if key echoing and
          echoing of printable characters are both enabled.

          The orca-setup.in script has been adjusted to ask various questions
          to allow the user to setup whether these types of keys will be
          echoed or not.

        * src/orca/settings.py
          src/orca/braille.py
          src/orca/focus_tracking_presenter.py
          src/orca/orca.py
          src/orca/orca-setup.in
          Refactoring of use<name> to enable<name> for various settings to
          be consistent in style with the names for the new keyboard 
          enabling types.

          The orca-setup.in script has been adjusted to use these new names.

2006-04-10  Willie Walker <william.walker@sun.com>

	* docs/doc-set/*: update requirements
	
2006-04-09  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/planner.py: use new braille API to for 
	displayRegions and also handle the label a little better.

	* src/orca/orca.py, src/orca/settings.py: fix for bug 337857,
	allow user to customize which key(s) can be used as the Orca
	modifier key.

	* po/POTFILES.in: add gedit and utils.
	
2006-04-08  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/scripts/Evolution.py
	src/orca/scripts/StarOffice.py: fix for bug 337704 - add API
	symmetry to braillegenerator.py:getBrailleRegions and
	braille.py:displayRegions.

	* src/orca/orca-setup.in: fix for RFE (bug 337709) - force
	speaking rate parameter to be added to ACSS for default force.
	
2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Small change to the onTextInserted() method as part of the
          key echo revamp. If echoing by character and word are both 
          off, then just return and don't speak anything.

          [Update: change removed for now as it has the side-effect
           of no longer speaking any text that's inserted into the gedit or
           gnome-terminal application. Need to find out how to determine
           whether this "object:text-changed:insert" event was generated
           as the result of a key being pressed.]

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in the following GNOME planner bug:

          http://bugzilla.gnome.org/show_bug.cgi?id=337659
          Planner Edit Task Properties dialog has broken accessible 
          component hierarchy.

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/planner.py
          Adjustment to case #1 in the onFocus() method, to also add
          the label for the toggle button to the braille display.

2006-04-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Several changes to the orca-setup script:
          - Removed the "Use key echo?" question and associated
            orca.settings.USE_KEY_ECHO setting. 
          - Replaced it with:
            "Echo by word, character, both or none?  Enter w, c, b or n: "
            which  will set two settings to True or False:
              orca.settings.USE_ECHO_BY_WORD
              orca.settings.USE_ECHO_BY_CHAR
            depending upon the users answer.
          - Added in another question: "Use Braille Monitor?  Enter y or n: ".
            The Braille Monitor is a visual representation of what is being
            brailled by Orca.
          - Automatically create a "orca-scripts" directory under the
            users .orca directory, if it doesn't already exist.
          - Automatically create an empty __init__.py file in the 
            orca-scripts directory, if it doesn't already exist. 
            This will enable the user to put their own specific 
            applications scripts in the orca-scripts directory, 
            and Orca will pick them up.
          - Added a section of code that will generate the following lines
            at the end of the user's user-settings.py file:

              try:
                  __import__("orca-customizations")
              except ImportError:
                  pass

            What this means is that Orca will now look for a file
            called "orca-customizations.py" in the user's .orca directory.
            This file should contain any custom Orca Python code that the
            user wants. Having it in a separate file from user-settings.py
            means it won't get blown away when you rerun orca-setup

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Added in two sections of code in _keyEcho():
          - check to see if the key event is for a "special" key (via
            the new _specialKey method) and if so, then handle its 
            echoing in the _keyEcho method. Currently this is just testing
            for Control, Alt, Shift and Meta. Over time, this routine
            will be tweaked to handle the full set of special keys.

          - check to see if the object that currently has focus is an 
            editable text object or has a role of "terminal". If so, and
            its not a special key, then the echoing of the key event will 
            occur via an "object:text-changed:insert" event.

          This improves the double echoing that was previously happening.

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca.py
          Slight refactoring to move some keyboard echo code out of
          _processKeyboardEvent() and  into the _keyEcho() method.
          _keyEcho() now takes an event (AT-SPI DeviceEvent) parameter
          rather than an event_string so that at a later date, we can 
          fully interrogate the keyboard event we've just received.

2006-04-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/planner.py src/orca/scripts/Evolution.py
          src/orca/scripts/planner.py src/orca/scripts/Evolution.py
          Adjusted case #1 in the onFocus() method in the planner.py 
          script, to fall through and also do the default action for
          the focus event.

          Removed the walkComponentHierarchy() from the planner,
          Evolution, StarOffice and gedit scripts and used calls to
          atspi.printAncestry(event.source) instead.

2006-04-06  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/atspi.py,
	src/orca/hierarchical_presenter.py, src/orca/scripts/metacity.py:
	fix for bug 337489 where metacity script would inappropriately
	think apps that started after Orca started were inaccessible.
	
2006-04-05  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, orca/src/settings.py: fix
	for bug 337322 where the user was not being notified of window
	title changes when the user uses Alt+TAB to tab between windows.
	The primary culprit was name space pollution by GTK, but Orca
	should sheild itself from this.  This fix provides that shield
	somewhat, but the ramification is that scripts are no longer
	picked up from the local directory (which was just a convenience
	for script writers).	

	* docs/doc-set/*.{sgml,html,pdf}: make this compile again.  For
	some bizarre reason, docbook on my Ubuntu box no longer liked "_"
	in entities or ids, and it was easier to get rid of them rather
	than scour the web to see what was going wrong.
	
2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/atspi.py
          Changes to the __get_label() method. The check to see if the
          object has a name (and if so, return it), has been moved to
          the beginning. The improves the readibility of checkboxes on 
          various StarOffice options dialog panes.

          The special case code for push buttons with children, has been 
          adjusted to no longer first check to see if the push button has 
          a name.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Couple of changes to the visualAppearanceChanged() method.

          1/ If this object is CONTROLLED_BY the object that currently
             has focus, speak/braille this object.

          2/ If this object is a label, and if it has a LABEL_FOR relation
             to the focused object, then we should speak/braille the
             focused object, as if it had just got focus.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in the following GNOME planner bug:

          http://bugzilla.gnome.org/show_bug.cgi?id=337382
          Toggle button in main window not accessible</td>

          Also fixed up the table of OpenOffice bugs.

2006-04-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Makefile.am
          src/orca/scripts/planner.py    (new)
          Created a new planner.py script for the Planner application.
          Currently it looks to see if the focus is on one of the four 
          graphical toggle buttons on the left side of the main window 
          and if so, speaks the label associated with it.

2006-04-04  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added the following new OpenOffice bugs:

          http://www.openoffice.org/issues/show_bug.cgi?id=63979
          The User Data options pane is confusing when read with 
          a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63980
          The StarOffice->General options pane doesn't provide useful 
          labels when read by a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63981
          The StarOffice->View options pane doesn't provide useful 
          labels for checkboxes when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63982
          The StarOffice->Print options pane doesn't provide useful 
          information when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63983
          The StarOffice->Paths options pane table doesn't provide 
          useful information when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63984
          The StarOffice->Security options pane doesn't provide useful 
          information for checkboxes when read with a screen reader.

          http://www.openoffice.org/issues/show_bug.cgi?id=63985
          The StarOffice->Accessibility options pane doesn't provide 
          useful information for checkboxes when read with a screen 
          reader.

2006-04-02  Willie Walker <william.walker@sun.com>

	* configure.in, orca.spec.in: begin updating dependencies
	
2006-03-31  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added two new Open Office bugs:

          http://www.openoffice.org/issues/show_bug.cgi?id=63870
          Writer doesn't implement text.getDefaultAttributes.

          http://www.openoffice.org/issues/show_bug.cgi?id=63871
          Spreadsheet doesn't implement text.getDefaultAttributes.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py
          src/orca/scripts/gedit.py
          src/orca/scripts/Evolution.py
          src/orca/scripts/StarOffice.py
          Created a speakMisspeltWord(allTokens, badWord) routine in
          util.py that is now used by the spell checking code for the
          gedit, Evolution and StarOffice scripts.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/orca-setup.in
          Fixed bug #336648 (http://bugzilla.gnome.org/show_bug.cgi?id=336648)
          The orca-setup script now successfully completed speaking 
          "Orca setup finished" before the speech server is shutdown.

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/gedit.py
          Added in spell checking support. The misspelt word and its
          context are now spoken in a similar way to the StarOffice and
          Evolution scripts.

          NOTE: this will currently only work correctly if you turn:
                CACHE_VALUES = False
                in atspi.py. See Orca bug #334924 for more details
                (http://bugzilla.gnome.org/show_bug.cgi?id=334924).

2006-03-30  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for OpenOffice Writer bug #63818:
          F10 key doesn't bring up the menu bar.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Change to the readMisspeltWord() routine to only braille (not 
          speak) the default action for this component.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Changes to the readMisspeltWord() routine to:
          - Only braille (not speak) the default action for this component.
          - Handle misspelt words at the end of the line.
          - Don't respeak the mispelt word and context when tabbing around
            inside the Spell Checker Dialog.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/rolenames.py
          Fixed bug #330487 (http://bugzilla.gnome.org/show_bug.cgi?id=330487)
          Typo in one of the strings in the rolenames[ROLE_DRAWING_AREA]
          rolename entry.

2006-03-27  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the "A.M." and "P.M." suffix occurances in the
          getTimeForCalRow() routine to remove references to urine.

2006-03-17  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.2.

2006-03-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          src/orca/scripts/StarOffice.py
          Slight adjustment to the spell checking routines. Needed to
          check if each word in the text area starts with the bad word 
          rather than is exactly equal to it. The latter wasn't taken 
          into consideration any possible punctuation symbols.

2006-03-17  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html: triage/update based upon GNOME 2.14.
	
2006-03-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Slight tweak to the previous change. Always speak the text 
          attributes for size and family-name. For the others, if the 
          value is the default, then ignore it.

2006-03-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added in a new hotkey combination (Insert+f), that will speak
          a set of text attributes (indent, underline, strikethrough, size,
          family-name, justification and style) for the character at the 
          text caret offset.

          Three new methods created:

              textAttrsToDictionary(str):
              outputCharAttributes(attributes):
              readCharAttributes(inputEvent=None):

         Note that it looks like some applications like Evolution and Star
         Office don't implement text.getDefaultAttributes(). This means
         that we can't always determine the full set of text attributes. 

2006-03-16  Willie Walker <william.walker@sun.com>

	* src/orca/orca-setup.in: make hyperlink voice more
	distinguishable from the normal speaking voice

	* src/orca/scripts/Mozilla.py: do a bit of work with better
	handling of hyperlinks
	
2006-03-15  Willie Walker <william.walker@sun.com>

	* src/orca/brlmon.py: use window manager struts property to
	keep other windows from occluding the brlmon and to push
	them out of the way if necessary.

	* src/orca/util.py: add findFocusedObject method to find the
	focused object under a given root.

	* src/orca/scripts/gdmlogin.py, src/orca/gnome-terminal.py: use
	the util.findFocusedObject method on window activated events.
	
2006-03-14  Willie Walker <william.walker@sun.com>

        * src/orca/scripts/Makefile.am, src/orca/scripts/gdmlogin.py:
        simple script to speak the text area with focus when Orca is
        started.

2006-03-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Adjustment to clause #1 of the onFocus() method to check to see
          if the current paragraph contains one or more hypertext links.
          If it does, then those words containing the links are spoken with
          the HYPERTEXT voice and the word "link" is spoken after them.

2006-03-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added in support for spell checking when there is more than one
          misspelt word on the same line. Also handles the situation where we
          are getting more than one "object:property-change:accessible-name"
          event for the same misspelt word.

2006-03-09  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: toss out all children remove
	events unless they are for the desktop.  This is an attempt to deal
	with bursty event behavior for events we may not always care about.

	* src/orca/orca.py, src/orca/focus_tracking_presenter.py: stub in
	some experimental timer code.  It's commented out for now, but the
	goal is to try to detect hangs in AT-SPI calls.
	
2006-03-08  Willie Walker <william.walker@sun.com>

	* src/orca/brlmon.py: Better adaptation (e.g. position on screen)
	to changes in size when working with large fonts (e.g., enlarging
	the fonts for presentation purposes).	

	* src/orca/gnomespeechfactory.py, src/orca/braille.py: transform
	unicode ellipses into "...".  Fixes bug 333915.
	
2006-03-07  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: disable the automatic updating of the apps
	list.  This was often hanging Orca and the desktop, especially
	in the instances where the gnome error window of death would 
	appear.  NOTE THAT THIS IS ONLY A TEMPORARY THING: It helps
	avoid some hangs, but it also required the disabling of the
	hierarchical presentation manager, which is rarely, if ever,
	used.

	* src/orca/gnomespeechfactory.py: unref speech engines that fail
	to initialize.  This will give them a chance to exit.  Fixes 
	bug 333792.

	* src/orca/orca.py: add more signal handling logic to attempt to
	shutdown gracefully under adverse conditions.  This helps address
	bug 333765.
		
2006-03-06  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/settings.py, src/orca/orca-setup.in:
	turn braille on by default; Orca will fail gracefully if it cannot
	connect to BrlTTY.

	* src/orca/focus_tracking_presenter.py, src/orca/orca.py: handle 
	COMM_FAILURE's better when looking at children of the desktop.

	* src/orca/gnomespeechfactory.py: In speech, add a space after all
	instances of "[" in a string as a means to prevent DECtalk from
	interpreting these as commands.  This is an interim fix, and I'm 
	not sure whether the real fix belongs in the dectalk driver for
	gnome-speech or in Orca.
	
2006-03-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added a new clause to the onFocus() method.

          2) Writer: spell checking dialog.
         
          Check to see if the Spell Check dialog has just appeared and got
          focus. If it has, then it contains a "paragraph" which shows the
          context for the current spelling mistake. After speaking/brailling
          the default action for this component, that a selection of the
          surronding text from that paragraph with the misspelt word is also
          spoken.
         
        * src/orca/scripts/Evolution.py
          The number of words spoken in the surronding text for misspelt
          words was one less than it should have been.

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py
          Adjusted the _getSpeechForTableCell() method to check to see
          if the table cell implemented the accessible text interface,
          and if so, to append that text to the list of spoken utterances
          (if that text was different than the label of the table cell).

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          A tweak to clause 3) in the onFocus() method (Mail view: 
          message header list). The column header is only spoken and
          brailled when moving by row, if this is the table cell that
          currently has focus.

2006-03-02  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for the StarOffice/OpenOffice bug #62723.
          Open Dialog "read-only" checkbox has incorrect accessibility 
          information.

2006-03-02  Willie Walker <william.walker@sun.com>

	* src/orca/script.py, src/orca/focus_tracking_presenter.py:
	patch for bug 333168: scripts were not being reclaimed.  This
	is an acceptable workaround, but we should (not must) determine
	circular references and why they exist.

	* src/orca/braillegenerator.py: add ARMED state as a means for
	identifying selected items when considering which item to show
	from a set of grouped items.  This is to work around the way
	OpenOffice currently exposes selected menu items.  If/when they
	fix this to match GTK's method, this code should still continue
	to work and not cause side effects (I hope).

	* src/orca/atspi.py: do not cache the accessible state because
	I'm not sure we are getting the appropriate events to allow us
	to keep our state cache in sync.
	
2006-03-01  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix for bug 332887 - added extra KeySyms
	to accommodate different keypad layouts on Solaris systems.
	
2006-02-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/util.py src/orca/Makefile.am
          src/orca/scripts/Evolution.py src/orca/scripts/StarOffice.py
          Created a new util.py file which will contain various utility
          functions used by Orca. Moved the isDesiredFocusedItem() routine
          there and adjusted Evolution.py and StarOffice.py accordingly.

2006-02-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py
          Added an onFocus() method and handled the following situation:

          When the focus is on a paragraph in the Document view of the Writer,
          then just speak/braille the current line (rather than speaking a
          bogus initial "paragraph" utterance as well).

        * src/orca/braille.py
          The initial parameter of the call to displayRegionsWithFocus()
          within the displayRegions() method should have been "regions" not
          "region".

2006-02-27  Willie Walker <william.walker@sun.com>

	* src/orca/gnomespeechfactory.py: handle fallback for broken
	speech drivers a little better - gnome-speech may tell us a
	driver is available when, in fact, the engine behind it is
	not working.
	
2006-02-22  Willie Walker <william.walker@sun.com>

	* NEWS, configure.in, README: prep for 0.2.1.

	* src/orca/gnomespeechfactory.py, src/orca/speech.py, src/orca/orca.py,
	src/orca/speechserver.py: add keystroke to reset speech: Insert+s.
	Interim workaround for bug 332253.
	
2006-02-16  Willie Walker <william.walker@sun.com>

        * src/orca/brlmon.py: "improve" visibility of cell with cursor.

	* src/orca/brlmon.py: substitute macros for < and & so they are
	not interpreted by the pango interpreter.

	* src/orca/orca.py: add SIGSEGV handler to (hopefully) prevent
	core files.
	
2006-02-15  Rich Burridge <rich.burridge@sun.com>
        * bugs/bugs.html
          Added a new entry for Evolution bug #331447:
          The accessible name for Mail message header list "checkbox" table
          cells is not useful.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          A couple of tweaks to clause 3) in the onFocus() method 
          (Mail view: message header list). 
          - It no longer speaks/brailles the headers for checkboxes. A side
            effect of this is that if the current cell with focus was a 
            checkbox, then the region on the braille line that's visible 
            now becomes the actual cell itself rather than the header.
          - Added spaces between each header and cell value.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted clause 3) in the onFocus() method (Mail view: message
          header list). It now speaks/brailles (with VERBOSITY_BRIEF) the
          column headers for each table cell that is read in the current 
          row of the mail message header list. The focus in the braille
          line is given to the region containing that column header 
          information for the current cell now, rather then the actual
          table cell.

2006-02-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted clause 3) in the onFocus() method (Mail view: message
          header list). It now uses the new displayRegionsWithFocus()
          method to (hopefully) correctly set the correct region to set
          the focus to on the braille line.

2006-02-15  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/Makefile.am, src/orca/settings.py,
	src/orca/brlmon.py: add beginnings of a braille monitor.  This is
	currently turned off by default, but can be enabled by setting
	useBrailleMonitor=True in ~/.orca/user-settings.py.	

	* src/orca/braille.py: refactor displayRegions to include a
	new method, displayRegionsWithFocus, which will set the cursor
	to a given region with focus.  The new displayRegions method
	merely calls this new method with the region as specified by
	the indexOfFocusRegion parameter.
	
2006-02-14  Willie Walker <william.walker@sun.com>

	* QUICKSTART: update to include Ubuntu notes on building eel,
	evolution-data-server, and evolution.  Also re-order libgail-gnome
	and at-spi building - turns out that libgail-gnome depends upon
	at-spi's spi.
	
2006-02-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the 3) clause in the onFocus() method (Mail view: message 
          header list). The last column (as well as the last row) in the 
          message header list is now cached. Now, in order to speak the 
          whole message header, the row must have changed or we are on the 
          first or last message header in the list and the column number 
          hasn't changed.

2006-02-14 Mike Pedersen <michael.pedersen@sun.com>

	* src/orca/speechgenerator.py 
          Removed the auto-speaking of scrollpanes as they don't give 
          any value-add to the speech user.

2006-02-10  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py: _getSpeechForLabelAndRole
          src/orca/braillegenerator.py: _getDefaultBrailleRegions
          If we are being verbose, don't speak/braille the rolename
          if the role of the object is UNKNOWN (unless the obj has no
          label).

2006-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py, src/orca/settings.py:
	add "null" package to list of packages to search for scripts.
	This allows you to pick up a script from the directory where 
	you run orca so you can more easily test your scripts.
	
2006-02-10  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added a new entry for Evolution bug #330712
          Accessible Name for TimeZone Button shouldn't contain its role.

          Added a new entry for Evolution bug #330723
          Various components shouldn't include their role in their 
          accessible name.

2006-02-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added a new 10) "Mail view: message area - attachments"
          clause to the onFocus() method:

          Check if the focus is on the "go forward" button or the
          "attachment button" for an attachment in the mail message
          attachment area. (There will be a pair of these buttons
          for each attachment in the mail message).
         
          If it is, then get the text which describes the current
          attachment and speak it after doing the default action
          for the button.
         
          NOTE: it is assumed that the last table cell in the table
          contains this information.

2006-02-09  Clytie Siddall <clytie@riverland.net.au>

	* configure.in	Added vi in ALL_LINGUAS line.
	
2006-02-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the 3) "Mail view: message header list" clause in 
          the onFocus() method:

          - If this focus event is just for a different table cell on 
            the same row as last time, then we just speak the current 
            cell. 
          - The braille cursor to set to point to the current cell.
          - If a table check is a check box, and we've just moved the
            focus to the left or right on the same row, then it's now
            read (spoken/brailled) irrespective of whether it's checked 
            or not.

2006-02-08  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: interim workaround for Orca not speaking
	Contact Source Selector panel items properly in Evolution.

	* bugs/bugs.html: update with information from OOo.

	* bugs/bug_330454.py, bugs/bugs.html: update with new FOCUSED
	state oddess for Evolution.

	* src/orca/settings.py: internationalize regular expressions for
	script mappings.

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py, 
	src/orca/scripts/StarOffice.py: start treating PARAGRAPH objects
	like TEXT objects.  Also rip out the earlier StarOffice script
	logic now that the new UNO<->ATK bridge implementation is looking
	better.

	* src/orca/gnomespeechfactory.py: remove traceback when a chname
	cannot be found - it's really not a bad thing.
	
2006-02-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in another couple of scenerios to the onFocus() method.

          - Mail compose window: message area
         
            This works in conjunction with code in the next section. 
            Check to see if focus is currently in the Mail compose window 
            message area. If it is, then, if this is the first time, save 
            a pointer to the HTML panel that will contain a variety of 
            components that will, in turn, contain the message text.

          - Spell Checking Dialog
         
            This works in conjunction with code in the previous section. 
            Check to see if current focus is in the table of possible 
            replacement words in the spell checking dialog. If it is, 
            then we use a cached handle to the Mail compose window message 
            area, to find out where the text caret currently is, and use 
            this to speak a selection of the surrounding text, to give 
            the user context for the current misspelt word.

2006-02-06  Rich Burridge <rich.burridge@sun.com>

        * src/orca/atspi.py
          Adjusted the __get_child_count() and __get_index() methods
          to no longer cache their values, as they could potentially change.

2006-02-06  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Adjusted the entry for "bug #329269" to show that it's not a bug
          and to give the required keynav sequence (Alt+Down Arrow).

2006-02-02  Willie Walker <william.walker@sun.com>

	* test/harness/runall.sh, test/harness/runone.sh: do not
	override user's user-settings.py when running tests.  Also
	sort the keystrokes files alphabetically before running.
	Finally attempt to politely tell Orca and other test utils
	(event_listener) to quit before running another test.

	* src/orca/orca.py: add current working directory to the
	beginning of sys.path - this is primarily for picking up
	a user-settings.py from the local directory for the purposes
	of running tests

	* src/orca/debug.py: remove gtk dependency

	* src/orca/settings.py: add script mapping for soffice.bin

	* src/orca/atspi.py: use EventDetails.host_application if
	it is available (this was added for AT-SPI 1.7.0)
	
2006-02-01  Willie Walker <william.walker@sun.com>

	* test/harness/*: add some initial attempt at a test harness.
	runall.sh runs them all, runone.sh runs one.  There's still 
	issues with a different set of events coming from running the
	same test on the same system - it's most likely due to 
	differences in timing when handling keystrokes.

	* test/keystrokes/*: arrange keystroke files in directories,
	with one directory per application.
	
2006-02-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py: _getSpeechForComboBox
          src/orca/braillegenerator.py: _getBrailleRegionsForComboBox
          If the label of the combo box is the same as the utterance for
          the child object, then this utterance is only spoken/brailled once.

2006-02-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the default for Evolution, to read all table cells 
          (such as in the mail message header summary list).

          Put a gettext wrapper around the "No appointments" string in the
          onFocus() method (case 5).

        * Added a case 7) to the onFocus() method:

        * This is for Mail view: insert attachment dialog: unlabelled arrow
          button. Check if the focus is on the unlabelled arrow button near 
          the top of the mail view Insert Attachment dialog. If it is, then
          rather than just speak/braille "button", output something a
          little more useful.

2006-01-31  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted section 3) in the onFocus() method (reading mail message
          header summary items). It now checks if the current table cell 
          is a check box. If it is, then to reduce verbosity, it only speaks
          and brailles it, if it's checked.

2006-01-30  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added entries for Evolution bugs 329269 and 329270.

2006-01-27  Willie Walker <william.walker@sun.com>

	* src/orca/bugs/bugs.html: Add gail infinite recursion bug 329230.

	* ChangeLog: fix 2006/2005 typos.  :-)
	
2006-01-27  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: prevent infinite loop if obj.parent == parent.
	(This case is an AT-SPI bug, but we need to watch for it).

	* bugs/bugs.html: update to reflect bug entry information provided
	to us by external development teams.

	* src/orca/atspi.py: more work resulting from incompatible
	event data structure change in AT-SPI 1.7.0.

	* src/orca/atspi.py, src/orca/focus_tracking_presenter.py: 
	change some ominous looking Traceback messages to what they
	really are: just information regarding normal behavior.
	
2006-01-26  Willie Walker <william.walker@sun.com>

	* QUICKSTART: update Ubuntu notes for how to get older/supported
	releases of AT-SPI infrastructure.
	
2006-01-26  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Changed bug #324002 to now be an entry for bug #318973.
          Updated the notes section for that bug.

        * bugs/bugs.html
          Summary for bug #326725 has changed.

2006-01-25  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html bugs/bug_326725.py
          Changed bug #328493 to now be an entry for bug #326725.
          Updated the notes section for that bug.

          Added in bug_326725.py to help track down this problem.

2006-01-25  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Updated the notes section for bug #328493

2006-01-24  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added a new bug #328493
          Broken component hierarchy in compose window message area.

2006-01-24  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: be a bit more vocal
	when importing a script with syntax errors

	* src/orca/atspi.py: handle both AT-SPI 1.7.0+ and pre-1.7.0
	event "any_data" handling.
	
2006-01-23  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Updated entry for bug #326649. Fix is in CVS HEAD.

2006-01-18  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/speechgenerator.py: fix for
	bug 327568 - treat check menu items similar to check boxes.

	* bugs/bug_322903.py, bugs/bug_322903.html, bugs/bugs.html,
	src/orca/scripts/Mozilla.py: test case for showing how text can
	get jumbled as user types in a text area.  The ultimate cause
	of this is that getTextAtOffset seems to position the caret at
	the starting offset that is passed into the call to getTextAtOffset.
	
2006-01-17  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/gaim.py: alternative logic to address bug 325917.
	I think the ultimate culprit may be the toolkit, but I think this 
	workaround should hopefully work in the presence and/or absence of
	the possible toolkit bug.

	* src/orca/orca.py, src/orca/default.py, src/orca/input_event.py:
	keep track of mouse button events as another means for watching
	caret moved events.

	* src/tools/bug_template.py: adjust for bad indentation caused by
	emacs somehow messing up the indentation parameters.

	* src/orca/settings.py: add another alias for Firefox ("Deer
	Park") to manage unreleased versions of Firefox.
	
2006-01-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the onFocus() method to handle the following for the
          mail message header list:

          If the current locus of focus is not a table cell, then we
          are entering the mail message header list (rather than moving
          around inside it), so speak the number of mail messages total.

2006-01-13  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/debug.py: Add Insert+Ctrl+F5 as
	a means to cycle the debug level.  I originally started making
	this a dialog box, but realized that interacting with it can 
	cause a flurry of AT-SPI events.  So...I dumbed this down to 
	a simple cycle (press Insert+Ctrl+F5 repeatedly to cycle through
	the possible debug level values).
	
2006-01-12  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Tightened up the code in case "3)" in the onFocus() method.
          It was possible that some of the table cells in the current
          row in the mail message header table were None. This is now 
          specifically tested for, and if found, that table cell is skipped.

2006-01-11  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in Evolution bug #326649.

2006-01-11  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the the onFocus() method to handle:
            Preferences Dialog: options list.

        If the focus is in one of the various options on the left side of 
        the Preferences dialog. then we just want to speak the name of the 
        page we are currently on.
        
        Even though it looks like the focus is on one of the page tabs
        in this dialog, it's possible that it's actually on a table cell,
        within a table which is contained within a scroll pane. We check
        for this my looking for a component hierarchy of "table cell",
        "table", "unknown" and "scroll pane".
        
        If this is the case, then we get the parent of the scroll pane
        and look to see if one of its other children is a "page tab list".
        If that's true, then we get the Nth child, when N is the index of
        the initial table cell minus 1. We double check that this is a
        "page tab", then if so, speak and braille that component.
        
        NOTE: assumes there is only one "page tab list" in the "filler"
        component.

        This change improves the situation dramatically, but sometime we 
        are still getting this component spoken twice.

2006-01-06  Willie Walker <william.walker@sun.com>

	* src/orca/scripts/Makefile.am: take care in installing on
	64-bit platforms
	
	* src/orca/gnomespeechfactory.py, src/orca/orca-setup.in:
	fix problem where speech will hang when using gnome speech
	and orca-setup.  The main cause was the introduction of
	callbacks, which will not work properly when bonobo main
	is not being used (which is the case with orca-setup).
	
2006-01-04  Willie Walker <william.walker@sun.com>

	* src/orca/flat_review.py: implement a mechanism to better handle
	the flat review of parents that manage a large number of descendants.
	This makes synaptic, for example, work a bit better with flat review.
	
2006-01-04  Willie Walker <william.walker@sun.com>

        * bugs/bugs.html, bugs/bug_325809.py: add bug for table column
	headers not being taken into account for getAccessibleAtPoint
	
2005-12-21  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in Evolution bug #324726.

2005-12-20  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the the onFocus() method to handle:
            Calendar view: day view: moving with arrow keys.
         
          If the focus is in the Calendar Day View, check to see if there
          are any appointments starting at the current time. If there are,
          then provide the user with useful feedback for that appointment,
          otherwise output the current time and state that there are no
          appointments.

2005-12-20  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added in a workaround for Evolution bug #324193.

2005-12-19  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Removed the "placeholder" code in the onFocus() method for the 
          following three scenerios:
            * Calendar view: day view: tabbing to day with no appts.
            * Calendar view: day view: moving with arrow keys.
            * Calendar view: month calendar
          The default utterances would appear to be sufficient.

          Added in some calls to debug.println for the remaining four 
          cases handled by the onFocus() method.

2005-12-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in code to the onFocus() method to better handle calendar 
          day view: tabbing to day with appts.

          If the focus is in the Calendar Day View on an appointment, then
          provide the user with userful feedback. First we get the current
          date and appointment summary from the parent. This is then followed
          by getting the information on the current appointment.

          The start time for the appointment is determined by detecting the
          equivalent child in the parent Calendar View's table has the same
          y position on the screen.

          The end time for the appointment is determined by using the height
          of the current appointment component divided by the height of a
          single child in the parent Calendar View's table

          Both of these time values depend upon the value of a time increment
          which is determined by the number of children in the parent Calendar
          View's table.

2005-12-16  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Fixed up the getTimeForCalRow() method to correctly handle all
          the possibly calendar day view appointment time increments that 
          are possible.

2005-12-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in a new  method:
          - getTimeForCalRow() which returns a string equivalent to the 
            time of the given row in the calendar day view. Each calendar 
            row is equivalent to 30 minutes, with time (row 0) starting 
            at 12 am (midnight).

          More work on calendar appointment day view. If you now Tab into
          the day view and there are appointments for that day, then it's
          possible to determine the start time of each appointment using
          getTimeForCalRow().

2005-12-15  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added an entry for Evolution bug #324193. Bug #324104 is not
          a bug.

2005-12-15  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: partial workaround for link selection
	bug in Firefox.  Only works if the caret offset is accurate,
	which it isn't (see the related Firefox bug at
	https://bugzilla.mozilla.org/show_bug.cgi?id=320395).

	* bugs/bugs.html, bugs/bug_{320383,320387,320388,320390,
	320393,320395}: Firefox bugs.
	
2005-12-14  Rich Burridge <rich.burridge@sun.com>

        * bugs/bugs.html
          Added entries for Evolution bugs #324002, #324005 and #324104.

2005-12-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in the definitions for two new custom roles:
          - CALENDAR_VIEW
          - CALENDAR_EVENT
          These get added to the rolenames list in the rolenames module.

          Added in code to the onFocus() method to detect the following
          cases:
          - Calendar view: day view: tabbing to day with no appts.
          - Calendar view: day view: tabbing to day with appts.
          - Calendar view: day view: moving with arrow keys.
          - Calendar view: month calendar

          Code for these cases needs to be completed. At the moment it 
          just prints out debug messages.

2005-12-14  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: use object.role instead of rolenames.getRoleName
	for debug output.  It was too confusing the other way.

	* src/orca/default.py: start taking hypertext into account when
	speaking characters and words.

	* src/orca/settings.py: try to make hyperlink voice stand out for now

	* src/orca/scripts/Mozilla.py: lots of evaluation of accessible 
	hyperlink support.  Many test cases to write and bugs to file against 
	Firefox :-(.
	
2005-12-14  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: with the exception of
	ImportErrors, print the stack trace for all errors encountered
	when importing a script at the SEVERE level.  This helps 
	to better identify syntax errors and bugs in custom scripts.

	* src/orca/scripts/Mozilla.py, src/orca/scripts/Makefile.am: 
	initial pass at getting us going with evaluating Firefox's
	AT-SPI implementation.  This does NOT provide any compelling
	access to Firefox at this point.

	* src/orca/default.py: permit presentation of caret moved
	events even on objects that are not the locus of focus.

	* src/orca/orca.py, src/orca/atspi.py: Rich's idea below 
	looked so good that I added two new debug features: one to
	print an indented ancestry of an object and one to print
	the descendants of an object.  I bound these to a debug
	keystroke in Orca: Insert+F7 prints the ancestry for the
	locusOfFocus and Ctrl+Insert+F7 prints the application
	hierarchy for the locus of focus, flagging the locus of
	focus with the string "(*)".
	
2005-12-13  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added it two new methods:
          - walkComponentHierarchy() - a debug routine to print out 
            the hierarchy of components for the given object.
          - isDesiredFocusedItem() - called to determine if the given 
            object and it's hierarchy of parent objects, each have the 
            desired roles.

          Adjusted the code in the onFocus() method to use the
          isDesiredFocusedItem() method.

2005-12-10  Willie Walker <william.walker@sun.com>

	* bugs/bugs.html: create simple (let's try to keep it simple) 
	table to help us keep track of bugs in our external dependencies
	
2005-12-09  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py

          Adjusted the handling of the message header list code in the 
          onFocus() method to only braille the role of the table cell 
          that currently has focus. This is achieved by adjusting the
          verbosity level of brailleRolenameStyle to VERBOSITY_LEVEL_BRIEF
          for the other table cells, restoring it to its original value
          at the end.

2005-12-09  Willie Walker <william.walker@sun.com>

	* bugs/bug_323633.py: standalone test case that demonstrates
	the issue where metacity sends accessible label information
	one window behind when using Alt+TAB to cycle between windows.
	Logged as bugzilla bug #323633.
	
2005-12-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/braille.py
          Added a new function displayRegions() that displays a list of 
          regions on a single line, setting focus to the specified region.

        * src/orca/keynames.py
          Added a mapping of "SunF36" to "F 11"

        * src/orca/scripts/Evolution.py
          Adjusted the onFocus() method to use braille.displayRegions() to
          generate a braille display of multiple regions when displaying a
          message header or one of the four standard mail message pane
          header lines (assuming the user wants to speak the complete row).

2005-12-08  Rich Burridge <rich.burridge@sun.com>
        * src/orca/{default.py, settings.py}
          Slight tweak to the last change. The initial state for whether
          to read just the current table cell or the whole row, is
          determined by a variable in settings.py that the user can override.

2005-12-08  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          Added the ability to toggle whether we should speak/braille just
          the current table cell or the whole row. This is currently
          toggled with Insert+F11

2005-12-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Adjusted the code in the onFocus() method to update the braille
          display as well as providing speech output.

2005-12-07  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added code to the onFocus() method to handle the following case:
            When the focus is in the From:, To:, Subject: or Date: headers
            of a message in the message area, then we should read the whole
            row.
         See the comments in the Evolution.py script for further details.

2005-12-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added code to the onFocus() method to handle the following case:
            When the focus is in the pane containing the lines of an
            actual mail message, then, for each of those lines, we
            don't want to speak "text", the role of the component that
            currently has focus.
         See the comments in the Evolution.py script for further details.

2005-12-05  Rich Burridge <rich.burridge@sun.com>

        * src/orca/speechgenerator.py
          Adjusted the getSpeechContext() method to ignore speaking about
          objects the have an unknown role. This was an annoyance in the 
          message pane window in Evolution.

2005-12-02  Willie Walker <william.walker@sun.com>

	* src/docs/doc-set/*: update architecture and script guides.

	* src/docs/pydoc/Makefile.am: update to include latest sources.

	* src/orca/orca.py: fix circular import for presentation managers
	to allow pydoc to work better.

	* src/orca/braille.py, src/orca/atspi.py: pydoc improvements.

	* src/orca/kbd.y: remove obsolete file

	* src/orca/mag.py: I believe I finally have the import worked
	out on this correctly, and the primary cause (I think) was
	due to gnome-mag not building/installing the ORBit modules.
	I also submitted a bug/patch against gnome-mag:
	http://bugzilla.gnome.org/show_bug.cgi?id=323032.
	
2005-12-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Slight adjustment to look for the message header list by role
          rather than name, to avoid localisation problems.

2005-12-01  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Better handling of reading the details of the current message
          header that has focus. See comments in the Evolution.py script 
          for further details.

2005-11-30  Willie Walker <william.walker@sun.com>

	* src/orca/atspi.py: Fix for bug 319673: Accessible.__init__ now
	checks to make sure it is not passed a Python Accessible. If it is,
	it issues a warning and just returns the Python Accessible.
	
2005-11-30  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: install orca convenience shell into 
	${bindir) instead of $(prefix)/bin

	* src/orca/speech.py: remove import of pdb

2005-11-30  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Evolution.py
          Added in the debug message from Will for the onFocus method.

2005-11-29  Willie Walker <william.walker@sun.com>

	* Release 0.2.0
	
2005-11-22  Willie Walker <william.walker@sun.com>

	* src/tools/bug_template.py: add "direct to AT-SPI via IDL only"
	standalone module to help provide a template for filing bugs.  One
	may start with this file to create reproducable test cases for 
	registering bugs against AT-SPI implementations.

	* src/orca/focus_tracking_presenter.py: resolve problem with event
	sources being GC'd while waiting on the idle thread.
	
2005-11-21  Willie Walker <william.walker@sun.com>

	* Nearly everything: replace core module and a11y.py with atspi.py.
	
2005-11-17  Rich Burridge <rich.burridge@sun.com>

        * src/orca/a11y.py
          Better debugging support in _get_app().

2005-11-16  Willie Walker <william.walker@sun.com>

	* src/orca/{default.py, input_event.py, keybindings.py, orca.py,
	script.py, speech.py}: refactor ability to handle custom keybinding
	maps from user-settings.py.
	
2005-11-16  Willie Walker <william.walker@sun.com>
	
	* src/orca/{default.py, gnomespeechfactory.py, orca-setup.in,
	orca.py, settings.py, speech.py}, src/orca/scripts/Gecko.py:
	migrate voice defaults to setting.py.
	NOTE: THIS REQUIRES YOU TO RERUN ORCA-SETUP.
	
	* src/orca/*.py: use string constants to get settings (I got
	bit by a mispelling when using raw strings).

	* configure.in, Makefile.am, docs/pydoc/Makefile.am: only build 
	pydoc if the "--enable-pydoc" option is used, and force this
	for distcheck.

	* po/POTFILES.in: make sure distcheck works
	
2005-11-15  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/Makefile.am src/orca/scripts/Evolution.py
          src/orca/settings.py
          Adding in a "stub" Evolution script that currently does nothing
          except interpose on the onFocus() method and always pass the 
          event onto the parent class. This script will be extended as needed.

2005-11-15  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y.py,braillegenerator.py,flat_review.py,
	focus_tracking_presenter.py,hierarchical_presenter.py,
	kbd.py,orca.py,speech.py,speechgenerator.py}: use "for i in range"
	idiom instead of the awkward "while" loops.
	
	* src/orca/{braille.py,debug.py,default.py,
	focus_tracking_presenter.py,hierarchical_presenter.py,kbd.py,
	mag.py,orca.py,settings.py}: remove unnecessary globals.

	* src/orca/*.py, src/orca/scripts/*.py: gross pychecker
	sweep to eliminate a number of potential bugs and ugliness.
	
	* src/orca/{Makefile.am,acss.py,dectalk.py,default.py,
	espeechfactory.py,gnomespeechfactory.py,orca-setup.in,
	orca.py,outloud.py,settings.py,speech.py,speechserver.py},
	src/orca/scripts/{Gecko.py,metacity.py}: new speech structure
	done in collaboration with T.V. Raman of Google who donated
	code under the LGPL license.  NOTE: THIS REQUIRES YOU TO
	RERUN ORCA-SETUP.

2005-11-14  Rich Burridge <rich.burridge@sun.com>

        * src/orca/Makefile.am src/orca/keynames.py
          src/orca/orca.py
          Before key event are spoken in the _keyEcho() routine, they are 
          checked against a key event dictionary to see if there are 
          localized  words to be spoken instead.

2005-11-11  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/focus_tracking_presenter.py,
	src/orca/scripts/*.py, docs/doc-set/script_guide.sgml: eliminate
	need for script factory paradigm.  
	
2005-11-09  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/a11y.py, src/orca/default.py,
	src/orca/focus_tracking_presenter.py, src/orca/orca-setup.in,
	src/orca/orca.py, src/orca/settings.py, src/orca/speech.py,
	src/orca/scripts/Gecko.py, src/orca/scripts/gaim.py,
	src/orca/scripts/gcalctool.py, src/orca/scripts/metacity.py: First
	pass at new speech system based on conversations with T.V. Raman.
	NOTE: THIS REQUIRES YOU TO RERUN ORCA-SETUP.  If you don't orca
	will fail on startup.

2005-11-09  Mike Pedersen <michael.pedersen@sun.com>

	* Added test directories
	
2005-11-07  Rich Burridge <rich.burridge@sun.com>

        * configure.in, docs/pydoc,
          docs/Makefile.am, docs/pydoc/Makefile.am
          Added in a new .../docs/pydoc directory where pydoc HTML
          documentation is generated for all the Orca Python files.

2005-11-05  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: really delete scripts when
	an application exits.  Fix for bug 319776.
	
2005-11-04  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y,default,focus_tracking_presenter,orca,script}.py:
	bubble COMM_FAILURES up to a higher level to allow for better
	tracking and debugging of these events.
	
2005-11-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/default.py
          (Per suggestion from Will) Moved the braille.addLine() call
          in the updateBraille() method, to prevent a "list index out of
          range" exception.

2005-11-03  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py:
          Added a onCaretMoved() method which simply calls the
          same method in its parent class. Now movement from one line in
          a text document to the next, just results in the new line
          being spoken once (compared with both the last line and the
          new line being spoken upto two times each). Need to investigate
          further why this happens.

        * src/orca/braillegenerator.py
          Added a check in getBrailleRegions(). Sometimes, for some 
          unknown reason, the child is None. We now test for this, 
          rather than cause a traceback.

        * src/orca/a11y.py:
          Fix from Will. Adjustments to the makeAccessible() method to
          better handle invalid objects in the local cache. This routine 
          no longer throws an InvalidObjectError exception.

2005-11-03  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py, src/orca/orca.py, src/orca/debug.py,
	src/orca/focus_tracking_presenter.py: toString work on 
	an accessible (note there is still plenty of opportunity
	for object-oriented programming in a11y.py).
	
2005-11-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/scripts/StarOffice.py: added a call to:

          self.keybindings = keybindings.KeyBindings()

          in the __init__ method, to prevent Orca going into flat 
          review mode when you typed in something like "t".

2005-11-02  Rich Burridge <rich.burridge@sun.com>

        * src/orca/focus_tracking_presenter.py: added a debug message
          to one of the except: clauses in processObjectEvent().

        * src/orca/a11.y: adjusted some of the debug messages in the 
          __get_app routine to check whether obj.name and 
          obj.parent.name are None, in which case "None" is printed;
          otherwise "'<name>'".

2005-10-31  Rich Burridge <rich.burridge@sun.com>

	* Initial version of StarOffice.py script. Support for
          "object:state-changed:armed" events.

2005-10-31  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py: add ability to send debug output to a
	file (via debug.setDebugFile).  This should allow us to pass
	in a non-buffered file from user-settings.py, hopefully 
	allowing us to better track where orca is hanging.

	* src/orca/*.py, src/orca/scripts/*.py: make the voicename
        for speaking be an optional parameter with a default value
        of "default".

	* src/orca/a11y.py, src/orca/focus_tracking_presenter.py,
	src/orca/settings.py: fix for bug 32063 - provide a more
	flexible, general-purpose, and user-settable script discovery
	mechanism.
	
2005-10-30  Willie Walker <william.walker@sun.com>

	* QUICKSTART: add libgail-gnome to Ubuntu section as well as
	more apt-get stuff needed to build libgail-gnome.

	* src/orca/orca.py: fail a bit more gracefully if braille,
	speech, or mag are not available at run time.
	
2005-10-28  Rich Burridge <rich.burridge@sun.com>

        * src/orca/focus_tracking_presenter.py
          Added in a "debug.printException(debug.LEVEL_FINEST)" in
          _createScript() in the exception cluse when trying to load
          custom scripts (very useful during debugging).

2005-10-28  Rich Burridge <rich.burridge@sun.com>

	* src/orca/flat_review.py: adjusted three debug statements to
          pass two parameters, not three.

2005-10-28  Willie Walker <william.walker@sun.com>

	* src/orca/orca.in, src/orca/orca.py: move all logic out of
	orca.in and move it into a new orca.py:main to help with 
	debugging.

	* src/orca/*.py: do not silently pass on any exceptions - at
	least print an exception at debug.LEVEL_FINEST.  Also attempt
	to provide some debug output inside while loops that could
	potentially never exit.
	
2005-10-27  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: take care in packaging on 64-bit
	platforms

	* src/orca/kbd.py: fix problem with not registering enough
	handlers to cover all possible modifier mask combinations;
	refactor a little bit to help enable testing with XEVIE.
	
2005-10-26  Rich Burridge <rich.burridge@sun.com>

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py,
	various calls to _getBrailleTextForAvailability and
        _getSpeechForAvailability for radio, check and ordinary menuitems.

2005-10-25  Willie Walker <william.walker@sun.com>

	* TODO: Moved all TODOs to bugzilla.gnome.org as bugs and RFEs
	for the Orca component.  Also went through all the source code
	and logged all TODOs in there as bugs and RFEs, placing references
	to the bugzilla bug numbers in the source code.
	
2005-10-22  Willie Walker <william.walker@sun.com>

	* QUICKSTART: create and update.

	* src/brl/brlmodule.c: throw exceptions instead of printing errors
	when attempting to initialize/connect to BrlTTY.

	* src/orca/braille.py: set default braille display size to 32
	(this is for testing purposes and the default matches the actual
	display size of our primary tester)

	* src/orca/orca-setup.in: only enable accessibility if it has not
	already been enabled, thus avoiding a confusing message
	
2005-10-20  Willie Walker <william.walker@sun.com>

	* src/orca/focus_tracking_presenter.py: add ability to provide
	a mapping between application name and script module name

        * src/orca/scripts/*: refactor scripts into their own package
	
2005-10-19  Willie Walker <william.walker@sun.com>

	* src/orca/script.py, src/orca/input_event.py,
	docs/doc-set/script_guide.sgml: begin working on script 
	writing guide.
	
2005-10-12  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: do not lose last text sent when performing
	a reset after detecting a speech driver failure.
	
2005-10-11  Pawan Chitrakar  <pchitrakar@gmail.com>

	* configure.in: Added ne in ALL_LINGUAS

2005-10-07  Willie Walker <william.walker@sun.com>

	* src/orca/flat_review.py: eliminate a major source of hangs
	for flat review: getTextAtOffset is typically implemented 
	incorrectly across (and possibly within) toolkits.
       
	* src/orca/gaim.py: improved braille and speech experience (at
	least for AIM)

2005-10-06  Willie Walker <william.walker@sun.com>
        
        * src/orca/flat_review.py: handle text objects that have
        children by ignoring the children
       
	* src/orca/gaim.py: hacking to get chat working again
        (at least for AIM)

2005-10-05  Willie Walker <william.walker@sun.com>
        
        * src/orca/default.py: add support for no focus.

2005-09-27  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py, src/orca/flat_review.py,
	src/orca/braillegenerator.py: more work on keeping the spatial 
	layout of braille relatively consistent.
	
2005-09-16  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py, src/orca/flat_review.py:
	hopefully a little better at flat review navigation using the 
	buttons on the braille display
       
	* src/orca/braille.py: provide additional methods to find our way
	around and also provide more control over panning around.

	* src/orca/flat_review.py: provide ability to explicitly set the
	character of interest as well as ability to pass a character offset
	to a zone and find the word associated with it.
	
2005-09-15  Willie Walker <william.walker@sun.com>

	* src/orca/speechgenerator.py, src/orca/braillegenerator.py: used
	rolenames constants instead of hard coded strings.

	* src/orca/default.py: use "above" and "below" semantics instead
	of "previous line" and "next line" for BrlTTY LNUP and LNDN.

	* src/orca/flat_review.py: in flat review mode, automatically pan
	to begin/end of previous/next lines when panning in braille.
	
2005-09-13  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: don't speak flat review info if the user
	navigated via input from the braille display.

	* src/orca/braille.py: strip trailing "\n" from lines for flat
	review mode.

	* src/orca/flat_review.py: do not add zero-sized zones to flat 
	review context.
	
2005-09-12  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/default.py, src/orca/flat_review.py: 
	more work on flat review - rudimentary braille input and output
	working.
	
2005-09-01  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/default.py, src/orca/flat_review.py: 
	fair amount of work to get rudimentary flat review mode working
	(with speech only at this point).
	
2005-08-29  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: Add cancel button to record keystrokes dialog.

	* src/orca/orca-setup.in: fix typo in orcadir name (it was gorcadir).

	* src/tools/sanity_checker.py: tool to do a rough sanity check on
	keystroke files recorded by Orca or record_keystrokes.py
	
2005-08-26  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/default.py: better scrolling
	of braille display when the caret moves (e.g., by pressing a
	touch cursor or doing some keyboard navigation action).

	* src/orca/default.py: implement simple line clustering 
	algorithm inspired by a number of seminal OCR publications.

	* src/orca/braille.py: implement suggestion from Dave Mielke
	to handle spurious keyboard repeats from various display
	drivers (e.g., the Alva).
	
2005-08-25  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/a11y.py, src/orca/default.py: begin
	implementing spatial analysis techniques.	

	* src/orca/a11y.py: clear the cache properly when the parent
	changes.
	
2005-08-24  Willie Walker <william.walker@sun.com>

        * Many files: add keybindings support to workaround the fact that
	AT-SPI doesn't give us keysyms.  As a result, keypad keys look
	like other keys on the keyboard (e.g., the left arrow on the
	keypad looks similar to the left arrow on the keyboard).  The only
	way to distinguish these things right now is by keycode.
	But...different systems emit different keycodes, so we need to
	resolve keycodes at runtime.  Also took this opportunity to fix
	the problem where key releases of Orca keys were always being
	passed on to applications rather than being consumed.  Note that
	all these changes introduce a new dependency on glib and also
	require the DISPLAY environment variable to be set.

2005-08-23  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py, src/orca/focus_tracking_presenter.py: add
	ability to record keystrokes to a file - press the "Pause" key
	to start/stop recording.

	* src/orca/braille.py, src/orca/speech.py: change LEVEL_INFO
	output to be more test friendly.
	
2005-08-16  Mike Pedersen <michael.pedersen@sun.com>

	* src/orca/rolenames.py: reduced verbosity for page tabs and page
	tab lists

2005-08-16  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py: reduce verbosity for page tabs.

	* src/orca/a11y.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: include accessible image description
	for icons if it exists.

	* src/orca/eventsynthesizer.py, src/orca/Makefile.am: create to
	allow mouse and keyboard events to be synthesized by Orca

	* src/orca/braille.py: use eventsynthesizer to generate mb1 clicks
	for those objects that don't have actions (e.g., page tabs).	

	* src/orca/a11y.py: do not cache extents because they can get out
	of date if the object is moved and we currently do not have a way
	to determine if this has happened.
	
2005-08-16  Willie Walker <william.walker@sun.com>

	* src/orca/braille.py, src/orca/braillegenerator.py: show 
	text lines with their labels.

	* src/orca/rolenames.py: minor consistency tweaking on rolenames.
	
2005-08-11  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: hack to better support the very poor
	application behavior exhibited by Evolution's account setup
	wizard: it will end up in situations where the active dialog
	doesn't have any components with focus.

	* src/orca/orca.py, src/orca/default.py, src/orca/a11y.py,
	src/orca/speechgenerator.py: first pass at automatically speaking
	panels when they are realized on the screen.
	
2005-08-10  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py, src/orca/speechgenerator.py:
	remove extraneous "region" field from constructor.

	* src/orca/default.py: add factory methods to get braille and
	speech generator objects so as to allow subclasses to more
	easily override the generators.	

	* src/orca/focus_tracking_presenter.py: ignore the
	"object:state-changed:iconified" event for now to help avoid
	tickling a nasty bug with gedit.  Tickling gedit when it is
	starting can cause gedit to issue the following message:
	(gedit:31434): GLib-GObject-WARNING **: invalid cast from
	`SpiAccessible' to `BonoboControlAccessible'.  It seems as though
	whenever this message is issued, gedit will hang when you try to
	exit it.	

	* src/orca/gedit.py, src/orca/Makefile.am: new script to override
	the _getSpeechForFrame method so as to avoid tickling the same bug
	described above.

	* src/orca/a11y.py: add ability to turn local caching of object
	values on or off via the a11y.CACHE_VALUES field.  The default
	value is True, which means to do caching.	

	* src/orca/a11y.py, src/orca/orca.py: start keeping better
	tracking of CORBA COMM FAILURES; throw a11y.InvalidObjectError
	exceptions and set the "valid" field of the Accessible to False
	when these errors are detected.
	
2005-08-08  Maxim Dziumanenko <mvd@mylinux.ua>

        * configure.in: Added "uk" to ALL_LINGUAS.

2005-08-04  Willie Walker <william.walker@sun.com>

	* src/orca/braillegenerator.py: work on verbosity

	* src/orca/speechgenerator.py, src/orca/speech.py,
	src/orca/default.py: work on verbosity.  Move speechgenerator to 
	a list of utterances rather than a single string containing
	multiple sentences; this avoids spurious punctuation being sent
	to the synthesis engine.

2005-08-02  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: uncache label on name or description change

	* src/orca/a11y.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: add ability to speak tree node level

	* src/orca/braille.py: add return to home functionality for when
	the user presses CMD_HOME.

	* src/orca/default.py, src/orca/speechgenerator.py,
	src/orca/braillegenerator.py: do some work on speech and braille
	for tables.

2005-08-01  Willie Walker <william.walker@sun.com>

	* src/orca/speechgenerator.py: try not to speak fillers.

	* src/orca/default.py: handle issue where parents that manage 
	descendants will potentially give a unique accessible instance
	for the same child each time getChildAtIndex is called.

	* src/orca/default.py: use selection changed events on specific
	roles to update the locus of focus.

	* src/orca/speechgenerator.py: remove the speaking of unavailable
	if the object is an icon.  

	* src/orca/speechgenerator.py._getSpeechForAlert: when presenting
	a dialog, do not grab "free" labels that are children of a push
	button.

	* src/orca/a11y.py.__get_label: obtain the names of push buttons
	a little better; push buttons can have labels as children and
	can also be labelled by something.

	* src/orca/default.py.onNameChanged: ignore name changes
	on dialogs that have focus for now; the motivator for this is that
	gnome-terminal appears to issue name change events on the
	"Edit" -> "Current Profile..."  dialog even though the name didn't
	change.
	
2005-07-30  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py: add recovery from failure to register speech
	callback with FreeTTS driver on Fedora (it works fine on
	JDS/Suse).  Not quite sure what is going on here, but something
	deep in the bowels of CORBA is croaking.
	
2005-07-29  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: better handling of menu and focus events
	for setting the locusOfFocus.
	
	* src/orca/speech.py, src/orca/orca.py: add speech rate
	increase/decrease functionality (still needs work to make
	sure it doesn't go out of parameter bounds).

	* src/orca/braillegenerator.py: style guide work for menus.
	
2005-07-26  Willie Walker <william.walker@sun.com>

	* a11y.py, braille.py, debug.py, default.py,
	focus_tracking_presenter.py, hierarchical_presenter.py, metacity.py,
	orca.py, script.py, speechgenerator.py: begin developing the
	notion of locus of focus and visual appearance change.

2005-07-22  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: add ability to treat the insert key as a
	modifier.  Use insert+F1 to enter learn mode.

	* src/orca/speech.py, src/orca/default.py,
	src/orca/speechgenerator.py: fix some speech generator issues with
	toggle buttons as well as verbosity (accidentally told the
	generators to speak too little).

2005-07-21  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/orca.py, src/orca/default.py,
	src/orca/rolenames.py, src/orca/braillegenerator.py,
	src/orca/speechgenerator.py, src/orca/settings.py: add speech and
	braille generator concepts; also do a very rough (and poor) pass
	at trying to implement the output style guidelines.

	* src/orca/orca.py, src/orca/orca.in: move signal handling to
	orca.in.
	
2005-06-30  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am, src/orca/default.py,
	src/orca/focus_tracking_presenter.py,
	src/orca/hierarchical_presenter.py, src/orca/input_event.py,
	src/orca/orca.py, src/orca/script.py, src/orca/settings.py: add
	learn mode.
	
2005-06-27  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: Register a signal handler for ctrl-C.
	
2005-06-24  Willie Walker <william.walker@sun.com>

	* src/orca/default.py, src/orca/orca.py, src/orca/settings.py,
	src/orca/script.py: rough pass at allowing user defined
	keybindings to override key bindings in scripts.

	* TODO: update to include issues with autogen.
	
2005-06-23  Willie Walker <william.walker@sun.com>

	* src/orca/*: bite the bullet and make scripts full-fledged
	classes.  This allow scripts to better maintain state across
	activations of the same window, and to allow for more unique
	scripts when running the same application more than once.
	
2005-06-22  Willie Walker <william.walker@sun.com>

	* src/orca/*: put Orca in its own "orca" package to avoid
	cluttering the default python namespace.
	
2005-06-21  Willie Walker <william.walker@sun.com>

	* src/orca/*.py: incorporate prototype Braille support.
	
2005-06-17  Willie Walker <william.walker@sun.com>

	* src/brl/brlmodule.c,src/orca/*.py: prepare to move Braille
	region logic into Python.  The brlmodule.c will then serve
	as an interface to BrlTTY.
	
2005-06-15  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py,src/orca/default.py,src/orca/orca/py: begin
	bringing Braille input back to life.

	* src/orca/*.py: try to follow the public/private naming
	convention (i.e., use "_" prefix for private fields) more.

	* src/orca/script.py: renamed "mod"-related fields to "custom"
	because I kept getting confused.

	* src/orca/focus_tracking_presenter.py,src/orca/orca.py,
	src/orca/script.py,src/orca/gaim.py: only reload a script
	when a window is activated (the current implementation was
	reloading a script for every event received).
	
2005-06-14  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: don't set object's parent attribute if it has
	not been defined yet; instead just return None from __getattr__.

	* src/orca/focus_tracking_presenter.py: get rid of 
	"ERROR: app not found" message.

	* src/orca/debug.py: reformatting of event output.

	* src/orca/orca.py,hierarchical_presenter.py: add simple code to
	draw outlines around an accessible.  This has the impact of now
	requiring the DISPLAY to be set before running Orca.
	
2005-06-13  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py: make processKeyEvent a little (maybe not a
	lot) smarter about handling control characters.
	
2005-06-10  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py,debug.py: add the ability to filter event
	output based on a regular expression.  This is for debug purposes
	only.  The next step is to enable a keystroke in Orca to allow
	the filter to be set/reset to allow for specific event tracking.

	* src/orca/*.py: add notion of a "presentation manager" to allow
	for presentation managers such as "focus tracking", "flat review"
	and "hierarchical".  Split the current presentation code out from
	orca.py into focus_tracking_presenter.py.  Also created new (and
	very experimental) hierarchical_presenter.py to allow for some
	detailed exploration of the at-spi component hierarchy.	
	
2005-04-24  Willie Walker <william.walker@sun.com>

	* src/orca/*.py: anal-retentive refactoring and surface level
	formatting of code.

2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: attempt at comboBoxPresenter.

2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/default.py: fix bug in the way state_change_notifiers
	were handled (list with one item was being exploded into
	individual characters, which is not what we want), improve page
	tab presenter, update text presenter.

	* src/orca/gnome-terminal.py: remove the text event handlers
	because they were identical to default.py.
	
2005-04-19  Willie Walker <william.walker@sun.com>

	* src/orca/debug.py: allow debugLevel to be set/used on the fly
	rather than the somewhat static way it was being done.  The
	way to use it now is to "import debug" in settings.py (or anywhere
	else) and then do "debug.setDebugLevel(debug.LEVEL_CONFIGURATION)"
	somewhere else.

	* src/orca/speech.py: more gracefully recover from failures
	if/when the speech service dies.  Right now, on any failure, the
	speech module will reset and reconnect to the speech server 
	rather than just groaning about a COMM_FAILURE.
	
2005-04-15  Willie Walker <william.walker@sun.com>

	* src/orca/a11y.py: add an attempt at getting the group

	* src/orca/rolenames.py: sync up with ATK rolenames

	* src/orca/speech.py: capture CORBA failures for now

	* src/orca/default.py: passes at defaultPresenter,
	pushButtonPresenter, toggleButtonPresenter, radioButtonPresenter,
	menuBarPresenter, menuPresenter, and sliderPresenter.

	* docs/programmers-guide/programmers-guide.{sgml,pdf}: some 
	level of introduction to style.  Still much work to do when it
	comes to notions of levels of verbosity and speaker style.
	
2005-04-08  Willie Walker <william.walker@sun.com>

	* src/orca/{a11y.py, debug.py, default.py, kbd.py, metacity,py,
	orca.py, rolenames.py, speech.py}: finer grained control over
	debugging.  Debugging is now set by a numerical value rather than
	a boolean.  See debug.py for the different levels.  To turn
	debugging on, set "debugLevel = 500" (or some appropriate number)
	in settings.py.  For backwards compatibility, "debug = True" in
	this file will default to debug.LEVEL_FINER.

2005-04-05  Willie Walker <william.walker@sun.com>

	* src/orca/Makefile.am: add debug.py to orca_python_PYTHON

2005-04-01  Steve Murphy  <murf@e-tools.com>

        * configure.in: Added "rw" to ALL_LINGUAS.

2005-04-01  Willie Walker <william.walker@sun.com>

	* default-keybindings.ppy, default.py, speech.py: add sayAgain
	support to repeat last utterance spoken

	* default.py: more work to be in line with gnopernicus

	* rolenames.py: import text for speech and Braille from gnopernicus

	* speech.py: interrupt speech when given something new to say

	* mag.py: a little better (but far from perfect) way to move ROI
	to match object with focus; also add support for tracking mouse events
	
2005-03-31  Willie Walker <william.walker@sun.com>

	* gnome-terminal.py:  call default.brlUpdateText

	* a11y.py: add capability to get component extents from 
	an accessible

	* orca.py, default.py: add beginnings of magnification support

	* mag.py: early magnification support
	
2005-03-25  Willie Walker <william.walker@sun.com>

	* Upgrade to brltty-3.6.1 (TODO: perhaps add backwards
	compatibility in if people complain.).

	* Add *.pyc (compiled *.py files) to src/orca/.cvsignore.

	* Use try/except blocks more sparingly to allow for easier
	debugging.  Also add more debugging features to debug.py.
	A quite note on debugging: add "debug = True" to 
	~/.orca/settings.py to turn debugging on.

	* Fix presentation of radio and checkbox menu items.

	* Make menus speak like Gnopernicus for now.

	* Backout a11y.py workaround for Nautilus shortcomings; it turns
	out this workaround was hurting the overall logic.
	
2005-02-15  Willie Walker <william.walker@sun.com>

	* Remove src/orca/dispatcher.py as it was obsoleted by the
	dispatcher table in a11y.py.

2005-02-15  Willie Walker <william.walker@sun.com>

	* Nearly every source file: added much documentation and many
	TODO comments.

2005-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/orca.py (init): remove call to core.init() as this
	is done in a11y.init().  The dual call was causing orca to crash.

2005-02-10  Willie Walker <william.walker@sun.com>

	* src/orca/speech.py (init): add extra parameters to call to
	bonobo.activation.activate_from_id as a result of change to
	gnome-python on 2004-12-13.

2005-02-03  Alessio Frusciante  <algol@firenze.linux.it>

	* configure.in: Added "it" (Italian) to ALL_LINGUAS.

2004-01-17	Amanpreet Singh Alam <amanpreetalam@yahoo.com>

	* configure.in: "pa" is Added to ALL_LINGUAS

2004-10-16  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2004-09-09  Ankit Patel <ankit@redhat.com>

	* configure.in: Added 'gu' (Gujarati) to ALL_LINGUAS.

2004-08-27  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/orca.py (init): Display an error message and exit if
	the registry can't be activated (i.E. the Orca core can't be
	initialized)

	* src/core/coremodule.c (core_module_init): Fix return values on
	exception.

2004-08-21  Francisco Javier F. Serrador  <serrador@cvs.gnome.org>

	* configure.in: Added "es" (Spanish) translation.

2004-07-14  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/a11y.py (Accessible.__del__): The unref might throw a
	CORBA_COMM_FAILURE if the object has died.

2004-07-02  Hendrik Brandt  <hebra@cvs.gnome.org>

	* configure.in: Added "de" (German) to ALL_LINGUAS.

2004-06-30    <marc.mulcahy@sun.com>

	* src/orca/a11y.py (Accessible.__get_relations): New
	implementation which makes sure relations are narrowed to make
	sure things work right with Java.
	(Accessible.__get_app): Get app also fails if the thing it finds
	is not an application.
	(onWindowActivated): Make sure focussedAp is narrowed so it works
	right with Java.
	(onFocus): Since we're tracking the active application, objects
	which get focus get their app attribute set to the active
	application-- this hack is needed for Nautilus.
	(getLabel): Ensure the target that we get from a relation is an
	accessible wrapper.

	* src/orca/Gecko.py (presentNextHypertext): Fixed to use new
	accessible wrapper.
	(onFocus): Fixed to use new accessible wrapper.

	* src/orca/orca.in: Don't speak "Welcome to Orca" here-- now
	spoken in orca.py in start.

2004-06-28  Christophe Merlet  <redfox@redfoxcenter.org>

	* configure.in: Added "fr" (French) to ALL_LINGUAS.

2004-06-25    <marc.mulcahy@sun.com>

	* NEWS: UPdated.

	* configure.in: UPdated version to 0.1.0.

	* src/orca/gaim.py: Updated to new accessible wrappers and script
	model.

	* src/orca/Makefile.am (orca_python_PYTHON): Added gnome-terminal
	and metacity scripts.

	* src/orca/script.py: Changed the way scripts work.  All scripts
	are loaded at once -- script activation was changed to include
	activating keybinding sets and brlKey handlers.

	* src/orca/rolenames.py (getRoleName): Use new accessible wrapper.

	* src/orca/orca.py (init): Register event listeners for tracking
	window activation/deactivation for activating/deactivating
	scripts.
	(processEvent): Changed event processing to filter all at-spi
	events through one function which decides which script should
	receive each event.

	* src/orca/default.py: UPdated to use new accessible wrappers.

	* src/orca/a11y.py: Added an accessible wrapper in python. MOved
	all the listeners which update the object caches to a11y.py.

	* src/core/eventlistener.c: Don't include pyaccessible.h.

	* src/core/pyevent.c: The pyevent no longer includes a
	pyaccessible as the source -- it includes a pycorba_object.
	(pyevent_dealloc): Free the any_data.
	(pyevent_get_source): The source is now a pycora_object rather
	than a pyaccessible.

	* src/core/coremodule.c: Removed pyaccessible stuff including all
	the event handlers which refresh the cache.

	* Removed src/core/pyaccessible.c and src/core/pyaccessible.h --
	the accessible wrappers are now written in Python in
	src/orca/a11y.py.

2004-06-10  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/Makefile.am (orca_python_PYTHON): Add a default
	settings file.

	* src/orca/speech.py (init): If the settings file does not specify
	any voices, as is the case for the default settings file, then
	select the first voice of the first driver as the default.

	* src/brl/brlmodule.c (brl_module_init): Return false rather than
	returning NULL when the brlapi library can't be found, or any
	functions within brlapi can't be found.

	* configure.in: Don't use PYTHON_PKGDIR.
	Change version number to 0.0.13.
	Generate spec file.

	* Makefile.am (EXTRA_DIST): Added spec file to the distribution.

	* NEWS: Updated.

	* orca.spec.in: Checked spec file into cvs.

	* src/orca/orca.in: Remove path fiddling which is broken when
	packaging Orca anyway.

	* src/orca/orca-setup.in: Remove path fiddling which is broken
	when packaging Orca anyway.

	* src/orca/Makefile.am (orca_path_DATA): Added orca.pth to solve
	packaging issues.

	* src/orca/Makefile.am (orca_python_PYTHON): Install orca_i18n.py
	in the right place.

2004-06-10  Gustavo Noronha Silva  <kov@debian.org>

	* configure.in: added pt_BR to ALL_LINGUAS

2004-06-08  Marc Mulcahy  <marc.mulcahy@sun.com>

	* src/orca/default.py (onWindowActivated): Lookup presenters by
	role name not role.

2004-06-02  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-05-31  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2004-05-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-05-27  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-05-26  Marc Mulcahy  <marc.mulcahy@sun.com>

	* Added .cvsignore files.

2004-05-24  Marc Mulcahy  <marc.mulcahy@sun.com>

	* README: Added section about orca-setup.

2004-05-21  Marc Mulcahy  <marc.mulcahy@sun.com>

	* Initial cvs import.
	
