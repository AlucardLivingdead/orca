<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Coverage Report - orca.flat_review</title>
  <link title="Style" type="text/css" rel="stylesheet" href="trace2html.css"/>
  <script type="text/javascript" src="sortabletable.js"></script>
</head>

<body>
<h1>Coverage Report - orca.flat_review</h1>

<table id="summary" class="summary">
<thead>
  <tr><td>Module</td><td>Coverage %</td></tr>
</thead>
<tbody>
<tr class=even>
  <td class="moduleName">
    <a href="orca.flat_review.html">orca.flat_review</a></td>
  <td class="percent">
    <div class="coveragePercent">
      60%
    </div>
    <div class="coverageBar">
      <div class="inCoverageBar" style="width: 60%">
      </div>
    </div>
  </td>
</tr>

</tbody>
</table>
<script type="text/javascript">
var packageTable = new SortableTable(document.getElementById("summary"),
    ["String", "Percentage"]);
packageTable.sort(0);
</script>


<table class="srcCode">
<tbody>
<tr class="">
  <td class="nbLine">1</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Orca</pre></td>
</tr>
<tr class="">
  <td class="nbLine">2</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">3</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Copyright 2005-2006 Sun Microsystems Inc.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">4</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">5</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is free software; you can redistribute it and/or</pre></td>
</tr>
<tr class="">
  <td class="nbLine">6</td>
  <td class="nbHits"></td>
  <td class="src"><pre># modify it under the terms of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">7</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License as published by the Free Software Foundation; either</pre></td>
</tr>
<tr class="">
  <td class="nbLine">8</td>
  <td class="nbHits"></td>
  <td class="src"><pre># version 2 of the License, or (at your option) any later version.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">9</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">10</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is distributed in the hope that it will be useful,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">11</td>
  <td class="nbHits"></td>
  <td class="src"><pre># but WITHOUT ANY WARRANTY; without even the implied warranty of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">12</td>
  <td class="nbHits"></td>
  <td class="src"><pre># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</pre></td>
</tr>
<tr class="">
  <td class="nbLine">13</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Library General Public License for more details.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">14</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">15</td>
  <td class="nbHits"></td>
  <td class="src"><pre># You should have received a copy of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">16</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License along with this library; if not, write to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">17</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Free Software Foundation, Inc., 59 Temple Place - Suite 330,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">18</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Boston, MA 02111-1307, USA.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">19</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">20</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>"""Provides the default implementation for flat review for Orca."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">21</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">22</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__id__        = "$Id: flat_review.py 2126 2007-03-06 21:35:17Z richb $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">23</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__version__   = "$Revision: 2126 $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">24</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__date__      = "$Date: 2007-03-06 13:35:17 -0800 (Tue, 06 Mar 2007) $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">25</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__copyright__ = "Copyright (c) 2005-2006 Sun Microsystems Inc."</pre></td>
</tr>
<tr class="">
  <td class="nbLine">26</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__license__   = "LGPL"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">27</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">28</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import re</pre></td>
</tr>
<tr class="">
  <td class="nbLine">29</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import sys</pre></td>
</tr>
<tr class="">
  <td class="nbLine">30</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">31</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import atspi</pre></td>
</tr>
<tr class="">
  <td class="nbLine">32</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import braille</pre></td>
</tr>
<tr class="">
  <td class="nbLine">33</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import debug</pre></td>
</tr>
<tr class="">
  <td class="nbLine">34</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import eventsynthesizer</pre></td>
</tr>
<tr class="">
  <td class="nbLine">35</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import orca_state</pre></td>
</tr>
<tr class="">
  <td class="nbLine">36</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import rolenames</pre></td>
</tr>
<tr class="">
  <td class="nbLine">37</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">38</td>
  <td class="nbHits"></td>
  <td class="src"><pre># [[[WDW - HACK Regular expression to split strings on whitespace</pre></td>
</tr>
<tr class="">
  <td class="nbLine">39</td>
  <td class="nbHits"></td>
  <td class="src"><pre># boundaries, which is what we'll use for word dividers instead of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">40</td>
  <td class="nbHits"></td>
  <td class="src"><pre># living at the whim of whomever decided to implement the AT-SPI</pre></td>
</tr>
<tr class="">
  <td class="nbLine">41</td>
  <td class="nbHits"></td>
  <td class="src"><pre># interfaces for their toolkit or app.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">42</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">43</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>whitespace_re = re.compile(r'(\s+)', re.DOTALL | re.IGNORECASE | re.M)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">44</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">45</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class Char:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">46</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Represents a single char of an Accessibility_Text object."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">47</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">48</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">49</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 word,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">50</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 index,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">51</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">52</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 x, y, width, height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">53</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Creates a new char.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">54</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">55</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">56</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - word: the Word instance this belongs to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">57</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - index: the index of this char in the word</pre></td>
</tr>
<tr class="">
  <td class="nbLine">58</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - string: the actual char</pre></td>
</tr>
<tr class="">
  <td class="nbLine">59</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - x, y, width, height: the extents of this Char on the screen</pre></td>
</tr>
<tr class="">
  <td class="nbLine">60</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">61</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">62</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.word = word</pre></td>
</tr>
<tr class="">
  <td class="nbLine">63</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.string = string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">64</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.index = index</pre></td>
</tr>
<tr class="">
  <td class="nbLine">65</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.x = x</pre></td>
</tr>
<tr class="">
  <td class="nbLine">66</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.y = y</pre></td>
</tr>
<tr class="">
  <td class="nbLine">67</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.width = width</pre></td>
</tr>
<tr class="">
  <td class="nbLine">68</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>        self.height = height</pre></td>
</tr>
<tr class="">
  <td class="nbLine">69</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">70</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class Word:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">71</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Represents a single word of an Accessibility_Text object, or</pre></td>
</tr>
<tr class="">
  <td class="nbLine">72</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    the entire name of an Image or Component if the associated object</pre></td>
</tr>
<tr class="">
  <td class="nbLine">73</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    does not implement the Accessibility_Text interface.  As a rule of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">74</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    thumb, all words derived from an Accessibility_Text interface will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">75</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    start with the word and will end with all chars up to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">76</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    beginning of the next word.  That is, whitespace and punctuation</pre></td>
</tr>
<tr class="">
  <td class="nbLine">77</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    will usually be tacked on to the end of words."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">78</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">79</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">80</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 zone,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">81</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 index,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">82</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 startOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">83</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">84</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 x, y, width, height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">85</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Creates a new Word.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">86</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">87</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">88</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - zone: the Zone instance this belongs to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">89</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - index: the index of this word in the Zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">90</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - string: the actual string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">91</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - x, y, width, height: the extents of this Char on the screen"""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">92</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">93</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.zone = zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">94</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.index = index</pre></td>
</tr>
<tr class="">
  <td class="nbLine">95</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.startOffset = startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">96</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.string = string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">97</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.length = len(string.decode("UTF-8"))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">98</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.x = x</pre></td>
</tr>
<tr class="">
  <td class="nbLine">99</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.y = y</pre></td>
</tr>
<tr class="">
  <td class="nbLine">100</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.width = width</pre></td>
</tr>
<tr class="">
  <td class="nbLine">101</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>        self.height = height</pre></td>
</tr>
<tr class="">
  <td class="nbLine">102</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">103</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __getattr__(self, attr):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">104</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Used for lazily determining the chars of a word.  We do</pre></td>
</tr>
<tr class="">
  <td class="nbLine">105</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        this to reduce the total number of round trip calls to the app,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">106</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        and to also spread the round trip calls out over the lifetime</pre></td>
</tr>
<tr class="">
  <td class="nbLine">107</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        of a flat review context.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">108</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">109</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">110</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - attr: a string indicating the attribute name to retrieve</pre></td>
</tr>
<tr class="">
  <td class="nbLine">111</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">112</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns the value of the given attribute.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">113</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">114</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">115</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>        if attr == "chars":</pre></td>
</tr>
<tr class="">
  <td class="nbLine">116</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>            if isinstance(self.zone, TextZone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">117</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                text = self.zone.accessible.text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">118</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                self.chars = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">119</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                i = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">120</td>
  <td class="nbHits">40</td>
  <td class="src"><pre>                while i &lt; self.length:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">121</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                    [char, startOffset, endOffset] = text.getTextAtOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">122</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        self.startOffset + i,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">123</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                        atspi.Accessibility.TEXT_BOUNDARY_CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">124</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                    [x, y, width, height] = text.getRangeExtents(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">125</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        startOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">126</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                        endOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">127</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                        0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">128</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                    self.chars.append(Char(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">129</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                                           i,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">130</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                                           char,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">131</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                                           x, y, width, height))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">132</td>
  <td class="nbHits">33</td>
  <td class="src"><pre>                    i += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">133</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">134</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.chars = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">135</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>            return self.chars</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">136</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif attr.startswith('__') and attr.endswith('__'):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">137</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise AttributeError, attr</pre></td>
</tr>
<tr class="">
  <td class="nbLine">138</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">139</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.__dict__[attr]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">140</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">141</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class Zone:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">142</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Represents text that is a portion of a single horizontal line."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">143</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">144</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">145</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">146</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">147</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 x, y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">148</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 width, height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">149</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Creates a new Zone, which is a horizontal region of text.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">150</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">151</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">152</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - accessible: the Accessible associated with this Zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">153</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - string: the string being displayed for this Zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">154</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - extents: x, y, width, height in screen coordinates</pre></td>
</tr>
<tr class="">
  <td class="nbLine">155</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">156</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">157</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.accessible = accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">158</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.string = string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">159</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.length = len(string.decode("UTF-8"))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">160</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.x = x</pre></td>
</tr>
<tr class="">
  <td class="nbLine">161</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.y = y</pre></td>
</tr>
<tr class="">
  <td class="nbLine">162</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.width = width</pre></td>
</tr>
<tr class="">
  <td class="nbLine">163</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>        self.height = height</pre></td>
</tr>
<tr class="">
  <td class="nbLine">164</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">165</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __getattr__(self, attr):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">166</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Used for lazily determining the words in a Zone.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">167</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">168</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">169</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - attr: a string indicating the attribute name to retrieve</pre></td>
</tr>
<tr class="">
  <td class="nbLine">170</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">171</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns the value of the given attribute.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">172</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">173</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">174</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if attr == "words":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">175</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.words = []</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">176</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.words</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">177</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif attr.startswith('__') and attr.endswith('__'):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">178</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise AttributeError, attr</pre></td>
</tr>
<tr class="">
  <td class="nbLine">179</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">180</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.__dict__[attr]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">181</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">182</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def onSameLine(self, zone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">183</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Returns True if this Zone is on the same horiztonal line as</pre></td>
</tr>
<tr class="">
  <td class="nbLine">184</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        the given zone."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">185</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">186</td>
  <td class="nbHits">4129</td>
  <td class="src"><pre>        highestBottom = min(self.y + self.height, zone.y + zone.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">187</td>
  <td class="nbHits">4129</td>
  <td class="src"><pre>        lowestTop     = max(self.y,               zone.y)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">188</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">189</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If we do overlap, lets see how much.  We'll require a 25% overlap</pre></td>
</tr>
<tr class="">
  <td class="nbLine">190</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # for now...</pre></td>
</tr>
<tr class="">
  <td class="nbLine">191</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">192</td>
  <td class="nbHits">4129</td>
  <td class="src"><pre>        if lowestTop &lt; highestBottom:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">193</td>
  <td class="nbHits">2924</td>
  <td class="src"><pre>            overlapAmount = highestBottom - lowestTop</pre></td>
</tr>
<tr class="">
  <td class="nbLine">194</td>
  <td class="nbHits">2924</td>
  <td class="src"><pre>            shortestHeight = min(self.height, zone.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">195</td>
  <td class="nbHits">2924</td>
  <td class="src"><pre>            return ((1.0 * overlapAmount) / shortestHeight) &gt; 0.25</pre></td>
</tr>
<tr class="">
  <td class="nbLine">196</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">197</td>
  <td class="nbHits">1205</td>
  <td class="src"><pre>            return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">198</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">199</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getWordAtOffset(self, charOffset):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">200</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        word = None</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">201</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        offset = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">202</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        for word in self.words:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">203</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            nextOffset = offset + len(word.string.decode("UTF-8"))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">204</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if nextOffset &gt; charOffset:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">205</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                return [word, charOffset - offset]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">206</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">207</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                offset = nextOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">208</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">209</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return [word, offset]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">210</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">211</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class TextZone(Zone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">212</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Represents Accessibility_Text that is a portion of a single</pre></td>
</tr>
<tr class="">
  <td class="nbLine">213</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    horizontal line."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">214</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">215</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">216</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">217</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 startOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">218</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">219</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 x, y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">220</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 width, height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">221</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Creates a new Zone, which is a horizontal region of text.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">222</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">223</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">224</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - accessible: the Accessible associated with this Zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">225</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - startOffset: the index of the char in the Accessibility_Text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">226</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                       interface where this Zone starts</pre></td>
</tr>
<tr class="">
  <td class="nbLine">227</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - string: the string being displayed for this Zone</pre></td>
</tr>
<tr class="">
  <td class="nbLine">228</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - extents: x, y, width, height in screen coordinates</pre></td>
</tr>
<tr class="">
  <td class="nbLine">229</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">230</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">231</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        Zone.__init__(self, accessible, string, x, y, width, height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">232</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        self.startOffset = startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">233</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">234</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __getattr__(self, attr):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">235</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Used for lazily determining the words in a Zone.  The words</pre></td>
</tr>
<tr class="">
  <td class="nbLine">236</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        will either be all whitespace (interword boundaries) or actual</pre></td>
</tr>
<tr class="">
  <td class="nbLine">237</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        words.  To determine if a Word is whitespace, use</pre></td>
</tr>
<tr class="">
  <td class="nbLine">238</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        word.string.isspace()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">239</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">240</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">241</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - attr: a string indicating the attribute name to retrieve</pre></td>
</tr>
<tr class="">
  <td class="nbLine">242</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">243</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns the value of the given attribute.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">244</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">245</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">246</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>        if attr == "words":</pre></td>
</tr>
<tr class="">
  <td class="nbLine">247</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>            text = self.accessible.text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">248</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>            self.words = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">249</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>            wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">250</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>            offset = self.startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">251</td>
  <td class="nbHits">50</td>
  <td class="src"><pre>            for string in whitespace_re.split(self.string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">252</td>
  <td class="nbHits">35</td>
  <td class="src"><pre>                if len(string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">253</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    endOffset = offset + len(string.decode("UTF-8"))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">254</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    [x, y, width, height] = text.getRangeExtents(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">255</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        offset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">256</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                        endOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">257</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                        0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">258</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    word = Word(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">259</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                                wordIndex,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">260</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                                offset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">261</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                                string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">262</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                                x, y, width, height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">263</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    self.words.append(word)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">264</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    wordIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">265</td>
  <td class="nbHits">19</td>
  <td class="src"><pre>                    offset = endOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">266</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">267</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>            return self.words</pre></td>
</tr>
<tr class="">
  <td class="nbLine">268</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">269</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif attr.startswith('__') and attr.endswith('__'):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">270</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise AttributeError, attr</pre></td>
</tr>
<tr class="">
  <td class="nbLine">271</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">272</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.__dict__[attr]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">273</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">274</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class Line:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">275</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """A Line is a single line across a window and is composed of Zones."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">276</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">277</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">278</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 index,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">279</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 zones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">280</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Creates a new Line, which is a horizontal region of text.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">281</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">282</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">283</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - index: the index of this Line in the window</pre></td>
</tr>
<tr class="">
  <td class="nbLine">284</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - zones: the Zones that make up this line</pre></td>
</tr>
<tr class="">
  <td class="nbLine">285</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">286</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">287</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.index = index</pre></td>
</tr>
<tr class="">
  <td class="nbLine">288</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.zones = zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">289</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">290</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        bounds = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">291</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.string = ""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">292</td>
  <td class="nbHits">424</td>
  <td class="src"><pre>        for zone in self.zones:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">293</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>            if not bounds:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">294</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>                bounds = [zone.x, zone.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">295</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                          zone.x + zone.width, zone.y + zone.height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">296</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">297</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                bounds[0] = min(bounds[0], zone.x)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">298</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                bounds[1] = min(bounds[1], zone.y)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">299</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                bounds[2] = max(bounds[2], zone.x + zone.width)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">300</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                bounds[3] = max(bounds[3], zone.y + zone.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">301</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>            if len(zone.string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">302</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>                if len(self.string):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">303</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                    self.string += " "</pre></td>
</tr>
<tr class="">
  <td class="nbLine">304</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>                self.string += zone.string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">305</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">306</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        if not bounds:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">307</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            bounds = [-1, -1, -1, -1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">308</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">309</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.x = bounds[0]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">310</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.y = bounds[1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">311</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.width = bounds[2] - bounds[0]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">312</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.height = bounds[3] - bounds[1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">313</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">314</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>        self.brailleRegions = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">315</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">316</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getBrailleRegions(self):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">317</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        if not self.brailleRegions:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">318</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            self.brailleRegions = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">319</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            brailleOffset = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">320</td>
  <td class="nbHits">26</td>
  <td class="src"><pre>            for zone in self.zones:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">321</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                if (zone.accessible.role == rolenames.ROLE_TEXT) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">322</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                   or (zone.accessible.role == rolenames.ROLE_PASSWORD_TEXT) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">323</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                   or (zone.accessible.role == rolenames.ROLE_TERMINAL):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">324</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    region = braille.ReviewText(zone.accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">325</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                                                zone.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">326</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                                                zone.startOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">327</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                                                zone)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">328</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">329</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                    region = braille.ReviewComponent(zone.accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">330</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                                                     zone.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">331</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                                                     0, # cursor offset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">332</td>
  <td class="nbHits">7</td>
  <td class="src"><pre>                                                     zone)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">333</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                if len(self.brailleRegions):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">334</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    pad = braille.Region(" ")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">335</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    pad.brailleOffset = brailleOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">336</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    self.brailleRegions.append(pad)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">337</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    brailleOffset += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">338</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">339</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                zone.brailleRegion = region</pre></td>
</tr>
<tr class="">
  <td class="nbLine">340</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                region.brailleOffset = brailleOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">341</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                self.brailleRegions.append(region)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">342</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">343</td>
  <td class="nbHits">16</td>
  <td class="src"><pre>                brailleOffset += len(region.string.decode("UTF-8"))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">344</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">345</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            if len(self.brailleRegions):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">346</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>                pad = braille.Region(" ")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">347</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>                pad.brailleOffset = brailleOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">348</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>                self.brailleRegions.append(pad)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">349</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>                brailleOffset += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">350</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            eol = braille.Region("$l")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">351</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            eol.brailleOffset = brailleOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">352</td>
  <td class="nbHits">10</td>
  <td class="src"><pre>            self.brailleRegions.append(eol)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">353</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">354</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        return self.brailleRegions</pre></td>
</tr>
<tr class="">
  <td class="nbLine">355</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">356</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>class Context:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">357</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Information regarding where a user happens to be exploring</pre></td>
</tr>
<tr class="">
  <td class="nbLine">358</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    right now.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">359</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">360</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">361</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    ZONE   = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">362</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    CHAR   = 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">363</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WORD   = 2</pre></td>
</tr>
<tr class="">
  <td class="nbLine">364</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    LINE   = 3 # includes all zones on same line</pre></td>
</tr>
<tr class="">
  <td class="nbLine">365</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WINDOW = 4</pre></td>
</tr>
<tr class="">
  <td class="nbLine">366</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">367</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WRAP_NONE       = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">368</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WRAP_LINE       = 1 &lt;&lt; 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">369</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WRAP_TOP_BOTTOM = 1 &lt;&lt; 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">370</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    WRAP_ALL        = (WRAP_LINE | WRAP_TOP_BOTTOM)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">371</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">372</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def __init__(self, script):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">373</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Create a new Context that will be used for handling flat</pre></td>
</tr>
<tr class="">
  <td class="nbLine">374</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        review mode.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">375</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">376</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">377</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.script    = script</pre></td>
</tr>
<tr class="">
  <td class="nbLine">378</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">379</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        if (not orca_state.locusOfFocus) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">380</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            or (orca_state.locusOfFocus.app != self.script.app):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">381</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.lines = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">382</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">383</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # We want to stop at the window or frame or equivalent level.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">384</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">385</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>            obj = orca_state.locusOfFocus</pre></td>
</tr>
<tr class="">
  <td class="nbLine">386</td>
  <td class="nbHits">11</td>
  <td class="src"><pre>            while obj \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">387</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                      and obj.parent \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">388</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                      and (obj.parent.role != rolenames.ROLE_APPLICATION) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">389</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                      and (obj != obj.parent):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">390</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                obj = obj.parent</pre></td>
</tr>
<tr class="">
  <td class="nbLine">391</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>            if obj:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">392</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.lines = self.clusterZonesByLine(self.getShowingZones(obj))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">393</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">394</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.lines = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">395</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">396</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        currentLineIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">397</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        currentZoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">398</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        currentWordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">399</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        currentCharIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">400</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">401</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        if orca_state.locusOfFocus and \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">402</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           orca_state.locusOfFocus.role == rolenames.ROLE_TABLE_CELL:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">403</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            searchZone = orca_state.activeScript.getRealActiveDescendant(\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">404</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                                   orca_state.locusOfFocus)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">405</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">406</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>            searchZone = orca_state.locusOfFocus</pre></td>
</tr>
<tr class="">
  <td class="nbLine">407</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">408</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        foundZoneWithFocus = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">409</td>
  <td class="nbHits">50</td>
  <td class="src"><pre>        while currentLineIndex &lt; len(self.lines):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">410</td>
  <td class="nbHits">46</td>
  <td class="src"><pre>            line = self.lines[currentLineIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">411</td>
  <td class="nbHits">46</td>
  <td class="src"><pre>            currentZoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">412</td>
  <td class="nbHits">376</td>
  <td class="src"><pre>            while currentZoneIndex &lt; len(line.zones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">413</td>
  <td class="nbHits">331</td>
  <td class="src"><pre>                zone = line.zones[currentZoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">414</td>
  <td class="nbHits">331</td>
  <td class="src"><pre>                if zone.accessible == searchZone:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">415</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    foundZoneWithFocus = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">416</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">417</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">418</td>
  <td class="nbHits">330</td>
  <td class="src"><pre>                    currentZoneIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">419</td>
  <td class="nbHits">46</td>
  <td class="src"><pre>            if foundZoneWithFocus:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">420</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">421</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">422</td>
  <td class="nbHits">45</td>
  <td class="src"><pre>                currentLineIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">423</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">424</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Fallback to the first Zone if we didn't find anything.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">425</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">426</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        if not foundZoneWithFocus:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">427</td>
  <td class="nbHits">4</td>
  <td class="src"><pre>            currentLineIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">428</td>
  <td class="nbHits">4</td>
  <td class="src"><pre>            currentZoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">429</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        elif isinstance(zone, TextZone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">430</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # If we're on an accessible text object, try to set the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">431</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # review cursor to the caret position of that object.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">432</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">433</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            accessible  = zone.accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">434</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            lineIndex   = currentLineIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">435</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            zoneIndex   = currentZoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">436</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            caretOffset = zone.accessible.text.caretOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">437</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            foundZoneWithCaret = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">438</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            checkForEOF = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">439</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>            while lineIndex &lt; len(self.lines):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">440</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                line = self.lines[lineIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">441</td>
  <td class="nbHits">4</td>
  <td class="src"><pre>                while zoneIndex &lt; len(line.zones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">442</td>
  <td class="nbHits">3</td>
  <td class="src"><pre>                    zone = line.zones[zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">443</td>
  <td class="nbHits">3</td>
  <td class="src"><pre>                    if zone.accessible == accessible:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">444</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                        if (caretOffset &gt;= zone.startOffset):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">445</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                            if (caretOffset \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">446</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                    &lt; (zone.startOffset + zone.length)):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">447</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                foundZoneWithCaret = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">448</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                                break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">449</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            elif (caretOffset \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">450</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                    == (zone.startOffset + zone.length)):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">451</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                checkForEOF = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">452</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                lineToCheck = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">453</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                zoneToCheck = zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">454</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    zoneIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">455</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                if foundZoneWithCaret:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">456</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    currentLineIndex = lineIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">457</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    currentZoneIndex = zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">458</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    currentWordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">459</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    currentCharIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">460</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    offset = zone.startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">461</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    while currentWordIndex &lt; len(zone.words):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">462</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                        word = zone.words[currentWordIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">463</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                        if (word.length + offset) &gt; caretOffset:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">464</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            currentCharIndex = caretOffset - offset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">465</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">466</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">467</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            currentWordIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">468</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                            offset += word.length</pre></td>
</tr>
<tr class="">
  <td class="nbLine">469</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">470</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">471</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    zoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">472</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    lineIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">473</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            atEOF = not foundZoneWithCaret and checkForEOF</pre></td>
</tr>
<tr class="">
  <td class="nbLine">474</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            if atEOF:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">475</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                line = self.lines[lineToCheck]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">476</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                zone = line.zones[zoneToCheck]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">477</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                currentLineIndex = lineToCheck</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">478</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                currentZoneIndex = zoneToCheck</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">479</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if caretOffset:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">480</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    currentWordIndex = len(zone.words) - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">481</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    currentCharIndex = \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">482</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                          zone.words[currentWordIndex].length - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">483</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">484</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.lineIndex = currentLineIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">485</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.zoneIndex = currentZoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">486</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.wordIndex = currentWordIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">487</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.charIndex = currentCharIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">488</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">489</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # This is used to tell us where we should strive to move to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">490</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # when going up and down lines to the closest character.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">491</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # The targetChar is the character where we initially started</pre></td>
</tr>
<tr class="">
  <td class="nbLine">492</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # moving from, and does not change when one moves up or down</pre></td>
</tr>
<tr class="">
  <td class="nbLine">493</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # by line.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">494</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">495</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        self.targetCharInfo = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">496</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">497</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def visible(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">498</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                ax, ay, awidth, aheight,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">499</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                bx, by, bwidth, bheight):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">500</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Returns true if any portion of region 'a' is in region 'b'</pre></td>
</tr>
<tr class="">
  <td class="nbLine">501</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">502</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        highestBottom = min(ay + aheight, by + bheight)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">503</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        lowestTop = max(ay, by)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">504</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">505</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        leftMostRightEdge = min(ax + awidth, bx + bwidth)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">506</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        rightMostLeftEdge = max(ax, bx)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">507</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">508</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        visible = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">509</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">510</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        if (lowestTop &lt;= highestBottom) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">511</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           and (rightMostLeftEdge &lt;= leftMostRightEdge):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">512</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>            visible = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">513</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif (aheight == 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">514</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if (awidth == 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">515</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                visible = (lowestTop == highestBottom) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">516</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                          and (leftMostRightEdge == rightMostLeftEdge)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">517</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">518</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                visible = leftMostRightEdge &lt;= rightMostLeftEdge</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">519</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif (awidth == 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">520</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            visible = (lowestTop &lt;= highestBottom)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">521</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">522</td>
  <td class="nbHits">464</td>
  <td class="src"><pre>        return visible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">523</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">524</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def clip(self,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">525</td>
  <td class="nbHits"></td>
  <td class="src"><pre>             ax, ay, awidth, aheight,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">526</td>
  <td class="nbHits"></td>
  <td class="src"><pre>             bx, by, bwidth, bheight):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">527</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Clips region 'a' by region 'b' and returns the new region as</pre></td>
</tr>
<tr class="">
  <td class="nbLine">528</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        a list: [x, y, width, height].</pre></td>
</tr>
<tr class="">
  <td class="nbLine">529</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">530</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">531</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        x = max(ax, bx)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">532</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        x2 = min(ax + awidth, bx + bwidth)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">533</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        width = x2 - x</pre></td>
</tr>
<tr class="">
  <td class="nbLine">534</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">535</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        y = max(ay, by)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">536</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        y2 = min(ay + aheight, by + bheight)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">537</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        height = y2 - y</pre></td>
</tr>
<tr class="">
  <td class="nbLine">538</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">539</td>
  <td class="nbHits">395</td>
  <td class="src"><pre>        return [x, y, width, height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">540</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">541</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def splitTextIntoZones(self, accessible, string, startOffset, cliprect):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">542</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Traverses the string, splitting it up into separate zones if the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">543</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        string contains the EMBEDDED_OBJECT_CHARACTER, which is used by apps</pre></td>
</tr>
<tr class="">
  <td class="nbLine">544</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        such as Firefox to handle containment of things such as links in</pre></td>
</tr>
<tr class="">
  <td class="nbLine">545</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        paragraphs.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">546</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">547</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">548</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - accessible: the accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">549</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - string: a substring from the accessible's text specialization</pre></td>
</tr>
<tr class="">
  <td class="nbLine">550</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - startOffset: the starting character offset of the string</pre></td>
</tr>
<tr class="">
  <td class="nbLine">551</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - cliprect: the extents that the Zones must fit inside.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">552</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">553</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns a list of Zones for the visible text or None if nothing is</pre></td>
</tr>
<tr class="">
  <td class="nbLine">554</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        visible.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">555</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">556</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">557</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We convert the string to unicode and walk through it.  While doing</pre></td>
</tr>
<tr class="">
  <td class="nbLine">558</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # this, we keep two sets of offsets:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">559</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">560</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # substring{Start,End}Offset: where in the accessible text implementation</pre></td>
</tr>
<tr class="">
  <td class="nbLine">561</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #                             we are</pre></td>
</tr>
<tr class="">
  <td class="nbLine">562</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">563</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # unicodeStartOffset: where we are in the unicodeString</pre></td>
</tr>
<tr class="">
  <td class="nbLine">564</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">565</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        anyVisible = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">566</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        zones = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">567</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        text = accessible.text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">568</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        substringStartOffset = startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">569</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        substringEndOffset   = startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">570</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        unicodeStartOffset   = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">571</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        unicodeString = string.decode("UTF-8")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">572</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #print "LOOKING AT '%s'" % unicodeString</pre></td>
</tr>
<tr class="">
  <td class="nbLine">573</td>
  <td class="nbHits">552</td>
  <td class="src"><pre>        for i in range(0, len(unicodeString) + 1):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">574</td>
  <td class="nbHits">462</td>
  <td class="src"><pre>            if (i != len(unicodeString)) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">575</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and (unicodeString[i] != orca_state.activeScript.EMBEDDED_OBJECT_CHARACTER):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">576</td>
  <td class="nbHits">372</td>
  <td class="src"><pre>                substringEndOffset += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">577</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            elif (substringEndOffset == substringStartOffset):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">578</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                substringStartOffset += 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">579</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                substringEndOffset   = substringStartOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">580</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                unicodeStartOffset   = i + 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">581</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">582</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                [x, y, width, height] = text.getRangeExtents(substringStartOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">583</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                                             substringEndOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">584</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                                             0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">585</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                if self.visible(x, y, width, height,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">586</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">587</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                cliprect.width, cliprect.height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">588</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">589</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    anyVisible = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">590</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">591</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    clipping = self.clip(x, y, width, height,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">592</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                         cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">593</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                         cliprect.width, cliprect.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">594</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">595</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    # [[[TODO: WDW - HACK it would be nice to clip the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">596</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    # the text by what is really showing on the screen,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">597</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    # but this seems to hang Orca and the client. Logged</pre></td>
</tr>
<tr class="">
  <td class="nbLine">598</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    # as bugzilla bug 319770.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">599</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">600</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #ranges = text.getBoundedRanges(\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">601</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    clipping[0],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">602</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    clipping[1],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">603</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    clipping[2],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">604</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    clipping[3],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">605</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    0,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">606</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    atspi.Accessibility.TEXT_CLIP_BOTH,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">607</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    atspi.Accessibility.TEXT_CLIP_BOTH)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">608</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">609</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #print</pre></td>
</tr>
<tr class="">
  <td class="nbLine">610</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #print "HERE!"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">611</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #for range in ranges:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">612</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    print range.startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">613</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    print range.endOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">614</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #    print range.content</pre></td>
</tr>
<tr class="">
  <td class="nbLine">615</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">616</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    substring = unicodeString[unicodeStartOffset:i]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">617</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #print " SUBSTRING '%s'" % substring</pre></td>
</tr>
<tr class="">
  <td class="nbLine">618</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    zones.append(TextZone(accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">619</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          substringStartOffset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">620</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          substring.encode("UTF-8"),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">621</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          clipping[0],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">622</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          clipping[1],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">623</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          clipping[2],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">624</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                                          clipping[3]))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">625</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    substringStartOffset = substringEndOffset + 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">626</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    substringEndOffset   = substringStartOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">627</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                    unicodeStartOffset   = i + 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">628</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">629</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>        if anyVisible:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">630</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            return zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">631</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">632</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">633</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">634</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getZonesFromText(self, accessible, cliprect):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">635</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Gets a list of Zones from an object that implements the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">636</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        AccessibleText specialization.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">637</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">638</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">639</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - accessible: the accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">640</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - cliprect: the extents that the Zones must fit inside.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">641</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">642</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns a list of Zones.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">643</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">644</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">645</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        debug.println(debug.LEVEL_FINEST, "  looking at text:")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">646</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">647</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        if accessible.text:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">648</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>            zones = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">649</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">650</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">651</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">652</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        text = accessible.text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">653</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        length = text.characterCount</pre></td>
</tr>
<tr class="">
  <td class="nbLine">654</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">655</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        offset = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">656</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        lastEndOffset = -1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">657</td>
  <td class="nbHits">187</td>
  <td class="src"><pre>        while offset &lt; length:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">658</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">659</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            [string, startOffset, endOffset] = text.getTextAtOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">660</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                offset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">661</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                atspi.Accessibility.TEXT_BOUNDARY_LINE_START)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">662</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">663</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #NEED TO SKIP OVER EMBEDDED_OBJECT_CHARACTERS</pre></td>
</tr>
<tr class="">
  <td class="nbLine">664</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">665</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #print "STRING at %d is (start=%d end=%d): '%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">666</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #      % (offset, startOffset, endOffset, string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">667</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #if startOffset &gt; offset:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">668</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #    embedded = text.getText(offset, offset + 1).decode("UTF-8")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">669</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #    if embedded[0] == orca_state.activeScript.EMBEDDED_OBJECT_CHARACTER:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">670</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #        offset = startOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">671</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">672</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            debug.println(debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">673</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                          "    line at %d is (start=%d end=%d): '%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">674</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                          % (offset, startOffset, endOffset, string))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">675</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">676</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # [[[WDW - HACK: well...gnome-terminal sometimes wants to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">677</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # give us outrageous values back from getTextAtOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">678</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # (see http://bugzilla.gnome.org/show_bug.cgi?id=343133),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">679</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # so we try to handle it.  Evolution does similar things.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">680</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">681</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            if (startOffset &lt; 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">682</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or (endOffset &lt; 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">683</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or (startOffset &gt; offset) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">684</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or (endOffset &lt; offset) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">685</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or (startOffset &gt; endOffset) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">686</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or (abs(endOffset - startOffset) &gt; 666e3):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">687</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                debug.println(debug.LEVEL_WARNING,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">688</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                              "flat_review:getZonesFromText detected "\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">689</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                              "garbage from getTextAtOffset for accessible "\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">690</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                              "name='%s' role'='%s': offset used=%d, "\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">691</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                              "start/end offset returned=(%d,%d), string='%s'"\</pre></td>
</tr>
<tr class="">
  <td class="nbLine">692</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                              % (accessible.name, accessible.role,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">693</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                 offset, startOffset, endOffset, string))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">694</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">695</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">696</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # [[[WDW - HACK: this is here because getTextAtOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">697</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # tends not to be implemented consistently across toolkits.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">698</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # Sometimes it behaves properly (i.e., giving us an endOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">699</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # that is the beginning of the next line), sometimes it</pre></td>
</tr>
<tr class="">
  <td class="nbLine">700</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # doesn't (e.g., giving us an endOffset that is the end of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">701</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # the current line).  So...we hack.  The whole 'max' deal</pre></td>
</tr>
<tr class="">
  <td class="nbLine">702</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # is to account for lines that might be a brazillion lines</pre></td>
</tr>
<tr class="">
  <td class="nbLine">703</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # long.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">704</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">705</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            if endOffset == lastEndOffset:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">706</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                offset = max(offset + 1, lastEndOffset + 1)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">707</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                lastEndOffset = endOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">708</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                continue</pre></td>
</tr>
<tr class="">
  <td class="nbLine">709</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">710</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                offset = endOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">711</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                lastEndOffset = endOffset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">712</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">713</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            textZones = self.splitTextIntoZones(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">714</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                accessible, string, startOffset, cliprect)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">715</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">716</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>            if textZones:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">717</td>
  <td class="nbHits">90</td>
  <td class="src"><pre>                zones.extend(textZones)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">718</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            elif len(zones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">719</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # We'll break out of searching all the text - the idea</pre></td>
</tr>
<tr class="">
  <td class="nbLine">720</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # here is that we'll at least try to optimize for when</pre></td>
</tr>
<tr class="">
  <td class="nbLine">721</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # we gone below the visible clipping area.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">722</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">723</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # [[[TODO: WDW - would be nice to optimize this better.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">724</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # for example, perhaps we can assume the caret will always</pre></td>
</tr>
<tr class="">
  <td class="nbLine">725</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # be visible, and we can start our text search from there.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">726</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # Logged as bugzilla bug 319771.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">727</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">728</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">729</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">730</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We might have a zero length text area.  In that case, well,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">731</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # lets hack if this is something whose sole purpose is to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">732</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # act as a text entry area.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">733</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">734</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        if len(zones) == 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">735</td>
  <td class="nbHits">30</td>
  <td class="src"><pre>            if (accessible.role == rolenames.ROLE_TEXT) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">736</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or ((accessible.role == rolenames.ROLE_ENTRY)) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">737</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               or ((accessible.role == rolenames.ROLE_PASSWORD_TEXT)):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">738</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                extents = accessible.component.getExtents(0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">739</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                zones.append(TextZone(accessible,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">740</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      0,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">741</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      "",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">742</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      extents.x, extents.y,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">743</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      extents.width, extents.height))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">744</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">745</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>        return zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">746</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">747</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getZonesFromAccessible(self, accessible, cliprect):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">748</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Returns a list of Zones for the given accessible.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">749</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">750</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">751</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - accessible: the accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">752</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - cliprect: the extents that the Zones must fit inside.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">753</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">754</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">755</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        if not accessible.component:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">756</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">757</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">758</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Get the component extents in screen coordinates.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">759</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">760</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        extents = accessible.component.getExtents(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">761</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">762</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        if not self.visible(extents.x, extents.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">763</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>                            extents.width, extents.height,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">764</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>                            cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">765</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>                            cliprect.width, cliprect.height):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">766</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">767</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">768</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        debug.println(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">769</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            debug.LEVEL_FINEST,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">770</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>            "flat_review.getZonesFromAccessible (name=%s role=%s)" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">771</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            % (accessible.name, accessible.role))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">772</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">773</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Now see if there is any accessible text.  If so, find new zones,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">774</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # where each zone represents a line of this text object.  When</pre></td>
</tr>
<tr class="">
  <td class="nbLine">775</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # creating the zone, only keep track of the text that is actually</pre></td>
</tr>
<tr class="">
  <td class="nbLine">776</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # showing on the screen.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">777</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">778</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        if accessible.text:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">779</td>
  <td class="nbHits">97</td>
  <td class="src"><pre>            zones = self.getZonesFromText(accessible, cliprect)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">780</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">781</td>
  <td class="nbHits">277</td>
  <td class="src"><pre>            zones = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">782</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">783</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We really want the accessible text information.  But, if we have</pre></td>
</tr>
<tr class="">
  <td class="nbLine">784</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # an image, and it has a description, we can fall back on it.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">785</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">786</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        if (len(zones) == 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">787</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and accessible.image \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">788</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and accessible.image.imageDescription \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">789</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and len(accessible.image.imageDescription):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">790</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">791</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            [x, y] = accessible.image.getImagePosition(0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">792</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            [width, height] = accessible.image.getImageSize()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">793</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">794</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if (width != 0) and (height != 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">795</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                   and self.visible(x, y, width, height,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">796</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                    cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">797</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                    cliprect.width, cliprect.height):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">798</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">799</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                clipping = self.clip(x, y, width, height,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">800</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                     cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">801</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                     cliprect.width, cliprect.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">802</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">803</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if (clipping[2] != 0) or (clipping[3] != 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">804</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    zones.append(Zone(accessible,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">805</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      accessible.image.imageDescription,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">806</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      clipping[0],</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">807</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      clipping[1],</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">808</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      clipping[2],</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">809</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                      clipping[3]))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">810</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">811</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If the accessible is a parent, we really only looked at it for</pre></td>
</tr>
<tr class="">
  <td class="nbLine">812</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # its accessible text.  So...we'll skip the hacking here if that's</pre></td>
</tr>
<tr class="">
  <td class="nbLine">813</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # the case.  [[[TODO: WDW - HACK That is, except in the case of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">814</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # combo boxes, which don't implement the accesible text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">815</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # interface.  We also hack with MENU items for similar reasons.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">816</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">817</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Otherwise, even if we didn't get anything of use, we certainly</pre></td>
</tr>
<tr class="">
  <td class="nbLine">818</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # know there's something there.  If that's the case, we'll just</pre></td>
</tr>
<tr class="">
  <td class="nbLine">819</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # use the component extents and the name or description of the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">820</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # accessible.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">821</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">822</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        if (accessible.role != rolenames.ROLE_COMBO_BOX) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">823</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            and (accessible.role != rolenames.ROLE_EMBEDDED) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">824</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            and (accessible.role != rolenames.ROLE_MENU) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">825</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            and accessible.childCount &gt; 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">826</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>            pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">827</td>
  <td class="nbHits">372</td>
  <td class="src"><pre>        elif len(zones) == 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">828</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>            clipping = self.clip(extents.x, extents.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">829</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>                                 extents.width, extents.height,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">830</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>                                 cliprect.x, cliprect.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">831</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>                                 cliprect.width, cliprect.height)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">832</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>            if accessible.name and len(accessible.name):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">833</td>
  <td class="nbHits">196</td>
  <td class="src"><pre>                string = accessible.name</pre></td>
</tr>
<tr class="">
  <td class="nbLine">834</td>
  <td class="nbHits">109</td>
  <td class="src"><pre>            elif accessible.description and len(accessible.description):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">835</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                string = accessible.description</pre></td>
</tr>
<tr class="">
  <td class="nbLine">836</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">837</td>
  <td class="nbHits">109</td>
  <td class="src"><pre>                string = ""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">838</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">839</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>            if string == "":</pre></td>
</tr>
<tr class="">
  <td class="nbLine">840</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # [[[TODO: WDW - ooohhhh....this is going to be a headache.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">841</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # We want to synthesize a string for objects that are there,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">842</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # but have no text.  For example, scroll bars.  The rub is</pre></td>
</tr>
<tr class="">
  <td class="nbLine">843</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # that we will sometimes want to do different strings for</pre></td>
</tr>
<tr class="">
  <td class="nbLine">844</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # speech and braille (e.g., checkbox cells in tables - the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">845</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # speech will say "checkbox checked" and the braille will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">846</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # display "checkbox &lt;x&gt;".  Yikes.  That may be a challenge.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">847</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # So...for now we punt on table cells.  Logged as bugzilla</pre></td>
</tr>
<tr class="">
  <td class="nbLine">848</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # bug 319772.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">849</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">850</td>
  <td class="nbHits">109</td>
  <td class="src"><pre>                if accessible.role != rolenames.ROLE_TABLE_CELL:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">851</td>
  <td class="nbHits">109</td>
  <td class="src"><pre>                    string = accessible.role</pre></td>
</tr>
<tr class="">
  <td class="nbLine">852</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">853</td>
  <td class="nbHits">305</td>
  <td class="src"><pre>            if len(string) and ((clipping[2] != 0) or (clipping[3] != 0)):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">854</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                zones.append(Zone(accessible,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">855</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                                  string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">856</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                                  clipping[0],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">857</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                                  clipping[1],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">858</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                                  clipping[2],</pre></td>
</tr>
<tr class="">
  <td class="nbLine">859</td>
  <td class="nbHits">265</td>
  <td class="src"><pre>                                  clipping[3]))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">860</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">861</td>
  <td class="nbHits">374</td>
  <td class="src"><pre>        return zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">862</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">863</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getShowingDescendants(self, parent):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">864</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Given a parent that manages its descendants, return a list of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">865</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Accessible children that are actually showing.  This algorithm</pre></td>
</tr>
<tr class="">
  <td class="nbLine">866</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        was inspired a little by the srw_elements_from_accessible logic</pre></td>
</tr>
<tr class="">
  <td class="nbLine">867</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        in Gnopernicus, and makes the assumption that the children of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">868</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        an object that manages its descendants are arranged in a row</pre></td>
</tr>
<tr class="">
  <td class="nbLine">869</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        and column format.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">870</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">871</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">872</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if (not parent) or (not parent.component):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">873</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">874</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">875</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # A minimal chunk to jump around should we not really know where we</pre></td>
</tr>
<tr class="">
  <td class="nbLine">876</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # are going.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">877</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">878</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        GRID_SIZE = 7</pre></td>
</tr>
<tr class="">
  <td class="nbLine">879</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">880</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        descendants = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">881</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">882</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        parentExtents = parent.component.getExtents(0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">883</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">884</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # [[[TODO: WDW - HACK related to GAIL bug where table column headers</pre></td>
</tr>
<tr class="">
  <td class="nbLine">885</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # seem to be ignored: http://bugzilla.gnome.org/show_bug.cgi?id=325809.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">886</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # The problem is that this causes getAccessibleAtPoint to return the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">887</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # cell effectively below the real cell at a given point, making a mess</pre></td>
</tr>
<tr class="">
  <td class="nbLine">888</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # of everything.  So...we just manually add in showing headers for now.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">889</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # The remainder of the logic below accidentally accounts for this offset,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">890</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # yet it should also work when bug 325809 is fixed.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">891</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">892</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        table = parent.table</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">893</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if table:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">894</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            for i in range(0, table.nColumns):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">895</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                obj = table.getColumnHeader(i)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">896</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if obj:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">897</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    header = atspi.Accessible.makeAccessible(obj)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">898</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    extents = header.extents</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">899</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if header.state.count(atspi.Accessibility.STATE_SHOWING) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">900</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                       and (extents.x &gt;= 0) and (extents.y &gt;= 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">901</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                       and (extents.width &gt; 0) and (extents.height &gt; 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">902</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                       and self.visible(extents.x, extents.y,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">903</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        extents.width, extents.height,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">904</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        parentExtents.x, parentExtents.y,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">905</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        parentExtents.width,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">906</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        parentExtents.height):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">907</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        descendants.append(header)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">908</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">909</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # This algorithm goes left to right, top to bottom while attempting</pre></td>
</tr>
<tr class="">
  <td class="nbLine">910</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # to do *some* optimization over queries.  It could definitely be</pre></td>
</tr>
<tr class="">
  <td class="nbLine">911</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # improved.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">912</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">913</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        currentY = parentExtents.y</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">914</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        while currentY &lt; (parentExtents.y + parentExtents.height):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">915</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            currentX = parentExtents.x</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">916</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            minHeight = sys.maxint</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">917</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            while currentX &lt; (parentExtents.x + parentExtents.width):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">918</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                obj = parent.component.getAccessibleAtPoint(currentX,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">919</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                                            currentY,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">920</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                                            0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">921</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if obj:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">922</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    child = atspi.Accessible.makeAccessible(obj)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">923</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    extents = child.extents</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">924</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if extents.x &gt;= 0 and extents.y &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">925</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        newX = extents.x + extents.width</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">926</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        minHeight = min(minHeight, extents.height)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">927</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        if not descendants.count(child):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">928</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            descendants.append(child)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">929</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">930</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        newX = currentX + GRID_SIZE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">931</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">932</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    newX = currentX + GRID_SIZE</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">933</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if newX &lt;= currentX:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">934</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    currentX += GRID_SIZE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">935</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">936</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    currentX = newX</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">937</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if minHeight == sys.maxint:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">938</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                minHeight = GRID_SIZE</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">939</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            currentY += minHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">940</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">941</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return descendants</pre></td>
</tr>
<tr class="">
  <td class="nbLine">942</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">943</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getShowingZones(self, root):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">944</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Returns a list of all interesting, non-intersecting, regions</pre></td>
</tr>
<tr class="">
  <td class="nbLine">945</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        that are drawn on the screen.  Each element of the list is the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">946</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Accessible object associated with a given region.  The term</pre></td>
</tr>
<tr class="">
  <td class="nbLine">947</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        'zone' here is inherited from OCR algorithms and techniques.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">948</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">949</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        The Zones are returned in no particular order.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">950</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">951</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">952</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - root: the Accessible object to traverse</pre></td>
</tr>
<tr class="">
  <td class="nbLine">953</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">954</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns: a list of Zones under the specified object</pre></td>
</tr>
<tr class="">
  <td class="nbLine">955</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">956</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">957</td>
  <td class="nbHits">435</td>
  <td class="src"><pre>        if not root:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">958</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">959</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">960</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # If we're at a leaf node, then we've got a good one on our hands.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">961</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">962</td>
  <td class="nbHits">435</td>
  <td class="src"><pre>        if root.childCount &lt;= 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">963</td>
  <td class="nbHits">318</td>
  <td class="src"><pre>            return self.getZonesFromAccessible(root, root.extents)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">964</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">965</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We'll stop at various objects because, while they do have</pre></td>
</tr>
<tr class="">
  <td class="nbLine">966</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # children, we logically think of them as one region on the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">967</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # screen.  [[[TODO: WDW - HACK stopping at menu bars for now</pre></td>
</tr>
<tr class="">
  <td class="nbLine">968</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # because their menu items tell us they are showing even though</pre></td>
</tr>
<tr class="">
  <td class="nbLine">969</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # they are not showing.  Until I can figure out a reliable way to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">970</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # get past these lies, I'm going to ignore them.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">971</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">972</td>
  <td class="nbHits">117</td>
  <td class="src"><pre>        if (root.parent and (root.parent.role == rolenames.ROLE_MENU_BAR)) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">973</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (root.role == rolenames.ROLE_COMBO_BOX) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">974</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (root.role == rolenames.ROLE_EMBEDDED) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">975</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (root.role == rolenames.ROLE_TEXT):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">976</td>
  <td class="nbHits">54</td>
  <td class="src"><pre>            return self.getZonesFromAccessible(root, root.extents)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">977</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">978</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Otherwise, dig deeper.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">979</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">980</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # We'll include page tabs: while they are parents, their extents do</pre></td>
</tr>
<tr class="">
  <td class="nbLine">981</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # not contain their children. [[[TODO: WDW - need to consider all</pre></td>
</tr>
<tr class="">
  <td class="nbLine">982</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # parents, especially those that implement accessible text.  Logged</pre></td>
</tr>
<tr class="">
  <td class="nbLine">983</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # as bugzilla bug 319773.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">984</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">985</td>
  <td class="nbHits">63</td>
  <td class="src"><pre>        zones = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">986</td>
  <td class="nbHits">63</td>
  <td class="src"><pre>        if root.role == rolenames.ROLE_PAGE_TAB:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">987</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            zones.extend(self.getZonesFromAccessible(root, root.extents))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">988</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">989</td>
  <td class="nbHits">63</td>
  <td class="src"><pre>        if (len(zones) == 0) and root.text:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">990</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            zones = self.getZonesFromAccessible(root, root.extents)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">991</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">992</td>
  <td class="nbHits">63</td>
  <td class="src"><pre>        if root.state.count(atspi.Accessibility.STATE_MANAGES_DESCENDANTS) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">993</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           and (root.childCount &gt; 50):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">994</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            for child in self.getShowingDescendants(root):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">995</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                zones.extend(self.getShowingZones(child))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">996</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">997</td>
  <td class="nbHits">561</td>
  <td class="src"><pre>            for i in range(0, root.childCount):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">998</td>
  <td class="nbHits">498</td>
  <td class="src"><pre>                child = root.child(i)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">999</td>
  <td class="nbHits">498</td>
  <td class="src"><pre>                if child == root:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1000</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    debug.println(debug.LEVEL_WARNING,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1001</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                  "flat_review.getShowingZones: " +</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1002</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                  "WARNING CHILD == PARENT!!!")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1003</td>
  <td class="nbHits">498</td>
  <td class="src"><pre>                elif not child:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1004</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    debug.println(debug.LEVEL_WARNING,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1005</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                  "flat_review.getShowingZones: " +</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1006</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                  "WARNING CHILD IS NONE!!!")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1007</td>
  <td class="nbHits">498</td>
  <td class="src"><pre>                elif child.parent != root:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1008</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    debug.println(debug.LEVEL_WARNING,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1009</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                  "flat_review.getShowingZones: " +</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1010</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                  "WARNING CHILD.PARENT != PARENT!!!")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1011</td>
  <td class="nbHits">498</td>
  <td class="src"><pre>                elif self.script.pursueForFlatReview(child):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1012</td>
  <td class="nbHits">430</td>
  <td class="src"><pre>                    zones.extend(self.getShowingZones(child))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1013</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1014</td>
  <td class="nbHits">63</td>
  <td class="src"><pre>        return zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1015</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1016</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def clusterZonesByLine(self, zones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1017</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Given a list of interesting accessible objects (the Zones),</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1018</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        returns a list of lines in order from the top to bottom, where</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1019</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        each line is a list of accessible objects in order from left</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1020</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        to right.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1021</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1022</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1023</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        if len(zones) == 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1024</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1025</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1026</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Sort the zones and also find the top most zone - we'll bias</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1027</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # the clustering to the top of the window.  That is, if an</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1028</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # object can be part of multiple clusters, for now it will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1029</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # become a part of the top most cluster.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1030</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1031</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        numZones = len(zones)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1032</td>
  <td class="nbHits">360</td>
  <td class="src"><pre>        for i in range(0, numZones):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1033</td>
  <td class="nbHits">13780</td>
  <td class="src"><pre>            for j in range(0, numZones - 1 - i):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1034</td>
  <td class="nbHits">13425</td>
  <td class="src"><pre>                a = zones[j]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1035</td>
  <td class="nbHits">13425</td>
  <td class="src"><pre>                b = zones[j + 1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1036</td>
  <td class="nbHits">13425</td>
  <td class="src"><pre>                if b.y &lt; a.y:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1037</td>
  <td class="nbHits">423</td>
  <td class="src"><pre>                    zones[j] = b</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1038</td>
  <td class="nbHits">423</td>
  <td class="src"><pre>                    zones[j + 1] = a</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1039</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1040</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Now we cluster the zones.  We create the clusters on the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1041</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # fly, adding a zone to an existing cluster only if it's</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1042</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # rectangle horizontally overlaps all other zones in the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1043</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # cluster.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1044</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1045</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        lineClusters = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1046</td>
  <td class="nbHits">360</td>
  <td class="src"><pre>        for clusterCandidate in zones:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1047</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>            addedToCluster = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1048</td>
  <td class="nbHits">1560</td>
  <td class="src"><pre>            for lineCluster in lineClusters:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1049</td>
  <td class="nbHits">1491</td>
  <td class="src"><pre>                inCluster = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1050</td>
  <td class="nbHits">4415</td>
  <td class="src"><pre>                for zone in lineCluster:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1051</td>
  <td class="nbHits">4129</td>
  <td class="src"><pre>                    if not zone.onSameLine(clusterCandidate):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1052</td>
  <td class="nbHits">1205</td>
  <td class="src"><pre>                        inCluster = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1053</td>
  <td class="nbHits">1205</td>
  <td class="src"><pre>                        break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1054</td>
  <td class="nbHits">1491</td>
  <td class="src"><pre>                if inCluster:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1055</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    # Add to cluster based on the x position.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1056</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1057</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                    i = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1058</td>
  <td class="nbHits">2874</td>
  <td class="src"><pre>                    while i &lt; len(lineCluster):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1059</td>
  <td class="nbHits">2640</td>
  <td class="src"><pre>                        zone = lineCluster[i]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1060</td>
  <td class="nbHits">2640</td>
  <td class="src"><pre>                        if clusterCandidate.x &lt; zone.x:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1061</td>
  <td class="nbHits">52</td>
  <td class="src"><pre>                            break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1062</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1063</td>
  <td class="nbHits">2588</td>
  <td class="src"><pre>                            i += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1064</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                    lineCluster.insert(i, clusterCandidate)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1065</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                    addedToCluster = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1066</td>
  <td class="nbHits">286</td>
  <td class="src"><pre>                    break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1067</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>            if not addedToCluster:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1068</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>                lineClusters.append([clusterCandidate])</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1069</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1070</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Now, adjust all the indeces.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1071</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1072</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        lines = []</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1073</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        lineIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1074</td>
  <td class="nbHits">74</td>
  <td class="src"><pre>        for lineCluster in lineClusters:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1075</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>            lines.append(Line(lineIndex, lineCluster))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1076</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>            zoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1077</td>
  <td class="nbHits">424</td>
  <td class="src"><pre>            for zone in lineCluster:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1078</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>                zone.line = lines[lineIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1079</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>                zone.index = zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1080</td>
  <td class="nbHits">355</td>
  <td class="src"><pre>                zoneIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1081</td>
  <td class="nbHits">69</td>
  <td class="src"><pre>            lineIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1082</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1083</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>        return lines</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1084</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1085</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def _dumpCurrentState(self):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1086</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "line=%d, zone=%d, word=%d, char=%d" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1087</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (self.lineIndex,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1088</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 self.zoneIndex,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1089</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 self.wordIndex,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1090</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                 self.zoneIndex)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1091</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1092</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1093</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        text = zone.accessible.text</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1094</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1095</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if not text:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1096</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            print "  Not Accessibility_Text"</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1097</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1098</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1099</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "  getTextBeforeOffset: %d" % text.caretOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1100</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextBeforeOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1101</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1102</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_START)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1103</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_START: start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1104</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1105</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextBeforeOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1106</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1107</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_END)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1108</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_END:   start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1109</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1110</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1111</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "  getTextAtOffset: %d" % text.caretOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1112</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextAtOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1113</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1114</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_START)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1115</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_START: start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1116</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1117</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextAtOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1118</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1119</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_END)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1120</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_END:   start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1121</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1122</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1123</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "  getTextAfterOffset: %d" % text.caretOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1124</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextAfterOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1125</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1126</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_START)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1127</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_START: start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1128</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1129</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, startOffset, endOffset] = text.getTextAfterOffset(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1130</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            text.caretOffset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1131</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.Accessibility.TEXT_BOUNDARY_WORD_END)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1132</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    WORD_END:   start=%d end=%d string='%s'" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1133</td>
  <td class="nbHits"></td>
  <td class="src"><pre>              % (startOffset, endOffset, string)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1134</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1135</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def setCurrent(self, lineIndex, zoneIndex, wordIndex, charIndex):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1136</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Sets the current character of interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1137</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1138</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1139</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - lineIndex: index into lines</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1140</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - zoneIndex: index into lines[lineIndex].zones</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1141</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - wordIndex: index into lines[lineIndex].zones[zoneIndex].words</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1142</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - charIndex: index lines[lineIndex].zones[zoneIndex].words[wordIndex].chars</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1143</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1144</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1145</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        self.lineIndex = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1146</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        self.zoneIndex = zoneIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1147</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1148</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        self.charIndex = charIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1149</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1150</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1151</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #print "Current line=%d zone=%d word=%d char=%d" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1152</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #      % (lineIndex, zoneIndex, wordIndex, charIndex)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1153</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1154</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def clickCurrent(self, button=1):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1155</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Performs a mouse click on the current accessible."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1156</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1157</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if (not self.lines) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1158</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (not self.lines[self.lineIndex].zones):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1159</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1160</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1161</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [string, x, y, width, height] = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1162</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1163</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1164</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # We try to click to the left of center.  This is to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1165</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # handle toolkits that will offset the caret position to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1166</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # the right if you click dead on center of a character.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1167</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1168</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            eventsynthesizer.clickPoint(x,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1169</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        y + height/ 2,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1170</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                        button)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1171</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1172</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1173</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1174</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getCurrentAccessible(self):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1175</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Returns the accessible associated with the current locus of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1176</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1177</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1178</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1179</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if (not self.lines) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1180</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (not self.lines[self.lineIndex].zones):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1181</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return [None, -1, -1, -1, -1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1182</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1183</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1184</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1185</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return zone.accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1186</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1187</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getCurrent(self, type=ZONE):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1188</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Gets the string, offset, and extent information for the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1189</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        current locus of interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1190</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1191</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1192</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of ZONE, CHAR, WORD, LINE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1193</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1194</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns: [string, x, y, width, height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1195</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1196</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1197</td>
  <td class="nbHits">59</td>
  <td class="src"><pre>        if (not self.lines) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1198</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (not self.lines[self.lineIndex].zones):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1199</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return [None, -1, -1, -1, -1]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1200</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1201</td>
  <td class="nbHits">59</td>
  <td class="src"><pre>        zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1202</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1203</td>
  <td class="nbHits">59</td>
  <td class="src"><pre>        if type == Context.ZONE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1204</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return [zone.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1205</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    zone.x,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1206</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    zone.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1207</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    zone.width,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1208</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    zone.height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1209</td>
  <td class="nbHits">59</td>
  <td class="src"><pre>        elif type == Context.CHAR:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1210</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>            if isinstance(zone, TextZone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1211</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                words = zone.words</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1212</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                if words:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1213</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                    chars = zone.words[self.wordIndex].chars</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1214</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                    if chars:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1215</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                        char = chars[self.charIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1216</td>
  <td class="nbHits">24</td>
  <td class="src"><pre>                        return [char.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1217</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                char.x,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1218</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                char.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1219</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                char.width,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1220</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                char.height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1221</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1222</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        word = words[self.wordIndex]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1223</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        return [word.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1224</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                word.x,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1225</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                word.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1226</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                word.width,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1227</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                word.height]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1228</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.getCurrent(Context.ZONE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1229</td>
  <td class="nbHits">35</td>
  <td class="src"><pre>        elif type == Context.WORD:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1230</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>            if isinstance(zone, TextZone):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1231</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>                words = zone.words</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1232</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>                if words:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1233</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>                    word = words[self.wordIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1234</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>                    return [word.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1235</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            word.x,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1236</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            word.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1237</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            word.width,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1238</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            word.height]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1239</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.getCurrent(Context.ZONE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1240</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        elif type == Context.LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1241</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>            line = self.lines[self.lineIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1242</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>            return [line.string,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1243</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    line.x,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1244</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    line.y,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1245</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    line.width,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1246</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    line.height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1247</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1248</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1249</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1250</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def getCurrentBrailleRegions(self):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1251</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Gets the braille for the entire current line.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1252</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1253</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns [regions, regionWithFocus]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1254</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1255</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1256</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        if (not self.lines) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1257</td>
  <td class="nbHits"></td>
  <td class="src"><pre>           or (not self.lines[self.lineIndex].zones):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1258</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return [None, None]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1259</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1260</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        regionWithFocus = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1261</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        line = self.lines[self.lineIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1262</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        regions = line.getBrailleRegions()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1263</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1264</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # Now find the current region and the current character offset</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1265</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # into that region.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1266</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1267</td>
  <td class="nbHits">53</td>
  <td class="src"><pre>        for zone in line.zones:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1268</td>
  <td class="nbHits">53</td>
  <td class="src"><pre>            if zone.index == self.zoneIndex:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1269</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                regionWithFocus = zone.brailleRegion</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1270</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                regionWithFocus.cursorOffset = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1271</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                if zone.words:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1272</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                    for wordIndex in range(0, self.wordIndex):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1273</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        regionWithFocus.cursorOffset += \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1274</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            len(zone.words[wordIndex].string.decode("UTF-8"))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1275</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                regionWithFocus.cursorOffset += self.charIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1276</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>                break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1277</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1278</td>
  <td class="nbHits">23</td>
  <td class="src"><pre>        return [regions, regionWithFocus]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1279</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1280</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goBegin(self, type=WINDOW):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1281</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to the first char</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1282</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        of the first relevant zone.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1283</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1284</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1285</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of ZONE, LINE or WINDOW</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1286</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1287</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns True if the locus of interest actually changed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1288</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1289</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1290</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if (type == Context.LINE) or (type == Context.ZONE):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1291</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            lineIndex = self.lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1292</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif type == Context.WINDOW:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1293</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            lineIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1294</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1295</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1296</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1297</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if type == Context.ZONE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1298</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            zoneIndex = self.zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1299</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1300</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            zoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1301</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1302</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1303</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1304</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1305</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        moved = (self.lineIndex != lineIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1306</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.zoneIndex != zoneIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1307</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.wordIndex != wordIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1308</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.charIndex != charIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1309</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1310</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1311</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.lineIndex = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1312</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.zoneIndex = zoneIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1313</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1314</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.charIndex = charIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1315</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1316</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1317</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1318</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1319</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goEnd(self, type=WINDOW):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1320</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to the last char</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1321</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        of the last relevant zone.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1322</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1323</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1324</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of ZONE, LINE, or WINDOW</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1325</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1326</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns True if the locus of interest actually changed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1327</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1328</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1329</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if (type == Context.LINE) or (type == Context.ZONE):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1330</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            lineIndex = self.lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1331</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif type == Context.WINDOW:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1332</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            lineIndex  = len(self.lines) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1333</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1334</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1335</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1336</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if type == Context.ZONE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1337</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            zoneIndex = self.zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1338</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1339</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            zoneIndex = len(self.lines[lineIndex].zones) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1340</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1341</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        zone = self.lines[lineIndex].zones[zoneIndex]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1342</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if zone.words:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1343</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            wordIndex = len(zone.words) - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1344</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            chars = zone.words[wordIndex].chars</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1345</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if chars:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1346</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                charIndex = len(chars) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1347</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1348</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1349</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1350</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1351</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1352</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1353</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        moved = (self.lineIndex != lineIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1354</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.zoneIndex != zoneIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1355</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.wordIndex != wordIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1356</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                or (self.charIndex != charIndex) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1357</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1358</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1359</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.lineIndex = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1360</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.zoneIndex = zoneIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1361</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1362</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.charIndex = charIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1363</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1364</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1365</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1366</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1367</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goPrevious(self, type=ZONE, wrap=WRAP_ALL, omitWhitespace=True):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1368</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to the first char</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1369</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        of the previous type.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1370</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1371</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1372</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of ZONE, CHAR, WORD, LINE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1373</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - wrap: if True, will cross boundaries, including top and</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1374</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                bottom; if False, will stop on boundaries.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1375</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1376</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns True if the locus of interest actually changed.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1377</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1378</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1379</td>
  <td class="nbHits">18</td>
  <td class="src"><pre>        moved = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1380</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1381</td>
  <td class="nbHits">18</td>
  <td class="src"><pre>        if type == Context.ZONE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1382</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if self.zoneIndex &gt; 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1383</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.zoneIndex -= 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1384</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1385</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1386</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1387</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            elif wrap &amp; Context.WRAP_LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1388</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                if self.lineIndex &gt; 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1389</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.lineIndex -= 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1390</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.zoneIndex = len(self.lines[self.lineIndex].zones) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1391</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1392</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1393</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1394</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif wrap &amp; Context.WRAP_TOP_BOTTOM:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1395</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.lineIndex = len(self.lines) - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1396</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.zoneIndex = len(self.lines[self.lineIndex].zones) - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1397</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1398</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1399</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1400</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>        elif type == Context.CHAR:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1401</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if self.charIndex &gt; 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1402</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.charIndex -= 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1403</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1404</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1405</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                moved = self.goPrevious(Context.WORD, wrap, False)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1406</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1407</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1408</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if zone.words:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1409</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        chars = zone.words[self.wordIndex].chars</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1410</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        if chars:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1411</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            self.charIndex = len(chars) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1412</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>        elif type == Context.WORD:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1413</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1414</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            accessible = zone.accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1415</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            lineIndex = self.lineIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1416</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zoneIndex = self.zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1417</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            wordIndex = self.wordIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1418</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            charIndex = self.charIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1419</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1420</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if self.wordIndex &gt; 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1421</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.wordIndex -= 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1422</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1423</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1424</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1425</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                moved = self.goPrevious(Context.ZONE, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1426</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                if moved:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1427</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1428</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    if zone.words:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1429</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                        self.wordIndex = len(zone.words) - 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1430</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1431</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # If we landed on a whitespace word or something with no words,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1432</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # we might need to move some more.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1433</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1434</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1435</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if omitWhitespace \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1436</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and moved \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1437</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and ((len(zone.words) == 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1438</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    or zone.words[self.wordIndex].string.isspace()):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1439</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1440</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # If we're on whitespace in the same zone, then let's</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1441</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # try to move on.  If not, we've definitely moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1442</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # across accessibles.  If that's the case, let's try</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1443</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # to find the first 'real' word in the accessible.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1444</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # If we cannot, then we're just stuck on an accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1445</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # with no words and we should do our best to announce</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1446</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # this to the user (e.g., "whitespace" or "blank").</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1447</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1448</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if zone.accessible == accessible:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1449</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = self.goPrevious(Context.WORD, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1450</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1451</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    wordIndex = self.wordIndex - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1452</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    while wordIndex &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1453</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        if (not zone.words[wordIndex].string) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1454</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            or not len(zone.words[wordIndex].string) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1455</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            or zone.words[wordIndex].string.isspace():</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1456</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            wordIndex -= 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1457</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1458</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            break</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1459</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if wordIndex &gt;= 0:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1460</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1461</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1462</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if not moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1463</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.lineIndex = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1464</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.zoneIndex = zoneIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1465</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1466</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.charIndex = charIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1467</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1468</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>        elif type == Context.LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1469</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if wrap &amp; Context.WRAP_LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1470</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                if self.lineIndex &gt; 0:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1471</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    self.lineIndex -= 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1472</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    self.zoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1473</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1474</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1475</td>
  <td class="nbHits">2</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1476</td>
  <td class="nbHits">4</td>
  <td class="src"><pre>                elif (wrap &amp; Context.WRAP_TOP_BOTTOM) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1477</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                     and (len(self.lines) != 1):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1478</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.lineIndex = len(self.lines) - 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1479</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.zoneIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1480</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1481</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1482</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1483</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1484</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1485</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1486</td>
  <td class="nbHits">18</td>
  <td class="src"><pre>        if moved and (type != Context.LINE):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1487</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>            self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1488</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1489</td>
  <td class="nbHits">18</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1490</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1491</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goNext(self, type=ZONE, wrap=WRAP_ALL, omitWhitespace=True):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1492</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to first char of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1493</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        the next type.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1494</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1495</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1496</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of ZONE, CHAR, WORD, LINE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1497</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - wrap: if True, will cross boundaries, including top and</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1498</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                bottom; if False, will stop on boundaries.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1499</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1500</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1501</td>
  <td class="nbHits">21</td>
  <td class="src"><pre>        moved = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1502</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1503</td>
  <td class="nbHits">21</td>
  <td class="src"><pre>        if type == Context.ZONE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1504</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if self.zoneIndex &lt; (len(self.lines[self.lineIndex].zones) - 1):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1505</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.zoneIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1506</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1507</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1508</td>
  <td class="nbHits">5</td>
  <td class="src"><pre>                moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1509</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>            elif wrap &amp; Context.WRAP_LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1510</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                if self.lineIndex &lt; (len(self.lines) - 1):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1511</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.lineIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1512</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.zoneIndex  = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1513</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1514</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1515</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1516</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif wrap &amp; Context.WRAP_TOP_BOTTOM:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1517</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.lineIndex  = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1518</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.zoneIndex  = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1519</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1520</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1521</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1522</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>        elif type == Context.CHAR:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1523</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1524</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if zone.words:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1525</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                chars = zone.words[self.wordIndex].chars</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1526</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if chars:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1527</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if self.charIndex &lt; (len(chars) - 1):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1528</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.charIndex += 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1529</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1530</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1531</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        moved = self.goNext(Context.WORD, wrap, False)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1532</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1533</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = self.goNext(Context.WORD, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1534</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1535</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                moved = self.goNext(Context.ZONE, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1536</td>
  <td class="nbHits">15</td>
  <td class="src"><pre>        elif type == Context.WORD:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1537</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1538</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            accessible = zone.accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1539</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            lineIndex = self.lineIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1540</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zoneIndex = self.zoneIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1541</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            wordIndex = self.wordIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1542</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            charIndex = self.charIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1543</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1544</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if zone.words:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1545</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                if self.wordIndex &lt; (len(zone.words) - 1):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1546</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.wordIndex += 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1547</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1548</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1549</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1550</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>                    moved = self.goNext(Context.ZONE, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1551</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1552</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                moved = self.goNext(Context.ZONE, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1553</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1554</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # If we landed on a whitespace word or something with no words,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1555</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # we might need to move some more.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1556</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1557</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            zone = self.lines[self.lineIndex].zones[self.zoneIndex]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1558</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if omitWhitespace \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1559</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and moved \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1560</td>
  <td class="nbHits"></td>
  <td class="src"><pre>               and ((len(zone.words) == 0) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1561</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    or zone.words[self.wordIndex].string.isspace()):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1562</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1563</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # If we're on whitespace in the same zone, then let's</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1564</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # try to move on.  If not, we've definitely moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1565</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # across accessibles.  If that's the case, let's try</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1566</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # to find the first 'real' word in the accessible.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1567</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # If we cannot, then we're just stuck on an accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1568</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # with no words and we should do our best to announce</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1569</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                # this to the user (e.g., "whitespace" or "blank").</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1570</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1571</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                if zone.accessible == accessible:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1572</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    moved = self.goNext(Context.WORD, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1573</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1574</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    wordIndex = self.wordIndex + 1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1575</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    while wordIndex &lt; len(zone.words):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1576</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        if (not zone.words[wordIndex].string) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1577</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            or not len(zone.words[wordIndex].string) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1578</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            or zone.words[wordIndex].string.isspace():</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1579</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            wordIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1580</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1581</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                            break</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1582</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if wordIndex &lt; len(zone.words):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1583</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1584</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1585</td>
  <td class="nbHits">6</td>
  <td class="src"><pre>            if not moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1586</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.lineIndex = lineIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1587</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.zoneIndex = zoneIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1588</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.wordIndex = wordIndex</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1589</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.charIndex = charIndex</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1590</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1591</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>        elif type == Context.LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1592</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>            if wrap &amp; Context.WRAP_LINE:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1593</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                if self.lineIndex &lt; (len(self.lines) - 1):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1594</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    self.lineIndex += 1</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1595</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    self.zoneIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1596</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    self.wordIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1597</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    self.charIndex = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1598</td>
  <td class="nbHits">9</td>
  <td class="src"><pre>                    moved = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1599</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                elif (wrap &amp; Context.WRAP_TOP_BOTTOM) \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1600</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                     and (self.lineIndex != 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1601</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.lineIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1602</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.zoneIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1603</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.wordIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1604</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        self.charIndex = 0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1605</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        moved = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1606</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1607</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1608</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1609</td>
  <td class="nbHits">21</td>
  <td class="src"><pre>        if moved and (type != Context.LINE):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1610</td>
  <td class="nbHits">12</td>
  <td class="src"><pre>            self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1611</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1612</td>
  <td class="nbHits">21</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1613</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1614</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goAbove(self, type=LINE, wrap=WRAP_ALL):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1615</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to first char</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1616</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        of the type that's closest to and above the current locus of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1617</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1618</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1619</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1620</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: LINE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1621</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - wrap: if True, will cross top/bottom boundaries; if False, will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1622</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                stop on top/bottom boundaries.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1623</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1624</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns: [string, startOffset, endOffset, x, y, width, height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1625</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1626</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1627</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        moved = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1628</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if type == Context.CHAR:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1629</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # We want to shoot for the closest character, which we've</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1630</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # saved away as self.targetCharInfo, which is the list</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1631</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # [string, x, y, width, height].</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1632</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1633</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not self.targetCharInfo:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1634</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1635</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            target = self.targetCharInfo</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1636</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1637</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            [string, x, y, width, height] = target</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1638</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            middleTargetX = x + (width / 2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1639</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1640</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            moved = self.goPrevious(Context.LINE, wrap)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1641</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1642</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                while True:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1643</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    [string, bx, by, bwidth, bheight] = \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1644</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                             self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1645</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if (bx + width) &gt;= middleTargetX:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1646</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        break</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1647</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    elif not self.goNext(Context.CHAR, Context.WRAP_NONE):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1648</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1649</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1650</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # Moving around might have reset the current targetCharInfo,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1651</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # so we reset it to our saved value.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1652</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1653</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.targetCharInfo = target</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1654</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif type == Context.LINE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1655</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            return self.goPrevious(type, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1656</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1657</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1658</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1659</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1660</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1661</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    def goBelow(self, type=LINE, wrap=WRAP_ALL):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1662</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """Moves this context's locus of interest to the first</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1663</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        char of the type that's closest to and below the current</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1664</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        locus of interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1665</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1666</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1667</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - type: one of WORD, LINE</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1668</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        - wrap: if True, will cross top/bottom boundaries; if False, will</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1669</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                stop on top/bottom boundaries.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1670</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1671</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        Returns: [string, startOffset, endOffset, x, y, width, height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1672</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1673</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1674</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        moved = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1675</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if type == Context.CHAR:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1676</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # We want to shoot for the closest character, which we've</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1677</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # saved away as self.targetCharInfo, which is the list</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1678</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # [string, x, y, width, height].</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1679</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1680</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if not self.targetCharInfo:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1681</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                self.targetCharInfo = self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1682</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            target = self.targetCharInfo</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1683</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1684</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            [string, x, y, width, height] = target</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1685</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            middleTargetX = x + (width / 2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1686</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1687</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            moved = self.goNext(Context.LINE, wrap)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1688</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            if moved:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1689</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                while True:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1690</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    [string, bx, by, bwidth, bheight] = \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1691</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                             self.getCurrent(Context.CHAR)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1692</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    if (bx + width) &gt;= middleTargetX:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1693</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        break</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1694</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                    elif not self.goNext(Context.CHAR, Context.WRAP_NONE):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1695</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                        break</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1696</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">1697</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # Moving around might have reset the current targetCharInfo,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1698</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            # so we reset it to our saved value.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1699</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1700</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            self.targetCharInfo = target</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1701</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        elif type == Context.LINE:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1702</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            moved = self.goNext(type, wrap)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1703</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1704</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            raise Exception("Invalid type: %d" % type)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">1705</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">1706</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return moved</pre></td>
</tr>

</tbody>
</table>


<p class="footer">
Report generated by <a href="http://cheeseshop.python.org/pypi/trace2html"
>trace2html</a> on 2007-03-07 09:42:32.826398.
</p>

</body>

</html>
