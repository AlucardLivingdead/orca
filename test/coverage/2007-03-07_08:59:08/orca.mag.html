<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>Coverage Report - orca.mag</title>
  <link title="Style" type="text/css" rel="stylesheet" href="trace2html.css"/>
  <script type="text/javascript" src="sortabletable.js"></script>
</head>

<body>
<h1>Coverage Report - orca.mag</h1>

<table id="summary" class="summary">
<thead>
  <tr><td>Module</td><td>Coverage %</td></tr>
</thead>
<tbody>
<tr class=even>
  <td class="moduleName">
    <a href="orca.mag.html">orca.mag</a></td>
  <td class="percent">
    <div class="coveragePercent">
      16%
    </div>
    <div class="coverageBar">
      <div class="inCoverageBar" style="width: 16%">
      </div>
    </div>
  </td>
</tr>

</tbody>
</table>
<script type="text/javascript">
var packageTable = new SortableTable(document.getElementById("summary"),
    ["String", "Percentage"]);
packageTable.sort(0);
</script>


<table class="srcCode">
<tbody>
<tr class="">
  <td class="nbLine">1</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Orca</pre></td>
</tr>
<tr class="">
  <td class="nbLine">2</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">3</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Copyright 2005-2007 Sun Microsystems Inc.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">4</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">5</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is free software; you can redistribute it and/or</pre></td>
</tr>
<tr class="">
  <td class="nbLine">6</td>
  <td class="nbHits"></td>
  <td class="src"><pre># modify it under the terms of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">7</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License as published by the Free Software Foundation; either</pre></td>
</tr>
<tr class="">
  <td class="nbLine">8</td>
  <td class="nbHits"></td>
  <td class="src"><pre># version 2 of the License, or (at your option) any later version.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">9</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">10</td>
  <td class="nbHits"></td>
  <td class="src"><pre># This library is distributed in the hope that it will be useful,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">11</td>
  <td class="nbHits"></td>
  <td class="src"><pre># but WITHOUT ANY WARRANTY; without even the implied warranty of</pre></td>
</tr>
<tr class="">
  <td class="nbLine">12</td>
  <td class="nbHits"></td>
  <td class="src"><pre># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</pre></td>
</tr>
<tr class="">
  <td class="nbLine">13</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Library General Public License for more details.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">14</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">15</td>
  <td class="nbHits"></td>
  <td class="src"><pre># You should have received a copy of the GNU Library General Public</pre></td>
</tr>
<tr class="">
  <td class="nbLine">16</td>
  <td class="nbHits"></td>
  <td class="src"><pre># License along with this library; if not, write to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">17</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Free Software Foundation, Inc., 59 Temple Place - Suite 330,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">18</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Boston, MA 02111-1307, USA.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">19</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">20</td>
  <td class="nbHits"></td>
  <td class="src"><pre>"""Manages the magnifier for orca.  [[[TODO: WDW - this is very very</pre></td>
</tr>
<tr class="">
  <td class="nbLine">21</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>early in development.  One might even say it is pre-prototype.]]]"""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">22</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">23</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__id__        = "$Id: mag.py 2076 2007-03-02 23:01:44Z wwalker $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">24</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__version__   = "$Revision: 2076 $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">25</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__date__      = "$Date: 2007-03-02 15:01:44 -0800 (Fri, 02 Mar 2007) $"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">26</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__copyright__ = "Copyright (c) 2005-2007 Sun Microsystems Inc."</pre></td>
</tr>
<tr class="">
  <td class="nbLine">27</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>__license__   = "LGPL"</pre></td>
</tr>
<tr class="">
  <td class="nbLine">28</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">29</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import bonobo</pre></td>
</tr>
<tr class="">
  <td class="nbLine">30</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">31</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # This can fail due to gtk not being available.  We want to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">32</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # be able to recover from that if possible.  The main driver</pre></td>
</tr>
<tr class="">
  <td class="nbLine">33</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # for this is to allow "orca --text-setup" to work even if</pre></td>
</tr>
<tr class="">
  <td class="nbLine">34</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the desktop is not running.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">35</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">36</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    import gtk</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">37</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">38</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">39</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import time</pre></td>
</tr>
<tr class="">
  <td class="nbLine">40</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">41</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import atspi</pre></td>
</tr>
<tr class="">
  <td class="nbLine">42</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import debug</pre></td>
</tr>
<tr class="">
  <td class="nbLine">43</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import settings</pre></td>
</tr>
<tr class="">
  <td class="nbLine">44</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">45</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_magnifierAvailable = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">46</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">47</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>try:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">48</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    atspi.ORBit.load_typelib('GNOME_Magnifier')</pre></td>
</tr>
<tr class="">
  <td class="nbLine">49</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    import GNOME.Magnifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">50</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    _magnifierAvailable = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">51</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">52</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">53</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">54</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>import time</pre></td>
</tr>
<tr class="">
  <td class="nbLine">55</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">56</td>
  <td class="nbHits"></td>
  <td class="src"><pre># If True, this module has been initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">57</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">58</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_initialized = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">59</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">60</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The Magnifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">61</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">62</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_magnifier = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">63</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">64</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The width and height, in unzoomed system coordinates of the rectangle that,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">65</td>
  <td class="nbHits"></td>
  <td class="src"><pre># when magnified, will fill the viewport of the magnifier - this needs to be</pre></td>
</tr>
<tr class="">
  <td class="nbLine">66</td>
  <td class="nbHits"></td>
  <td class="src"><pre># sync'd with the magnification factors of the zoom area.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">67</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">68</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_roiWidth = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">69</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_roiHeight = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">70</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">71</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Minimum values for the center of the ROI</pre></td>
</tr>
<tr class="">
  <td class="nbLine">72</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">73</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_minROIX = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">74</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_maxROIX = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">75</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_minROIY = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">76</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_maxROIY = 0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">77</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">78</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The current region of interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">79</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">80</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_roi = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">81</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">82</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The area we are magnifying</pre></td>
</tr>
<tr class="">
  <td class="nbLine">83</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">84</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_sourceDisplayBounds = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">85</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">86</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The area where we are magnifying</pre></td>
</tr>
<tr class="">
  <td class="nbLine">87</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">88</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_targetDisplayBounds = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">89</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">90</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The ZoomRegion we care about [[[TODO: WDW - we should be more careful about</pre></td>
</tr>
<tr class="">
  <td class="nbLine">91</td>
  <td class="nbHits"></td>
  <td class="src"><pre># just what we're doing here.  The Magnifier allows more than one ZoomRegion</pre></td>
</tr>
<tr class="">
  <td class="nbLine">92</td>
  <td class="nbHits"></td>
  <td class="src"><pre># and we're just picking up the first one.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">93</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">94</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_zoomer = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">95</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">96</td>
  <td class="nbHits"></td>
  <td class="src"><pre># The time of the last mouse event.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">97</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">98</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_lastMouseEventTime = time.time()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">99</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">100</td>
  <td class="nbHits"></td>
  <td class="src"><pre># If True, we're using gnome-mag &gt;= 0.13.1 that allows us to control</pre></td>
</tr>
<tr class="">
  <td class="nbLine">101</td>
  <td class="nbHits"></td>
  <td class="src"><pre># where to draw the cursor and crosswires.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">102</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">103</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>_pollMouseDisabled = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">104</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">105</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __setROI(rect):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">106</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Sets the region of interest.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">107</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">108</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">109</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - rect: A GNOME.Magnifier.RectBounds object.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">110</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">111</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">112</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _roi</pre></td>
</tr>
<tr class="">
  <td class="nbLine">113</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">114</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _roi = rect</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">115</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _zoomer.setROI(_roi)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">116</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _zoomer.markDirty(_roi)  # [[[TODO: WDW - for some reason, this seems</pre></td>
</tr>
<tr class="">
  <td class="nbLine">117</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                             # necessary.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">118</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __setROICenter(x, y):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">119</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Centers the region of interest around the given point.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">120</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">121</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">122</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - x: integer in unzoomed system coordinates representing x component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">123</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - y: integer in unzoomed system coordinates representing y component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">124</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">125</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">126</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">127</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">128</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">129</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if x &lt; _minROIX:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">130</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        x = _minROIX</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">131</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif x &gt; _maxROIX:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">132</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        x = _maxROIX</pre></td>
</tr>
<tr class="">
  <td class="nbLine">133</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">134</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if y &lt; _minROIY:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">135</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        y = _minROIY</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">136</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif y &gt; _maxROIY:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">137</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        y = _maxROIY</pre></td>
</tr>
<tr class="">
  <td class="nbLine">138</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">139</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    x1 = x - (_roiWidth / 2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">140</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    y1 = y - (_roiHeight / 2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">141</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">142</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    x2 = x1 + _roiWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">143</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    y2 = y1 + _roiHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">144</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">145</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    __setROI(GNOME.Magnifier.RectBounds(x1, y1, x2, y2))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">146</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">147</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __setROIPush(x, y):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">148</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Nudges the ROI if the pointer bumps into the edge of it.  The point</pre></td>
</tr>
<tr class="">
  <td class="nbLine">149</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    given is assumed to be the point where the mouse pointer is.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">150</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">151</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">152</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - x: integer in unzoomed system coordinates representing x component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">153</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - y: integer in unzoomed system coordinates representing y component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">154</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">155</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">156</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    needNewROI = False</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">157</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    newROI = GNOME.Magnifier.RectBounds(_roi.x1, _roi.y1, _roi.x2, _roi.y2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">158</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if x &lt; _roi.x1:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">159</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        needNewROI = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">160</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.x1 = x</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">161</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.x2 = x + _roiWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">162</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif x &gt; _roi.x2:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">163</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        needNewROI = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">164</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.x2 = x</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">165</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.x1 = x - _roiWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">166</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if y &lt; _roi.y1:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">167</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        needNewROI = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">168</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.y1 = y</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">169</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.y2 = y + _roiHeight</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">170</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif y &gt; _roi.y2:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">171</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        needNewROI = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">172</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.y2 = y</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">173</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        newROI.y1 = y - _roiHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">174</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">175</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Well...we'll always update the ROI so the new gnome-mag API</pre></td>
</tr>
<tr class="">
  <td class="nbLine">176</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # will redraw the crosswires for us.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">177</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">178</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #if needNewROI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">179</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if True:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">180</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROI(newROI)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">181</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">182</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __setROIProportional(x, y):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">183</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Positions the ROI proportionally to where the pointer is on the screen.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">184</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">185</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">186</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - x: integer in unzoomed system coordinates representing x component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">187</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - y: integer in unzoomed system coordinates representing y component</pre></td>
</tr>
<tr class="">
  <td class="nbLine">188</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">189</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">190</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">191</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">192</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">193</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if not _sourceDisplayBounds:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">194</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROICenter(x, y)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">195</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">196</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        halfScreenWidth  = (_sourceDisplayBounds.x2 \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">197</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            - _sourceDisplayBounds.x1) / 2.0</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">198</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        halfScreenHeight = (_sourceDisplayBounds.y2 \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">199</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                            - _sourceDisplayBounds.y1) / 2.0</pre></td>
</tr>
<tr class="">
  <td class="nbLine">200</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">201</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        proportionX = (halfScreenWidth  - x) / halfScreenWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">202</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        proportionY = (halfScreenHeight - y) / halfScreenHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">203</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">204</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        centerX = x + int(proportionX * _roiWidth  / 2.0)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">205</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        centerY = y + int(proportionY * _roiHeight / 2.0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">206</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">207</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROICenter(centerX, centerY)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">208</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">209</td>
  <td class="nbHits"></td>
  <td class="src"><pre># Used for tracking the pointer.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">210</td>
  <td class="nbHits"></td>
  <td class="src"><pre>#</pre></td>
</tr>
<tr class="">
  <td class="nbLine">211</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __onMouseEvent(e):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">212</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">213</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">214</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - e: at-spi event from the at-api registry</pre></td>
</tr>
<tr class="">
  <td class="nbLine">215</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">216</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">217</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _lastMouseEventTime</pre></td>
</tr>
<tr class="">
  <td class="nbLine">218</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">219</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _lastMouseEventTime = time.time()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">220</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">221</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    [x, y] = [e.detail1, e.detail2]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">222</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">223</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If True, we're using gnome-mag &gt;= 0.13.1 that allows us to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">224</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # control where to draw the cursor and crosswires.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">225</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">226</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if _pollMouseDisabled:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">227</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _zoomer.setPointerPos(x, y)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">228</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">229</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.magMouseTrackingMode == settings.MAG_MOUSE_TRACKING_MODE_PUSH:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">230</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROIPush(x, y)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">231</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif settings.magMouseTrackingMode == settings.MAG_MOUSE_TRACKING_MODE_PROPORTIONAL:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">232</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROIProportional(x, y)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">233</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif settings.magMouseTrackingMode == settings.MAG_MOUSE_TRACKING_MODE_CENTERED:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">234</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        __setROICenter(x, y)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">235</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">236</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __getValueText(slot, value):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">237</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    valueText = ""</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">238</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if slot == "cursor-hotspot":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">239</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        valueText = "(%d, %d)" % (value.x, value.y)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">240</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif slot == "source-display-bounds":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">241</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        valueText = "(%d, %d),(%d, %d)" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">242</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    % (value.x1, value.y1, value.x2, value.y2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">243</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif slot == "target-display-bounds":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">244</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        valueText = "(%d, %d),(%d, %d)" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">245</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    % (value.x1, value.y1, value.x2, value.y2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">246</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif slot == "viewport":</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">247</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        valueText = "(%d, %d),(%d, %d)" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">248</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    % (value.x1, value.y1, value.x2, value.y2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">249</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return valueText</pre></td>
</tr>
<tr class="">
  <td class="nbLine">250</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">251</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def __dumpPropertyBag(obj):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">252</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    pbag = obj.getProperties()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">253</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    slots = pbag.getKeys("")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">254</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    print "  Available slots: ", pbag.getKeys("")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">255</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    for slot in slots:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">256</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # These crash the magnifier since it doesn't know how to marshall</pre></td>
</tr>
<tr class="">
  <td class="nbLine">257</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        # them to us.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">258</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">259</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if slot in ["cursor-set", "smoothing-type"]:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">260</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            continue</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">261</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    About '%s':" % slot</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">262</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    Doc Title:", pbag.getDocTitle(slot)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">263</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    Type:", pbag.getType(slot)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">264</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        value = pbag.getDefault(slot).value()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">265</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    Default value:", value, __getValueText(slot, value)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">266</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        value = pbag.getValue(slot).value()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">267</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print "    Current value:", value, __getValueText(slot, value)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">268</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        print</pre></td>
</tr>
<tr class="">
  <td class="nbLine">269</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">270</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def applySettings():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">271</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Looks at the user settings and applies them to the magnifier."""</pre></td>
</tr>
<tr class="">
  <td class="nbLine">272</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">273</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _sourceDisplayBounds</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">274</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _targetDisplayBounds</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">275</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _zoomer</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">276</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _roiWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">277</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _roiHeight</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">278</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _minROIX</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">279</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _minROIY</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">280</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _maxROIX</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">281</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _maxROIY</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">282</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _pollMouseDisabled</pre></td>
</tr>
<tr class="">
  <td class="nbLine">283</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">284</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    ########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">285</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">286</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # First set up the magnifier properties.                               #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">287</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">288</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    ########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">289</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">290</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier.clearAllZoomRegions()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">291</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">292</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">293</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _magnifier.TargetDisplay = settings.magTargetDisplay</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">294</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">295</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">296</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">297</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">298</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _magnifier.SourceDisplay = settings.magSourceDisplay</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">299</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">300</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">301</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">302</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    magnifierPBag = _magnifier.getProperties()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">303</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">304</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">305</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        tdb = magnifierPBag.getValue("target-display-bounds").value()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">306</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        magnifierPBag.setValue(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">307</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            "target-display-bounds",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">308</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            atspi.ORBit.CORBA.Any(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">309</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                atspi.ORBit.CORBA.TypeCode(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">310</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                    tdb.__typecode__.repo_id),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">311</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                GNOME.Magnifier.RectBounds(settings.magZoomerLeft,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">312</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                           settings.magZoomerTop,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">313</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                           settings.magZoomerRight,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">314</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                           settings.magZoomerBottom)))</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">315</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">316</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_OFF)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">317</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">318</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.enableMagCursor:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">319</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_float(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">320</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "cursor-scale-factor", 1.0 * settings.magZoomFactor)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">321</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">322</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_float(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">323</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "cursor-scale-factor", 0.0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">324</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">325</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.enableMagCursorExplicitSize:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">326</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_long(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">327</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "cursor-size", settings.magCursorSize)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">328</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">329</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_long(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">330</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "cursor-size", 0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">331</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">332</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    bonobo.pbclient_set_string(magnifierPBag, "cursor-set", "default")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">333</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">334</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Convert the colorPreference string to something we can use.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">335</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # The main issue here is that the color preferences are saved</pre></td>
</tr>
<tr class="">
  <td class="nbLine">336</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # as 4 byte values per color.  We only need 2 bytes, so we</pre></td>
</tr>
<tr class="">
  <td class="nbLine">337</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # get rid of the bottom 8 bits.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">338</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">339</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    colorPreference = gtk.gdk.color_parse(settings.magCursorColor)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">340</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    colorPreference.red   = colorPreference.red   &gt;&gt; 8</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">341</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    colorPreference.blue  = colorPreference.blue  &gt;&gt; 8</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">342</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    colorPreference.green = colorPreference.green &gt;&gt; 8</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">343</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    colorString = "0x%02X%02X%02X" \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">344</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                  % (colorPreference.red,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">345</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                     colorPreference.green,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">346</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                     colorPreference.blue)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">347</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">348</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    color = magnifierPBag.getValue("cursor-color")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">349</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    magnifierPBag.setValue(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">350</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        "cursor-color",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">351</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        atspi.ORBit.CORBA.Any(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">352</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            color.typecode(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">353</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            long(colorString, 0)))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">354</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">355</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    color = magnifierPBag.getValue("crosswire-color")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">356</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    magnifierPBag.setValue(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">357</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        "crosswire-color",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">358</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        atspi.ORBit.CORBA.Any(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">359</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            color.typecode(),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">360</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            long(colorString, 0)))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">361</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">362</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.enableMagCrossHair:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">363</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_long(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">364</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "crosswire-size", settings.magCrossHairSize)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">365</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">366</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_long(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">367</td>
  <td class="nbHits"></td>
  <td class="src"><pre>            magnifierPBag, "crosswire-size", 0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">368</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">369</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    bonobo.pbclient_set_boolean(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">370</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        magnifierPBag, "crosswire-clip", settings.enableMagCrossHairClip)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">371</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">372</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    ########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">373</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">374</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Now set up the zoomer properties.                                    #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">375</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #                                                                      #</pre></td>
</tr>
<tr class="">
  <td class="nbLine">376</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    ########################################################################</pre></td>
</tr>
<tr class="">
  <td class="nbLine">377</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">378</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _sourceDisplayBounds = magnifierPBag.getValue(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">379</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        "source-display-bounds").value()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">380</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">381</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _targetDisplayBounds = magnifierPBag.getValue(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">382</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        "target-display-bounds").value()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">383</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">384</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _zoomer = _magnifier.createZoomRegion(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">385</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        settings.magZoomFactor, settings.magZoomFactor,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">386</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        GNOME.Magnifier.RectBounds(0,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">387</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   0,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">388</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   -1,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">389</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   -1),</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">390</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        GNOME.Magnifier.RectBounds(0,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">391</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   0,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">392</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   _targetDisplayBounds.x2 \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">393</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                   - _targetDisplayBounds.x1,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">394</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   _targetDisplayBounds.y2 \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">395</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                                   - _targetDisplayBounds.y1))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">396</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">397</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    zoomerPBag = _zoomer.getProperties()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">398</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    bonobo.pbclient_set_boolean(zoomerPBag, "is-managed", True)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">399</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">400</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Try to use gnome-mag &gt;= 0.13.1 to allow us to control where to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">401</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # draw the cursor and crosswires.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">402</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">403</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">404</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        bonobo.pbclient_set_boolean(zoomerPBag, "poll-mouse", False)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">405</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _pollMouseDisabled = True</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">406</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">407</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _pollMouseDisabled = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">408</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">409</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _zoomer.setMagFactor(settings.magZoomFactor, settings.magZoomFactor)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">410</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">411</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    bonobo.pbclient_set_boolean(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">412</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        zoomerPBag, "inverse-video", settings.enableMagZoomerColorInversion)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">413</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">414</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if settings.magSmoothingMode == settings.MAG_SMOOTHING_MODE_BILINEAR:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">415</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">416</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            bonobo.pbclient_set_string(</pre></td>
</tr>
<tr class="">
  <td class="nbLine">417</td>
  <td class="nbHits"></td>
  <td class="src"><pre>                zoomerPBag, "smoothing-type", "bilinear")</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">418</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">419</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            pass</pre></td>
</tr>
<tr class="">
  <td class="nbLine">420</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">421</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    viewport = zoomerPBag.getValue("viewport").value()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">422</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">423</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    magx = zoomerPBag.getValue("mag-factor-x").value()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">424</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    magy = zoomerPBag.getValue("mag-factor-y").value()</pre></td>
</tr>
<tr class="">
  <td class="nbLine">425</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">426</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _roiWidth = (viewport.x2 - viewport.x1) / magx</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">427</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _roiHeight = (viewport.y2 - viewport.y1) / magy</pre></td>
</tr>
<tr class="">
  <td class="nbLine">428</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">429</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _minROIX = _sourceDisplayBounds.x1 + (_roiWidth / 2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">430</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _minROIY = _sourceDisplayBounds.y1 + (_roiHeight / 2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">431</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">432</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _maxROIX = _sourceDisplayBounds.x2 - (_roiWidth / 2)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">433</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _maxROIY = _sourceDisplayBounds.y2 - (_roiHeight / 2)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">434</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">435</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier.addZoomRegion(_zoomer)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">436</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">437</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #print "MAGNIFIER PROPERTIES:", _magnifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">438</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #__dumpPropertyBag(_magnifier)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">439</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #print "ZOOMER PROPERTIES:", _zoomer</pre></td>
</tr>
<tr class="">
  <td class="nbLine">440</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #__dumpPropertyBag(_zoomer)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">441</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">442</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def magnifyAccessible(event, obj, extents=None):</pre></td>
</tr>
<tr class="">
  <td class="nbLine">443</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Sets the region of interest to the upper left of the given</pre></td>
</tr>
<tr class="">
  <td class="nbLine">444</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    accessible, if it implements the Component interface.  Otherwise,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">445</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    does nothing.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">446</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">447</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Arguments:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">448</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - event: the Event that caused this to be called</pre></td>
</tr>
<tr class="">
  <td class="nbLine">449</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    - obj: the accessible</pre></td>
</tr>
<tr class="">
  <td class="nbLine">450</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">451</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">452</td>
  <td class="nbHits">1732</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">453</td>
  <td class="nbHits">1732</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">454</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">455</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if extents:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">456</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [x, y, width, height] = extents</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">457</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif event and (event.type == "object:text-caret-moved") \</pre></td>
</tr>
<tr class="">
  <td class="nbLine">458</td>
  <td class="nbHits"></td>
  <td class="src"><pre>       and obj.text and (obj.text.caretOffset &gt;= 0):</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">459</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        offset = obj.text.caretOffset</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">460</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [x, y, width, height] = obj.text.getCharacterExtents(offset,</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">461</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                                             0) # coord type screen</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">462</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif obj.extents:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">463</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        extents = obj.extents</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">464</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        [x, y, width, height] = [extents.x, extents.y, extents.width, extents.height]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">465</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">466</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">467</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">468</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Avoid jerking the display around if the mouse is what ended up causing</pre></td>
</tr>
<tr class="">
  <td class="nbLine">469</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # this event.  We guess this by seeing if this request has come in within</pre></td>
</tr>
<tr class="">
  <td class="nbLine">470</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # a close period of time.  [[[TODO: WDW - this is a hack and really</pre></td>
</tr>
<tr class="">
  <td class="nbLine">471</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # doesn't belong here.  Plus, the delta probably should be adjustable.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">472</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">473</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    currentTime = time.time()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">474</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if (currentTime - _lastMouseEventTime) &lt; 0.2: # 200 milliseconds</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">475</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return</pre></td>
</tr>
<tr class="">
  <td class="nbLine">476</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">477</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Determine if the accessible is partially to the left, right,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">478</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # above, or below the current region of interest (ROI).</pre></td>
</tr>
<tr class="">
  <td class="nbLine">479</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">480</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    leftOfROI = x &lt; _roi.x1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">481</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    rightOfROI = (x + width) &gt; _roi.x2</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">482</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    aboveROI = y &lt; _roi.y1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">483</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    belowROI = (y + height) &gt; _roi.y2</pre></td>
</tr>
<tr class="">
  <td class="nbLine">484</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">485</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # If it is already completely showing, do nothing.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">486</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">487</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    visibleX = not(leftOfROI or rightOfROI)</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">488</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    visibleY = not(aboveROI or belowROI)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">489</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">490</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if visibleX and visibleY:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">491</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        _zoomer.markDirty(_roi)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">492</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">493</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # The algorithm is devised to move the ROI as little as possible, yet</pre></td>
</tr>
<tr class="">
  <td class="nbLine">494</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # favor the top left side of the object [[[TODO: WDW - the left/right</pre></td>
</tr>
<tr class="">
  <td class="nbLine">495</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # top/bottom favoring should probably depend upon the locale.  Also,</pre></td>
</tr>
<tr class="">
  <td class="nbLine">496</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # I had the notion of including a floating point snap factor between</pre></td>
</tr>
<tr class="">
  <td class="nbLine">497</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # 0.0 and 1.0 that would determine how to position the object in the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">498</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # window relative to the ROI edges.  A snap factor of -1 would mean to</pre></td>
</tr>
<tr class="">
  <td class="nbLine">499</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # snap to the closest edge.  A snap factor of 0.0 would snap to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">500</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # left most or top most edge, a snap factor of 1.0 would snap to the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">501</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # right most or bottom most edge.  Any number in between would divide</pre></td>
</tr>
<tr class="">
  <td class="nbLine">502</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # the two.]]]</pre></td>
</tr>
<tr class="">
  <td class="nbLine">503</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">504</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    x1 = _roi.x1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">505</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    x2 = _roi.x2</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">506</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    y1 = _roi.y1</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">507</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    y2 = _roi.y2</pre></td>
</tr>
<tr class="">
  <td class="nbLine">508</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">509</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if leftOfROI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">510</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        x1 = x</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">511</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        x2 = x1 + _roiWidth</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">512</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif rightOfROI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">513</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if width &gt; _roiWidth:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">514</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            x1 = x</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">515</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            x2 = x1 + _roiWidth</pre></td>
</tr>
<tr class="">
  <td class="nbLine">516</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">517</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            x2 = x + width</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">518</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            x1 = x2 - _roiWidth</pre></td>
</tr>
<tr class="">
  <td class="nbLine">519</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">520</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if aboveROI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">521</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        y1 = y</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">522</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        y2 = y1 + _roiHeight</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">523</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    elif belowROI:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">524</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        if height &gt; _roiHeight:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">525</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            y1 = y</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">526</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            y2 = y1 + _roiHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">527</td>
  <td class="nbHits"></td>
  <td class="src"><pre>        else:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">528</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            y2 = y + height</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">529</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>            y1 = y2 - _roiHeight</pre></td>
</tr>
<tr class="">
  <td class="nbLine">530</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">531</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    __setROI(GNOME.Magnifier.RectBounds(x1, y1, x2, y2))</pre></td>
</tr>
<tr class="">
  <td class="nbLine">532</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">533</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def init():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">534</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Initializes the magnifier, bringing the magnifier up on the</pre></td>
</tr>
<tr class="">
  <td class="nbLine">535</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    display.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">536</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">537</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the initialization procedure was run or False if this</pre></td>
</tr>
<tr class="">
  <td class="nbLine">538</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    module has already been initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">539</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">540</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">541</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _initialized</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">542</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _magnifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">543</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">544</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if not _magnifierAvailable:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">545</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">546</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">547</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    if _initialized:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">548</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">549</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">550</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier = bonobo.get_object("OAFIID:GNOME_Magnifier_Magnifier:0.9",</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">551</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>                                   "GNOME/Magnifier/Magnifier")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">552</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">553</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    try:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">554</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        applySettings()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">555</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    except:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">556</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        debug.printException(debug.LEVEL_SEVERE)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">557</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">558</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    atspi.Registry().registerEventListener(__onMouseEvent, "mouse:abs")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">559</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">560</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _initialized = True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">561</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">562</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    # Zoom to the upper left corner of the display for now.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">563</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    #</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">564</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    __setROICenter(0, 0)</pre></td>
</tr>
<tr class="">
  <td class="nbLine">565</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">566</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>
<tr class="">
  <td class="nbLine">567</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">568</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>def shutdown():</pre></td>
</tr>
<tr class="">
  <td class="nbLine">569</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """Shuts down the magnifier module.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">570</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    Returns True if the shutdown procedure was run or False if this</pre></td>
</tr>
<tr class="">
  <td class="nbLine">571</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    module has not been initialized.</pre></td>
</tr>
<tr class="">
  <td class="nbLine">572</td>
  <td class="nbHits"></td>
  <td class="src"><pre>    """</pre></td>
</tr>
<tr class="">
  <td class="nbLine">573</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">574</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _initialized</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">575</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    global _magnifier</pre></td>
</tr>
<tr class="">
  <td class="nbLine">576</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">577</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not _magnifierAvailable:</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">578</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">579</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="">
  <td class="nbLine">580</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>    if not _initialized:</pre></td>
</tr>
<tr class="">
  <td class="nbLine">581</td>
  <td class="nbHits">1</td>
  <td class="src"><pre>        return False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">582</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">583</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    atspi.Registry().deregisterEventListener(__onMouseEvent,"mouse:abs")</pre></td>
</tr>
<tr class="">
  <td class="nbLine">584</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">585</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier.clearAllZoomRegions()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">586</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier.dispose()</pre></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">587</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _magnifier = None</pre></td>
</tr>
<tr class="">
  <td class="nbLine">588</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">589</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    _initialized = False</pre></td>
</tr>
<tr class="">
  <td class="nbLine">590</td>
  <td class="nbHits"></td>
  <td class="src"></td>
</tr>
<tr class="uncovered">
  <td class="nbLine">591</td>
  <td class="nbHits">0</td>
  <td class="src"><pre>    return True</pre></td>
</tr>

</tbody>
</table>


<p class="footer">
Report generated by <a href="http://cheeseshop.python.org/pypi/trace2html"
>trace2html</a> on 2007-03-07 09:42:32.033725.
</p>

</body>

</html>
